
--- Page 1 ---
ICS 43.040

COST 8 cl  =)
=

中华人民共和国国家标准

GB/T 43267—2023

道路车辆 预期功能安全

Road vehicles—Safety of the intended functionality

CISO 21448 :2022,MOD)

2023-11-27 发布                                             2023-11-27 实施

HE
py Pel
RE
at

PoE
TB og
i me

--- Page 2 ---

--- Page 3 ---
GB/T 43267一2023

BUDS 。seeeeeeeeeeeee sce asenss sos nesase neance acs acecescsessescscsscescsscsscescencencencssces Vi
预期功能安全活动概述和组织
4.2 ”预期功能安全的原理 pp
4.3 本文件的使用…:
4.4 预期功能安全活动管理和支持过程
5.2 功能规范的定义和对设计的考虑
5.3 ”系统设计和架构的考虑 ee 17
4 人性能局限和应对措施的考虑

危害的识别和评估…。
6.1 目的…
6.3 危害识别 …'
6.5 “残余风险接受准则的定义 ……-。
7.1 目的…
7.2 ”概述
7.3 洪在功能不足与触发条件的分析
7.4 预估系统对触发条件的响应的可接受性 pp
修改功能以解决预期功能安全相关风险
8.3 改进预期功能安全的措施 ……。

= co

a

a

_

oo


--- Page 4 ---
GB/T 43267一2023

8.4 更新“规范定义和设计”的输入信息 .ee 3
9.1 目的ee
9.4 工作成果 .pe
10 ELIAS FRAY DPA coe ceeceecescescencescnssescescescen cos seesne cee ses cee cre cee cesses 3
10.1 FLAY cssseeeeesseeeeesesee coe eee
10.2 ”概述 …
10.3 ”感知的验证 pe
10.4 规划算法的验证 ve eee eee eee
10.5 ”执行的验证 +
10,6 ”集成系统验证 pe
10.7 已知危害场景导致的残余风险的评估38
11.1 目的
11.2 ”概述 ee
11.3 未知场景残余风险的评估
12 预期功能安全实现的评估 ……
12.1 目的
12.3 评估预期功能安全的方法和准则pe 40
12.4 预期功能安全发布推荐 …
13 ”运行阶段的活动 ee ee ee ee 4
13.2 ”概述 …
13.3 与运行观察相关的
13.4 预期功能安全问题评估和解决流程 pp
附录 A (资料性) 预期功能安全的通用指南
A.1 用目标结构表示法构建预期功能安全论证的示例 ep 4
A.2 GB/T 34590(所有部分)与本文件之间交互的说明 …

A.3 简化的预期功能安全应用示例
ll


--- Page 5 ---
GB/T 43267一2023

A.4 规范定义和设计的简化示例 ee 6
附录 B (资料性) 场景和系统分析指南 vee                                          … 80
B.1 推导预期功能安全误用场景的方法…                                   … 80
B.2 SOTIF 安全分析方法的场景因素构建示例 verre eee eee ee               + 82
B.3 ”用于识别和评估潜在触发条件和功能不足的安全分析的示例ep 90
B.4 在ADAS 和自动驾驶车辆的预期功能安全研究中应用 STPA 方法………
附录 C (资料性) 预期功能安全验证和确认指导pe
C.3 ”预期功能安全适用系统的确认 …
C.6 ”减少确认测试的考虑 …
附录 D (资料性) 关于 SOTIF 特定方面的指南 eee
D.1 驾驶策略规范指导 pe 29
D.5 感知系统性能目标量化与常见传感器性能局限举例 +
D.6 OTA 更新的预期功能安全考虑
附录下(资料性) 自动驾驶系统风险接受准则示例 …
E.1 概述 cee ceeeeecee ce eee eee eee teres eee eee see eee serene eee
E.2 ”单个子场景下风险接受准则示例 …

”120
”124

147

ill

--- Page 6 ---

--- Page 7 ---
GB/T 43267一2023

了

前

本文件按照 GB/T 1.1一2020标准化工作导则 第 1 部分:标准化文件的结构和起草规则?的规定
起草。
本文件修改采用 ISO 21448:2022人道路车辆“预期功能安全》。
本文件与 ISO 21448:2022 相比做了下述结构调整 :
一一图 2一图 17 对应 ISO 21448:2022 中的图 1一图 16;
一一表 B.7一表 B.15 对应 ISO 21448:2022 中的表 B.6一表 B.14。
本文件与 ISO 21448:2022 的技术差异及其原因如下 :
一一用规范性引用的 GB/T 34590.1一34590.12一2022 替换了 ISO 26262-1,以适应我国的技术
条件;
一一更改了术语“接受准则?的定义(见 3.1) ,便于理解该术语;
一一增加了术语“优先度子集及其定义(见 3.35),有助于支持 SOTIF 分析、验证和确认.评估活动
中,应对大量的场景和和用例，
-一增加了关于附录 E 的表述(见 4.3.1) 5
-一更改了验证和确认活动的导出方法(见表 6) 。
本文件做了下列编辑性改动 ;
-一在术语“接受准则?的定义中增加了注 2 .示例 3.注 3 和注 4(见 3.1)，
-一删除了 ISO 21448:2022 中术语“动态驾驶任务后援交后援用户”的注,术语*动态驾驶任务”
“驾驶自动化等级光场景”的注 2,术语*最小风险状态交用例”的注 3,术语*设计运行范围?的
注 2 和注 4,术语*场景快照"的注 4,术语*危害当目标和事件探测与响应交风险交不合理的风
险”的关于来源的描述;
一一在功能规范的定义和对设计的考虑中增加了注 3(见 5.2)，
一一在风险评估中增加了注 4一注 7(见 6.4) ,便于理解接受准则;
一一在残余风险接收准则的定义中增加了关于接受准则的注 5(见 6.5),有助于应用和理解如何基
于交通数据分析定义风险接受准则;
一一在潜在功能不足和潜在触发条件的识别与评估的目的中增加了注 3(见 7.1) ,有助于应用和完
善接受准则;
一一删除了 ISO 21448:2022 中关于 A.3 示例的注;
-一增加了关于 D.5 内容的注 4(见 7.3.3);
-一更改了集成和测试的定义的注 3(见 9.3)，
-一在预期功能安全问题评估和解决流程中增加了注 6(见 13.4)，
-一增加了规范定义和设计的简化示例(见 A.4) ,便于理解和应用;
-一增加了基于定量规则的场景优先度子集示例(见表 B.6) ,便于理解和应用，
一一增加了感知系统性能目标量化与常见传感器性能局限举例(见 D.5) ,便于理解和应用;
-一增加了 OTA 更新的预期功能安全考虑(见 D.6) ,有助于运行过程中对预期功能的安全考虑;
一一增加了自动驾驶系统风险接受准则示例(见附录 E) ,便于应用和完善接受准则 。
请注意本文件的某些内容可能涉及专利。本文件的发布机构不承担识别专利的责任。
本文件由中华人民共和国工业和信息化部提出。
本文件由全国汽车标准化技术委员会(SAC/TC 114)归口。


--- Page 8 ---
GB/T 43267一2023

本文件起草单位:中国汽车技术研究中心有限公司,中国第一汽车股份有限公司、华为技术有限公
司`上海商汤临港智能科技有限公司 一汽-大众汽车有限公司、极氮汽车(宁波杭州湾新区)有限公司、
上海机动车检测认证技术研究中心有限公司 .蔚来汽车科技(安徽)有限公司,长城汽车股份有限公司、
上海海拉电子有限公司、维宁尔(中国)电子有限公司 ,深圳市大疆卓见科技有限公司.北京航迹科技有
限公司.中汽创智科技有限公司`大众汽车(中国)投资有限公司 ,博世汽车部件(苏州)有限公司 .知行汽
车科技(苏州)有限公司 ,北京地平线机器人技术研发有限公司 .一汽解放汽车有限公司 .北京车和家汽
车科技有限公司、东软贮驰汽车技术(上海)有限公司 ,北京经纬恒润科技股份有限公司 .东软集团股份
有限公司 、智马达汽车有限公司 `岚图汽车科技有限公司.中车时代电动汽车股份有限公司.上海集度汽
车有限公司 .比亚迪汽车工业有限公司 ,泛亚汽车技术中心有限公司 .宇通客车股份有限公司 、合众新能
源汽车有限公司、襄阳达安汽车检测中心有限公司 ,北京新能源汽车股份有限公司 ,中国长安汽车集团
有限公司 .广州汽车集团股份有限公司、亿咖通(湖北?技术有限公司`苏州博沃创新能源科技有限公司、
重庆长安汽车软件科技有限公司 .吉利汽车研究院(宁波)有限公司`.上海禾赛科技有限公司 .联合汽车
电子有限公司 .北京国家新能源汽车技术创新中心有限公司北京百度智行科技有限公司.上海蔚来汽
车有限公司。

本文件主要起草人:李波 `尚世亮,刘航、白晓宇`刘宇、付越,周林、王宇、王潇屹,张伟谦、王嘉浩、
FARR Tyee ASAE BH SCT OTE AP RD AR BE TIO i BE IL HH GT ARS TBE AS
SRILA. EDT Ty PAS ARS fe EDS RB SS REESE A IRE HR CAL
GRIT. ES XU BW BE TA TE UE BR AST AB BE OW TBE ASX AE
陈勇、周宏伟.王建斌、任夏楠 iA BE OSA EE BE UOC IE RK HG BR


--- Page 9 ---
GB/T 43267一2023

了

引

道路车辆的安全是道路车辆行业最为关注的问题。车辆上包含的自动驾驶功能的数量逐渐增
加,而这些功能依赖于由电气/电子(E/E)系统实现的感知,复杂算法进行处理和执行。

可接受的道路车辆安全水平指不存在因预期功能及其实现相关的任何危害而导致的不合理风
险,包括由失效引起的危害和由规范定义不足或性能局限而引起的危害。

为了实现功能安全,GB/VT 34590.1一2022 将功能安全定义为不存在因电气/电子(E/E)系统的功
能异常表现引起的危害而导致的不合理风险。GB/VT 34590.3一2022 描述了如何开展危害分析和风险
评估(HARA)以确定整车层面的危害及其安全目标。GB/T 34590 的其他部分提供了避免和控制可能
违背安全目标的随机硬件失效和系统性失效的要求和建议。

对于一些电气/电子(E/E)系统,例如依靠感知车辆外部或内部环境来建立态势感知的系统,尽管
没有发生 GB/T 34590(所有部分)中提到的故障,但其预期功能及实现仍可能会导致危害行为,造成此
类潜在危害行为的原因,举例来说,包括:

-一功能无法正确感知环境，

一一功能.系统和算法在传感器输入变化 .融合策略或不同环境条件等方面缺乏鲁棒性;

一一由于决策算法和/或人的不同期望而导致的非预期的行为。

尤其是这些因素与使用机器学习的功能.系统和算法有关。

不存在因功能不足引起的危害行为导致的不合理风险被定义为预期功能安全(SOTIF)。功能安
全[GB/T 34590(所有部分)所指的]和预期功能安全在安全方面是互补的(见 A.2,以更好地理解
GB/T 34590(所有部分)和本文件的各自范围) 。

为解决 SOTIF 问题 ,在以下阶段实施消除危害或降低风险的措施，

一一规范定义和设计阶段，

示例 1: 在开展 SOTIF 活动的过程中,通过识别出的系统不足或危害场景,对车辆功能或传感器性能要求进行
修改。

-一验证和确认阶段;

示例 2: 技术评审、对相关场景具有高覆盖率的测试用例 ,潜在触发条件的注人、选定 SOTIF 相关场景的在环测试
[例如:软件在环(SIL) ,硬件在环C(HIL) ,模型在环(MIL)] 。

示例 3: 车辆长期道路测试,车辆场地测试.仿真测试。

一一运行阶段。

示例4, SOTIF 事件的现场监控。

这些危害可被场景中的特定条件(即触发条件)触发,触发条件可包括预期功能的可合理预见的误
用。此外,与其他整车层面功能的交互可能会导致危害(例如,在自动驾驶功能激活时,触发驻车制动) 。

因此,用户正确理解功能及其行为和局限性(包括人机交互)对于确保安全至关重要 。

示例 5: 驾驶员在使用 L2 级驾驶自动化系统时注意力不集中。

示例 6: 模式混淆(例如,当某功能未激活时,驾驶员认为该功能已激活)可能直接导致危害。

注 1: 可合理预见的误用不包括对系统运行的故意更改。

基础设施提供的信息(例如,V2X、地图) ,如果可能对 SOTIF 产生影响 ,也将作为评估功能不足的
一部分。见附录 D 中 D.4 关于 V2X 功能的指南。

示例7: 对于自动代客泊车系统,路径规划功能和目标探测功能可由基础设施和车辆共同实现。

注 2: 根据应用情况 ,在评估 SOTIF 时,基于其他技术的要素可能是相关的。

示例 8: 传感器在车辆上的位置和安装可能与避免因振动而导致的传感器输出噪声有关


--- Page 10 ---
GB/T 43267一2023

示例 9: 在评估摄像头传感器的 SOTIF 时,挡风玻璃的光学特性可能是相关的。

针对电气/电子(E/E)系统的随机硬件故障和系统性故障(包括硬件和软件故障) ,在 GB/T 34590
(所有部分)中给出了降低风险的指导 。

本文件提到的功能不足可能被认为是系统性故障,然而,应对这些功能不足的措施是本文件特有
的,同时也是对 GB/T 34590(所有部分)所述措施的补充，GB/T 34590(所有部分)假定预期功能是安
全的,且针对的是可导致偏离预期功能进而引发危害的电气/电子系统(E/E)故障。系统及其要素的要
求的获取过程可包括这两项标准的相关方面。

表 1 说明了危害事件的可能原因与现有标准的映射关系。

表 1 不同标准应对安全相关主题的概览

危害事件的原因                                 对应的标准

电气/电子(E/E)系统故障                    GB/T 34590(所有部分)

功能不足                                  本文件

不正确和不充分的人机交互(CHMD)设计(不恰
当的用户态势感知,例如,用户感到困惑,用户负
担过重 .用户注意力不集中)

基于人工智能算法的功能不足                 本文人

示例:激光雷达光束对眼睛的伤害                   例如:IEC 60825
本文件
GB/T 34590(所有部分)

利用车辆网络安全漏洞进行攻击              ISO/SAE 21434

智能基础设施和/或车辆与车辆间通信的影 | ”本文件
响,及外部系统的影响                              ISO 20077.GB/T 34590(所有部分) .GB/T 20438

本文件

GB/T 34590(所有部分)ISO 7637-2、ISO 7637-3,
ISO 11452-2 .ISO 11452-4 .ISO 10605 及其他标准

AH
欧洲人机交互原则声明5

用户或其他道路参与者的可合理预见的误用

外部因素

车辆周围环境的影响(例如,其他用户、非智能
基础设施天气、电磁干扰)


--- Page 11 ---
GB/T 43267一2023

道路车辆 预期功能安全

1 范围

本文件提供了用于确保预期功能安全(SOTIF 的通用论证框架和措施指南。预期功能安全指不
存在因预期功能不足引起的危害而导致的不合理风险,功能不足包括:

a) 整车层面预期功能规范定义的不足，

b) 系统中电气/电子要素实现的规范定义不足或性能局限。

本文件为实现和保持 SOTIF 所需的适用的设计、验证和确认措施以及在运行阶段的活动提供

本文件适用于依靠复杂传感器和处理算法进行态势感知且感知的正确性会对安全产生重要影响的
预期功能,特别是紧急干预系统的功能和驾驶自动化等级为 L1一L5 级的系统的相关功能。

本文件适用于安装在除轻便摩托车外的量产道路车辆上的包含一个或多个电气/电子(E/E)系统
的预期功能。

可合理预见的误用属于本文件的范围。此外,对于由远程用户操作或辅助车辆运行,或与后台通信
可影响车辆决策的情况,如果可能导致安全危害,也属于本文件的范围。

本文件不适用于:

-一GB/T 34590(所有部分)涵盖的故障，

-一信息安全威胁;

-一因系统技术直接导致的危害(例如,激光雷达光束对眼睛造成的伤害);

-一与触电火灾、烟雾、热.辐射.毒性、易燃性`反应性能量释放等相关的危害和类似的危害,除

非危害是直接由电气/电子(E/E)系统的预期功能引起的
-一明显违反系统预期用途的故意行为(被视为功能滥用) 。

2 规范性引用文件

下列文件中的内容通过文中的规范性引用而构成本文件必不可少的条款。其中,注日期的引用文
件,仅该日期对应的版本适用于本文件;不注日期的引用文件,其最新版本(包括所有的修改单)适用于
本文件。

GB/T 34590(所有部分) 道路车辆 功能安全

GB/T 34590.1一2022 ”道路车辆 功能安全 第1部分:术语

3 术语和定义

GB/T 34590.1一2022 界定的以及下列术语和定义适用于本文件。
3.1
接受准则 acceptance criterion
表征不存在不合理风险(3.23)水平的准则 。
注 1: 接受准则可能是定性的,也可能是定量的。例如:当某特定行为被认为是危害行为时所对应的物理参数 .每小
时的最大事件数 .最低合理可行风险水平(ALARP)等。

--- Page 12 ---
GB/T 43267一2023

示例 1: 从交通统计数据得到合理风险水平是每 X km 发生一次事故。
示例 2: 与在应用中已证明驾驶员可控的同等整车层面影响进行比较,可支持接受准则的定义。例如,由非预期的
车道保持辅助功能的干扰而引起的轨迹扰动 ,可类比为横风,以定义该功能的接受准则 。
注 2: 预期功能安全的接受准则包含两个层面:
a) 第一层:判断车辆行为是否属于危害行为而可能导致危害事件的准则 ,即危害行为接受准则;
b) 第二层:判断车辆运行过程中残余风险是否处于合理水平的准则 ,即残余风险接受准则 。
示例 3: 在使用预期功能安全接受准则进行评估过程中,可首先针对车辆某一行为或事件进行评估,判断是否构成
有风险的危害行为或危害事件;然后针对一定行驶里程或行驶时间内出现的危害行为可能导致的残余危害风险进行评
估 ,判断是否可以接受。见图 1 所示 。

或
了不可接受的行为后

第二层接受准则一一残余风险接受
第一层接受准则一一危害行为接受准则: | |准则: 判断运行过程中累积的危害
判断车辆行为是否构成危害行为        风险是否处于合理可接受的水平

:;_跟车距离(TTC)小于Js)

 1 双层接受准则的评估

BE 3: 双层接受准则的指标值可能受多方面因素(如:技术演变、场景变化.交通文明程度提升等)的影响,因而在应
用过程中接受准则及其指标值可能随着影响因素的变化而变化。
注 4: 在考虑特定功能场景的风险时 ,双层接受准则的理念可能存在融合,例如:通过基于一定时间内、某一场景下

人类驾驶员操作行为的风险统计,来定义自动驾驶功能的危害行为接受准则。 但这并不影响使用双层接受准
则对预期功能安全的评价。
3.2
行为 action

场景快照(3.27)中任何参与者所实施的单一行动或表现。

注 1: 行为/事件(3.7)的时序和场景快照是场景(3.26)定义的一部分。

示例: 自车(3.6)点亮危害报警灯。

注 2: 在该术语定义中,参与者是人员 .另一目标.另一系统或与所考虑功能相互作用的任何要素。
3.3

驾驶策略 driving policy

定义整车层面可接受的控制行为(3.2)的策略和规则。

3.4
动态驾驶任务 dynamic driving task; DDT
车辆在交通流中运行时所需的实时操作功能和决策功能。
注: 以下功能是动态驾驶任务的组成部分，
-一车辆侧向运动控制(操作)，
-一车辆纵向运动控制(操作)，
监控驾驶环境(操作和决策) ,及执行对目标与事件(3.7)的响应(操作和决策),见 OEDR(3.20);
一一运动规划(决策);
-一通过照明 ,发信号或打手势等增强可见性(决策) 。

i

--- Page 13 ---
3.5

GB/T 43267一2023

动态驾驶任务后援 DDT fallback
当发生失效或探测到功能不足(3.8)后 ,或探测到潜在危害行为时 ,为执行动态驾驶任务(3.4)或过

渡到最小风险状态(3.16)而由驾驶员或驾驶自动化系统做出的响应 。

3.6

3.7

3.8

示例: 驶离 ODD(3.21)或传感器被冰雪遗挡会导致危害行为,此时要求驾驶员做出响应。

自车 ego vehicle
装备了为实现 SOTIF(3.25)而进行分析的功能的车辆。

事件 event

在某一时刻所发生的事情。

注 1: 行为(3.2)/事件的时序和场景快照(3.27)是场景(3.26)定义的一部分。

注 2: 虽然每个行为也是一个事件 ,但不是任何事件都只是一个行为,即行为是事件的子集。
示例 1: 树倒在车辆前方 50 m 的街道上 。

示例 2: 交通灯在给定的时间变绿。

IKEA Z functional insufficiency

规范定义不足(3.12)或性能局限(3.22) 。

BE 1: 功能不足包括整车层面或系统中电气/电子要素层面的规范定义不足或性能局限。

注2: SOTIF(3.25)活动包括对功能不足的识别及对其影响的评估。根据定义(见 3.12 和 3.22) ,功能不足会导致危
害行为或无法防止 .探测及减轻可合理预见的误用(3.17)。在促成危害行为或无法防止.探测及减轻可合理
预见的误用的能力尚未被建立时,可能使用术语“潜在功能不足”。

注3: 图2一图4描述了 SOTIF 因果模型 ,涵盖以下关系:触发条件(3.30) ,功能不足,输出不足,危害行为,无法防
止 .探测及减轻可合理预见的间接误用,危害(3.11) ,危害事件(3.7)和伤害。

注 4: 对于促成伤害发生的间接误用,通常涉及两类功能不足。一类是导致系统在触发条件下产生危害行为的功能
不足,另一个类是导致无法防止.探测及减轻可合理预见的间接误用的功能不足。见图 2一图 4。

示例: 一辆配备了 L2 级高速公路驾驶辅助功能的车辆,探测驾驶员注意力不集中的驾驶员监控摄像头是该系统的

一部分。为了简化,假设以下描述为真;

-一感知要素存在功能不足,若被触发条件 1 触发,该功能不足会导致危害行为,例如,执行错误的车辆运行轨迹，
-一驾驶员监控摄像头存在功能不足,若被和甬发条件 2 触发 ,该功能不足会导致系统无法探测和减轻可合理预见的
间接误用。

为使伤害发生 ,场景(3.26)需包含 :

-一驾驶员的间接误用:驾驶员注意力不集中且未及时发现系统的危害行为,以对其进行控制，

一一触发条件 2,其导致系统无法及时探测和减轻出现的可合理预见的间接误用，

一一触发条件 1,其导致系统危害行为。

注5: 若整车层面的功能不足被触发条件触发,这将会导致人危害行为,或导致无法防止 .探测及减轻可合理预见的间
接误用。见图4中 A。

BE 6: 若要素层面的功能不足被触发条件触发,这将会导致输出不足。输出不足本身或与其他要素的一个或多个输
出不足相结合,将促成整车层面的危害行为或无法防止.探测及减轻可合理预见的间接误用。见图 4 中 B。


--- Page 14 ---
GB/T 43267一2023

危害(3.11D)”

场景(3. 26) ，含使危害
能导致伤害的条件”

危害事件不可控”

"包含使危害能导致伤害的条件的场景是伤害发生的助推因素,但不是伤害的来源。
“ 无法充分控制危害事件是伤害发生的助推因素 ,但不是伤害的来源。

行为导致

 2 危害和伤害发生的关联
合理可预见的间接误用
(3.17)
针对合理可预见的间接误
用，已定义的措施无效                                                       涉及的人员不能控
                               制危害事件 (3. 7)
非范畴内的其他因素                                                                                                                          计件的发生

外部措施无效

图3 危害事件未得到控制的原因

整车层面的危害行为

无法防止、探测及减轻合理
可预见的间接误用(3. 17)

RoE
A [RAAF 30         不足(3.8)          和唤

整车层面的危害行为

要素层面的功能|
无法防止、探测及减轻合理
可预见的间接误用

”取决于系统架构,要素层面的功能不足被认为是单点功能不足(3.28)或多点功能不足(3.19) 。
”输出不足本身或与其他要素的一个或多个输出不足相结合,促成整车层面的危害行为或无法防止 .探测及减轻可
合理预见的间接误用。

图4 SOTIF 因果模型

3.9
功能修改”functional modification
功能规范的变更。
注:“功能修改"与 GB/T 34590.1一2022 中定义的术语“修改"不同。本文件中"功能修改"在 GB/T 34590(所有部
分)术语中称为“变更”。

--- Page 15 ---
GB/T 43267一2023

3.10
后援用户。 fallback ready user
有能力操作车辆,并能在一定时间内(对处于已定义的非驾驶期间的用户是合适的?进行干预以按
要求执行动态驾驶任务后援(3.5)的用户。
3.11
危害 hazard
由整车层面危害行为导致的伤害的潜在来源。
3.12
规范定义不足 insufficiency of specification
可能不完整的规范定义,当被一个或多个触发条件(3.30)触发时,会导致危害行为或导致无法防
止\探测及减轻可合理预见的间接误用(3.17) 。
示例 1: 自适应巡航跟车距离的规范定义不完整,导致自车(3.6)未与前车保持安全距离。
示例 2: 由于规范定义的偏差,导致系统无法处理不常见的道路标识,即:不常见的道路标识不在规范定义的范围
内,因而系统不能恰当处理该标识。
注 1: 在系统生命周期的某个给定时间点上 ,规范定义不足可能是已知的,也可能是未知的。
注2: SOTIF(3.25)活动包括对规范定义不足的识别及对甚影响的评估。在促成危害行为或无法防止 .探测及减轻
可合理预见的误用的能力尚未被建立时,可能使用术语"潜在规范定义不足”。
注 3: 从规范定义.其他系统或要素的假设或系统性分析(如第 6 章包含的分析或引出 SOTIF 设计及实现所需要求
的其他分析)中街生出的要求 ,可包含在正式的数据库中,以助于确保验证。很多组织可能不认为这些要求是
“规范定义”,但对于确保 SOTIF 是必要的。本文件中使用的术语“规范定义不足包括此类衍生要求的不足。

3.13

预期行为。 intended behavior

预期功能(3.14)的行为。

注 1: 预期行为是开发者考虑了因所用组件和技术的固有特性导致的能力局限后,认为的标称功能。

注 2: 开发者定义的预期行为,尽管不代表不合理的风险(3.31) ,但可能与驾驶员对系统行为的期望不匹配。
3.14

预期功能 intended functionality

已定义的功能。

注: 预期功能是在整车层面定义的。
3.15

驾驶自动化等级 levels of driving automation

基于驾驶自动化系统能够执行动态驾驶任务的程度,根据执行动态驾驶任务(3.4)中的角色分配以
及有无设计运行范围(3.21)限制,对驾驶自动化进行的等级划分,分成 LO 级至 LS Me,

注: WH 2(参考 GB/T 40429一2021 中的表 A.1) 。

表2 驾驶自动化等级与划分要素的关系

动态驾驶任务
_                         动态驾驶任务   yey ee pe
名称     持续的侧向和   目标和事件探测    ee    设计运行范围
纵向车辆运动控制   与响应(3.20)

应急辅助          驾驶员          驾驶员及系统                          有限制
1   |  部分驾驶辅助      驾驶员和系统       驾驶员及系统          驾驶员            有限制

2   |  组合驾驶辅助         系统           驾驶员及系统          驾驶员            有限制

en

--- Page 16 ---
GB/T 43267一2023

表2 驾驶自动化等级与划分要素的关系 (续)

动态驾驶任务

动态驾驶任务       ees
持续的侧向和       目标和事件探测        后援(3.5)        设计运行范围

纵向车辆运动控制      与响应(3.20)

动态驾驶任务后

有条件自动驾驶        系统               系统                              有限制

援用户(3.10)

aren aaa |      系统             系统          有限制

完全自动驾驶         系统                                系统            无限制，

”排除商业和法规因素等限制 。

3.16
最小风险状态

minimal risk condition; MRC

当给定的行程无法完成时 ,为降低风险(3.23)所进入的车辆状态。
注 1: 这是动态驾驶任务后援(3.5)的一个预期输出。
注2: GB/T 34590(所有部分)中相似的功能安全术语是安全状态。

3.17
误用“misuse

以制造商或服务提供商不期望的方式使用。

注 1; 误用包括非故意的人员行为,但不包括故意改变系统或以造成伤害为目的而使用系统。
注 2: 误用可能源于对系统性能的过度信心。

注 3: 根据与危害行为的因果关系,有直接误用和间接误用两种误用。

注 4: 直接误用可甬

此是导致系统发生危害行为的原因,被认为是潜在的触发条件(3.30)。如果其形成了导致危害行

为发生的能力,则将其作为触发条件。 直接误用也可能是触发条件的一部分,即在直接误用后,需存在场景的

其他特定条作
示例 1: 直接误用:
示例 2: 直接误用:

用,与系统是否包含了月

在城市环境中激活用于高速公路的功能,导致车辆未探测到停车标志并做出响应的场景(3.26)。
在产品使用说明书定义的 ODD(3.21)范围之外,驾驶员激活了自动化系统。这被视为直接误
于防止在定义的 ODD 范围之外激活功能的自车(3.6)定位组件无关。

注5: 间接误用会导致对危害行为的可控性降低,或导致事故的严重度增加,或二者兼有。间接误用不被视为潜在

的触发条件，

示例 3: 间接误用:

确执行,并在必要时做;
并做出纠正无关。

示例 4: 间接误用:

重度,但不是触发条件 。

因为其自身不能导致系统的危害行为。
一个L2 级高速公路辅助系统存在已知的感知问题 ,要求驾驶员持续监控系统对 DDT(3.4)的正
4干预。间接误用是驾驶员睡着,而没有监控。该间接误用与驾驶员监控系统是否探测到此情况

当自车处于自动驾驶状态并在运动过程中,乘员解开安全带。该间接误用潜在增加了事故的严

注 6: 参考图 2一图 4。

3.18

误用场景”misuse scenario

发生误用(3.17)
3.19
多点功能不足

的场景(3.26) 。

multiple-point functional insufficiency

在一个或多个触发条件(3.30)和触发下,且仅当与其他要素的功能不足结合出现时,才会导致危害行
为或无法防止.探测及减轻合理预见的间接误用(3.17)的要素的功能不足(3.8) 。

6

--- Page 17 ---
GB/T 43267一2023

3.20
目标和事件探测与响应 object and event detection and response;OEDR
动态驾驶任务(3.4)中的任务 ,其包含监控驾驶环境并对目标和事件(3.7)执行恰当的反应,以完成
动态驾驶任务和/或动态驾驶任务后援(3.5) 。
3.21
设计运行范围operational design domain;ODD
对于给定的驾驶自动化系统,设计确定的功能运行的特定条件。
注 1: 条件是空间的,时间的,内在的或环境的。
注2: 驾驶自动化系统自身的条件,例如:车速.计算能力及感知能力,也属于 ODD 的范畴。
3.22
性能局限 performance insufficiency
技术能力局限 ,其在一个或多个触发条件(3.30)触发下,促成危害行为或无法防止.探测及减轻合
理预见的间接误用(3.17) 。
BE 1: 在系统生命周期的某个给定时间点上 ,性能局限可能是已知的,也可能是未知的。
注 2: 性能局限考虑系统中的电气/电子要素,及与实现 SOTIF(3.25)(见 3.8 注 1)相关的其他技术要素 。
注3: SOTIF 活动包括对性能局限进行识别并评估其影响。在促成危害行为或无法防止.探测及减轻可合理预见
的误用的能力尚未建立时,可能使用术语“潜在性能局限”。
示例: 技术能力局限包括有限的计算性能,有限的传感器感知范围有限的执行等。
3.23
风险 risk
伤害发生的概率及其严重度的组合。
3.24
RM reaction
场景快照(3.27)中任何参与者对行为(3.2)的反馈。
3.25
预期功能安全”safety of the intended functionality;SOTIF
不存在因预期功能(3.14)或其实现的功能不足(3.8)引起的危害(3.11)而导致不合理的风险(3.31) 。
注 1: 可能导致危害的系统危害行为,是由场景(3.26)中的触发条件(3.30)引发的(见图 2)。可合理预见的直接误
用(3.17)被认为是潜在的触发条件 。
BE 2: 在识别危害事件(3.7)时,对*预期使用和可合理预见的间接误用(3.17) "与*因规范定义不足(3.12)或性能局
限(3.22)导致的危害行为"进行结合考虑。

3.26
场景 scenario
按场景快照(3.27)的先后顺序,对几个场景快照的时间关系进行的描述,包括特定情况下受行为
(3.2) 和事件(3.7)影响的目标和取值。
注 1: 每个场景都开始于一个初始的场景快照,定义行为.事件.目标及取值,以对场景中的时间关系进行特征化。
与场景快照不同 ,场景持续了一定的时长 。
注2: 提及的“目标和取值?是预期功能的条件参数。目标是“保持在车道线以内”,取值是“行人安全的优先级高于
避免财产损失”。
3.27
场景快照 scene
环境快照,包括背景,动态要素.所有参与者和观察者的自我表征以及这些实体之间的关系。
注 1: 场景快照可能包含环境要素(状态.时间 天气、照明和其他周边条件) .道路设施或内部要素(道路或内部几何构
造、.拓扑结构质量.交通标识.道路边界等)及对象/参与者(如果适用,静态的、动态的.运动的,交互动作)。

7

--- Page 18 ---
GB/T 43267一2023

注 2: 一个包含所有实体(如风景 ,动态要素 .参与者)的包罗万象的场景快照(即客观场景或基本事实)只能在模拟
中建模。在现实世界中,场景快照是由传感器感知的。自车(3.6)或人类驾驶员感知到的场景快照是对真实
情况的不完整.不准确.不确定和潜在错误的投影。
FE 3: 场景快照也可能包含自车及实施预期功能(3.14)的系统的情况,如:胎压,用户使用情况及系统部件存在的
3.28
单点功能不足 single-point functional insufficiency
在一个或多个触发条件(3.30)和触发下 ,直接导致危害行为或无法防止 .探测及减轻可合理预见的误
用(3.17)的要素的功能不足(3.8) 。
3.29
态势感知situational awareness
对态势的理解。
3.30
触发条件 triggering condition
场景(3.26)中的特定条件,这些条件引发了系统的后续反应,这些反应促成了危害行为或无法防
止、探测及减轻可合理预见的间接误用(3.17) 。
注 1:“触发"的概念包含由多个条件逐步发生而导致危害行为或无法预防、探测及减轻可合理预见的误用的可
能性。
FE 2: 场景中的触发条件触发了功能不足(3.8) ,导致系统的后续反应。见图 2一图 4。
示例: 在高速公路上运行时,车辆自动紧急制动(AEB)系统误将道路标志识别为前车,导致了 Xg 的制动持续了
Ys。在此示例中,和触发条件是在高速公路上运行时导致误识别路标的环境条件,而AEB 具有相关的性能局限(3.22)(例
如 ,感知精度低或算法分类错误) 。
i£ 3: SOTI      5)活动包括对和触发条件进行识别并评估系统的响应。在引发相应反应的能力尚未被建立时,可能
使用术语“潜在的触发条件”。
注 4: 可合理预见的直接误用可直接引发系统的危害行为,被视为潜在的触发条件 。
注 5: 参考图 2一图 4。
3.31
不合理的风险 unreasonable risk
按照现行的安全观念,被判断为在某种环境下不可接受的风险(3.23) 。
3.32
用例 use case
一组相关场景(3.26)的描述。
注 1: 用例包括以下系统相关信息:
-一一个或几个场景;
-一功能范围(如最大允许车速 .最大允许减速度)，
一一预期行为;
一一关于环境和人员操作的假设。
注 2: 典型的用例描述不包括该用例的全部相关场景详单。相反,用这些场景的更概要的描述 。
3.33
确认目标 validation target
用于论证满足接受准则(3.1)的值。
注 1: 确认目标的定义取决于目标市场和运行场景(3.26) 。
注2: 在SOTIF(3.25)范围内,确认是一种保证,基于检查和测试,确保接受准则(对于已识别的危害)会得到实现且
具有充分的置信度水平。


--- Page 19 ---
GB/T 43267一2023

示例: 功能在Y h 的耐久运行中无危害行为,或在 X 次泊车中发生一次某种严重度的危害行为。
FE 3: 为完全满足一个给定的接受准则 ,满足多个确认目标可能是必要的。
3.34
整车层面安全策略 vehicle level safety strategy; VLSS
针对预期功能(3.14)的一组整车层面要求,用于支持设计、验证和确认活动以实现 SOTIF(3.25) 。
注: 为每个SOTIF 相关的系统定义一套整车层面安全策略是可能的。
3.35
优先度子集 “priority subset
按照一定的规则对要素的属性进行排序,所挑选出的部分要素的集合。
示例: 根据场景(3.26)要素中与预期功能不足(3.8)的相关性(触发条件) ,及这些要素的发生概率,可以给出预期功
能(3.14)的一组场景(3.26)优先度子集或用例优先度子集。
BE 1: 由于场景和用例的完整描述难以实现,优先度子集有助于支持 SOTIF(3.25)分析、验证和确认、评估活动中,应
对大量的场景和用例。
注 2: 对要素属性的排序规则可能是定性的,如与预期功能是否相关,可能是定量的,如场景要素出现的概率大小。
注3: 场景优先度子集是给定规则的场景概要描述,支持对用例和场景的分析和建立,以及对场景覆盖率的论证。

4 预期功能安全活动概述和组织

4.1 概述

4.2一4.4 提供了:

a) “预期功能安全原理的概述;

b) 关于预期功能安全活动的工作流程和使用本文件的指南

c) 关于预期功能安全活动管理和支持过程管理的指南。

本文件规定的活动适用于整车.系统和组件层面。
4.2 ”预期功能安全的原理
4.2.1 预期功能安全相关的危害事件模型

本文件的主要目的是,对用于确保所有已识别的 SOTIF 相关危害事件达到足够低的风险水平的活
动和理由进行描述 。

功能和系统规范及设计包含了相关用例,而这些用例又由多个场景组成。这些场景可能包含导致
伤害(简化的示意图见图 5,详细的示意图见图 2一图 4)的触发条件。为了避免伤害,适当的态势感知
是必要的。

触发条件”      危害行为   ()
场景，包含使危害         发生的危害事
可导致伤害的条件          件不可控"
”和触发条件包括可合理预见的直接误用。

"无法控制危害事件也可能是由于可合理预见的间接误用导致的,例如,驾驶员没有按照规定的方式监控系统。

 5 SOTIF 相关危害事件模型的示意图

示例 1: 当一个仅适用于高速公路的功能在城市环境中被激活时,该功能将难以识别和解释弱势道路使用者的

--- Page 20 ---
GB/T 43267一2023

示例 2: 对系统运行模式的错误理解,例如,系统未激活,但驾驶员误认为系统处于激活状态。在这种情况下,用于
防止这种混淆的系统人机交互的潜在不足或系统缺乏恰当的反应(如果驾驶员行为可以被监控) .可能也被视为系统的
危害行为。

注 1: 正确的态势感知依赖于:

一一对相关环境条件具有足够全面、准确的感知,对场景快照的正确理解(例如,探测停车标志) ,以及关于每
个道路参与者的状态的预测模型(例如,行驶方向.速度) 。定位、自车运动.与其他车辆或环境的通信等
信息可进一步用于态势感知。
驾驶时,适当的行为或反应(例如,遵守与停车标志相关的规则) 。
在车辆的整个运行生命周期中,可能会产生以下变化，
-一环境(例如 ,新型交通标志 .道路标记、车辆)，

一一适当的响应(例如,新交通标志要求的新驾驶行为,驾驶场景的变化 .驾驶法规的变化) 。

注2: 第 13 章描述了对此类变化的监控。

注 3: 该问题可能通过源于驾驶策略的要求来解决。见 D.1 中的示例。

在定义 ODD 和系统开发过程中(例如,风险识别.定义适当的措施) ,考虑上述这些变化,以确保运
行阶段的预期功能安全。

4.2.2 ”场景的 4个区域

在本文件中,危害场景指的是导致危害行为的场景。作为相关用例的一部分,车辆运行场景可以分
为4个区域(见图6 和图7)。

区域2:集合等于已知场景
与不安全场景的交集

区域3:集合等于不安全场
景与已知场景的补集

区域4:集合等于所有场景
中已知场景和不安全场景
并集的补集

区域1: 集合等于已知场景
与不安全场景的补集

图例:
(=)   己知场景的集合

O   不安全场景的集合

O  所有可能场景的集合

 6 场景的可视化分类

--- Page 21 ---
GB/T 43267一2023

z
=

己知安全场景(区域1)
已知不安全场景(区域2)
未知不安全场景(区域3)
未知安全场景(区域4)

OO00

图7 场景可视化分类的蔡代方案

定义区域 1、区域 2区域 3 和区域 4,旨在构建和指导对本文件的理解:
一一已知安全场景(区域 1);
一一已知不安全场景(区域 2) ;
一一未知不安全场景(区域 3)，
-一未知安全场景(区域 4) 。
示例 当存在以下任一情况时,未知区域与场景是相关的，
一一定义了洪在的触发条件(例如,极端低温不同驾驶场景的特殊组合) ,但系统的行为是未知的;
-一存在未知的触发条件(例如,概率极低的偶发事件);
-一场景的已知参数可组合成未知的潜在触发条件(例如,天气和交通条件的组合) 。
注 1: 区域 4 中的场景是未知但安全的,不会导致伤害风险。一旦区域 4 中的场景被发现(即成为已知的) ,它就会
被移至区域 1 。
该模型是一个抽象概念,其代表了 SOTIF 活动的目标,即;
-一基于对预期功能的分析 ,评估区域 2 的风险是否可接受
一一通过功能修改(见第 8 章) ,将区域 2 中引起危害行为的已知不安全场景的概率,降低到可接受
的标准，
-一通过充分的验证和确认策略(见第 9 章和第 11 章) ,将区域 3 中引起潜在危害行为的未知不安
全场景的概率,降低到可接受的标准。
注 2: 这只是一种概念性描述方法,因为这些区域的大小是不能测量的。
注3: 各区域的大小代表场景的数量大小,而不是这些场景导致的风险大小。然而,这只是一种概念性描述方法,因
为这些区域的大小并不是真正能测量的。SOTIF 的任务是为预期功能的风险足够低提供论据,场景的数量
是其中的一个方面,但不是唯一的方面。造成伤害的严重度和危害场景出现的可能性会影响预期功能的风
险,但这些并未在区域中体现。
注 4: 即使在所应用的系统开发方法中,某些 SOTIF 相关活动未计划使用场景的方法,也不会改变 SOTIF 的目
标,即,避免不合理风险。
一个给定的用例可以包含已知和未知的场景。探索每个用例的场景可以识别出以前未知的场景。
SOTIF 活动的最终目标是评估区域 2 和区域 3 中存在的潜在危害行为,并提供论据以证明这些场
景导致的残余风险足够低,即达到或低于接受准则。虽然明确评估了区域 2 中已知场景产生的风险,也
需要通过基于统计数据的测试,以论证区域 3 中未知场景产生的风险足够低。

11

--- Page 22 ---
GB/T 43267一2023

期望降低区域 2 和区域 3 的残余风险。通过不断增加区域 1(见图 8 和图 9)中的场景集合,将提高
实现 SOTIF 的信心。

区域2，集合等于已知场景
与不安全场景的交集

           »
M3: RASTREEG
景与已知场景的补集

区域4，集合等于所有场景

中已知场景和不安全场景
区域1。集合等于已知场景      并集的补集
与不安全场景的补集
举例，在开发最初始阶段
ible                                                           预期功能安全释放的目标

[人
人 全不安全场最的集合
CO 人汛所有可能场景的集合

图8 预期功能安全活动带来的场景区域演变

出

举例: 在开发最初始阶段                                             预期功能安全释放的目标
图例:
ES 己知安全场景(区域)
EB 己知不安全场景(区域2)

EE国”未知不安全场景(区域3)
   未知安全场景(区域人)

图9 预期功能安全活动带来的场景区域之间的演变蔡代表现形式
4.2.3 “感知-规划-执行"模型

本文件中,导致危害行为的可能原因,与系统能力密切相关,这些能力包括创建足够准确的环境模
型,基于环境模型做出正确决策并推导出正确的控制动作,以及执行该控制行为。

关键系统要素及其交互由"感知-规划-执行?模型表示(见图 10)。“感知?要素执行感知部分(包括
定位),即依据从车辆外部和内部环境以及车辆和系统状态所感知并接收到的信息,创建环境模型;…规
划?要素将其目标和策略应用于由“感知?要素提供的环境模型,以得出控制行为;最后,执行?要素执行
控制行为。

12


--- Page 23 ---
GB/T 43267一2023

注: 决策算法被包含在"感知-规划-执行"模型的所有要素中(例如,分类传感器数据,融合,态势分析、行为决策) 。

图 10 “感知-规划-执行"模型

基于"感知-规划-执行模型,对有了能力的整体系统架构的选择,是实现高效 SOTIF 过程的一个重
要考虑因素 ,在高效的 SOTIF 过程中,与整体能力相关的活动可在早期阶段启动,并贯穿整个功能开发
生命周期。选择一个有能力的系统架构对于确保 SOTIF 至关重要。因此,可在系统开发的早期阶段启
动系统架构的定义工作。此外,在系统整个生命周期中,定期评审系统架构 ,并在必要时进行更新。

4.3 本文件的使用
4.3.1 本文件的流程图和结构

第 5 章(规范定义和设计)旨在启动 SOTIF 活动(见图 11) 。规范定义和设计中包含了那些在后续
SOTIF 活动和周期开始前就已知的功能不足。SOTIF 活动的迭代可能会导致规范定义和设计的更
新,以及新的先前未发现的功能不足。SOTIF 活动的每次迭代开始于规范定义和设计,目的在于将规
范定义和设计更新到最新的状态。

第 6 章(危害的识别和评估)旨在对预期功能的潜在危害行为进行危害识别和风险评估。对已识别
出的危害事件进行风险评估,并定义相应的风险接受准则。如果证明和危害事件不会导致不合理的风
险,则不需应用额外的设计措施。第 6 章不考虑预期功能的危害行为的原因,而仅考虑其对安全的影
响。因此,重点是评估可能由危害行为引起的危害事件 ,并定义所需满足的接受准则 。

第 7 章(潜在功能不足和潜在触发条件的识别与评估)旨在识别可能导致预期功能危害行为的根本
原因(见图 4) ,并评估由所识别出的潜在功能不足和触发条件引起的风险是否合理。

第 8 章(修改功能以解决预期功能安全相关风险)旨在根据第 6章.第7章、.第9章一第 13 章的活
动,如果认为有必要,则对功能进行修改(例如,改进传感器的能力,对 ODD 进一步的限制),以改进
SOTIF,

第 9 章(定义验证和确认策略)旨在制定验证和确认策略 ,以提供证据来证明:与 SOTIF 相关的整
车层面残余风险符合可接受的水平,要素满足其功能要求,对 ODD 的覆盖是充分的。第 10 章(已知场
景的评估)和第 11 章(未知场景的评估)旨在基于验证和确认策略导出相应的验证和确认测试用例,且
测试用例对 ODD 的覆盖度足够高 。

第 12 章(预期功能安全实现的评估)旨在评估 SOTIF 活动的结果是否充分,足以论证实现了 SO-
TIF.

第 13 章(运行阶段的活动)旨在定义在运行阶段识别和解决可能出现的 SOTIF 现场运行问题的
流程。

图 11 描述了本文件中为确保预期功能安全所需的活动流程。带圆圈的数字表示本文件中的相应
章节。


--- Page 24 ---
GB/T 43267一2023

观察到潜在
SOTIF问题?

无不合理
的风险?
是

 11 SOTIF 活动的相关性

附录 A 提供了关于 SOTIF 的一般指南。

附录 B 提供了关于场景和系统分析的指南 。

附录 C 提供了关于 SOTIF 验证和确认的指南 。

附录 D 提供了关于 SOTIF 特定方面的指南,例如,驾驶策略的定义,对机器学习的影响以及对地
图和 V2X 的考虑,感知系统目标量化与常见传感器性能局限以及对 OTA 更新的考虑。

附录下 提供了风险接受准则的示例。

4.3.2 ”规范的条款

通过在各章节的开始列出目标,提供实现目标的论据,并记录相应的工作成果,可以声明符合本文
件。目标的规范性特征是通过使用关键词应"来表达的,表示一种要求。
注: A.1 给出了基于目标结构表示法(GSN)的论证示例。

4.3.3 RARE

本文件中的一些表列出了为实现某一开发目标的一系列方法和措施。这些条目旨在说明可能的方
法和措施 ,而表的条目可能并不详尽。可以采用其他等效的方法和措施。这些表的目的是支持开发团
队选择一个或多个适当的措施和方法。

注: 选择一组适当的方法可能取决于各种因素,例如,危害事件的复杂性或暴露概率。
44 预期功能安全活动管理和支持过程
4.4.1 质量管理.系统工程和功能安全

为了开发安全的产品,严格的工程和质量管理过程至关重要。这些已经在其他标准中了予以说明 ,如
IATF 16949,GB/T 34590(所有部分)和 ISOVIECVIEEE 15288。本文件仅关注这些过程中的 SOTIF
特定方面。

14


--- Page 25 ---
GB/T 43267一2023

注 1: 在产品开发过程中,本文件和 GB/T 34590(所有部分)规定的活动是并行开展的。一般而言,实施的措施可能
对 SOTIF 和功能安全产生影响 ,并按照这两种方法论进行评估。A.2 为并行应用 GB/T 34590(所有部分)和
SOTIF 提供了实践指南 。

对于管理活动和支持过程,可以将 GB/T 34590.2.GB/T 34590.7,GB/T 34590.8 扩展到SOTIF 活

动中。5.3 和 10.2 进一步描述了要求的传递和追溯性。

对于 SOTIF 相关的活动,选择以下一组方法和措施。

一一SOTIF 过程(见图 11)始于规范定义和系统及其架构的设计(见第5章)。

-一对预期功能的潜在危害行为进行危害识别和风险评估(见第 6 章) ,以识别危害及其相应的危
害事件。如果证明和危害事件不会导致不合理的风险,则不需应用额外的设计措施，

注2: 第6 章不考虑预期功能的危害行为的原因,而仅考虑其对安全的影响。因此,重点是评估可能由危害行
为引起的危害事件 ,并定义所需满足的接受准则 。

-一第7章旨在识别可能导致预期功能危害行为的根本原因(见图 2),并评估由所识别出的潜在
功能不足和触发条件引起的风险是否合理。

-一根据第6章.第7章.第10章.第11章,第12章.第13章的活动,如果认为有必要,则对功能
进行修改(例如,改进传感器的能力,对 ODD 进一步的限制) ,以改进 SOTIF 。见第 8 章。

一一制定验证和确认策略,以提供证据来证明:与 SOTIF 相关的整车层面残余风险达到可接受的
水平,要素满足其功能要求(见第 9 章) ,对 ODD 的覆盖是充分的。为了能够收集所需的证
据,可从该策略中导出相应的验证和确认测试用例,且测试用例对 ODD 的覆盖度足够高(见
第 10 章和第 11 FE).

-一根据先前活动的结果 ,评估残余风险(见第 12 章) 。

一一在运行阶段定义了识别和解决可能出现的 SOTIF 现场运行问题的流程(见第 13 章) 。

注3: 关于 GB/T 34590(所有部分)功能安全和本文件之间的交互,A.2 给出了进一步解释。

4.4.2 分布式预期功能安全开发活动

在分布式产品开发的情况下,所有相关方之间定义了开发接口协议(DIA) ,DIA 的目的是在项目的
早期阶段确认 SOTIF 活动的所有职责,并在开发方之间交换充分的技术信息。

IATF 16949 提供了一个基本流程框架,也可在 SOTIF 过程中予以考虑。本条侧重于如何将 DIA
扩展到分布式 SOTIF 开发和实施中。GB/T 34590(所有部分)提供了关于功能安全方面的 DIA AN HE
应协议框架。为了将此框架应用于 SOTIE ,可以进行剪裁,增加与 SOTIF 开发和实施相关的各方职
责。考虑并商定各方的责任,以计划和执行第 5 章一第 13 章的整个SOTIF 活动。对将要共享的信息
和工作成果进行定义。可根据 GB/T 34590.8一2022 中 5.4.1、5.4.2、5.4.3、5.4.4 和 5.4.6 所描述的过
程,并为 SOTIF 进行剪裁,来完成这些活动。在项目开发初期就文档格式达成一致 。

4.4.3 ”独立于环境的预期功能安全相关要素

为了实现 SOTIF ,对不同系统(硬件和软件)之间的接口的描述是必要的。为了确保集成的系统在
所定义的 ODD 内是安全的,每个子系统(例如,独立的感知系统)的边界都要经过仔细的评估。因为环
境因素(例如,ODD 场景)是 SOTIF 开发的基本问题,所以系统及其要素依层面的不同具有不同的关
注点。就这些系统和要素的开发而言 ,它们可以分为以下三种类型。

a) 在环境中的开发:整个系统的所有 SOTIF 活动遵循 V 模型进行开发。对于从事系统及其要
素的分布式开发的各方,根据任务角色来确定要求,包括规范定义和设计(见第 5 章)以及其他
活动(见第 6 章一第 13 章)。在 GB/T 34590(所有部分)中,这种开发被视为“在环境中”的开发。

b) 独立于环境的 SOTIF 相关要素 :对于这些要素,可以对它们在整个系统中的使用及其对预期
功能的贡献做出假设。因此,可以对与 SOTIF 相关的输出不足及其容许的发生概率目标做出
假设。记录这些假设并将其作为这些要素后续开发的输入。SOTIF 活动提供了实现相应概

15


--- Page 26 ---
GB/T 43267一2023

5.1

5.2

率目标的证据。对于独立于环境的 SOTIF 相关要素,记录已识别出的触发条件及其引起的输
出不足。通过整车层面功能环境下的 SOTIF 活动,确定假设的有效性(见 GB/T 34590.10
2022 中第 9 HAY SEooC ) 。

c) 非特定的 SOTIF 相关开发:这些要素的功能可通过多种方式帮助实现预期功能,因此,如果使
用这些要素的环境未知 ,提前预估 SOTIF 相关要求在实践上是不可行的。

示例: 分配给 GPU 的要求依赖于系统环境和运行在这些 GPU 上的软件 。

规范定义和设计
目的

本章的目的是实现以下目标，
a) 规范定义和设计应包含充分的信息以开展 SOTIF 相关活动;
b) 在SOTIF 相关活动的每次迭代后 ,应根据要求对规范定义和设计进行更新(见图 11) 。

功能规范的定义和对设计的考虑
规范定义和设计可包括本条所列的各个方面。某些方面仅与特定的自动化等级或特定的实现相

。此外,某些方面与整车层面或要素层面的功能规范定义相关。

考虑的方面(如适用)包括但不限于以下方面。
-一对预期的功能.支持子系统和组件的功能的描述,包括:
e 设计运行范围(CODD)，
e 自动驾驶功能控制车辆动态任务的权限级别和细节;
e 整车层面的SOTIF 策略;
ee 功能可被激活或关闭的用例,以及激活和关闭用例间的转换，
e 决策逻辑的描述(例如,路径规划 驾驶策略,见 D.1)。
一一实现预期功能的相关系统及其要素的设计。
-一为实现预期功能而安装的传感器.控制器.执行器或其他输入及组件(例如,地图,见 D.3)的性
能目标。
注 1: 自动驾驶系统的性能目标(见 D.5) ,例如,包括在 ODD 范围内对关键目标和事件(例如,行人、车辆、自
行车\摩托车和交通标志)的探测与响应。
一一预期功能与如下条目间的依赖关系、交互或接口，
oe 驾驶员;
驾驶员交互(例如,HMIJ) ,及如何使用交互以减轻已知的可合理预见的误用，
远程/后台操作人员，
乘客.行人、骑自行车的人和其他道路使用者;
相关环境条件;
道路基础设施和道路设备;
云端车辆间或其他通信基础设施(例如,V2X/X2V,见 D.4)以及涉及诊断和参数更新的
在用远程信息处理之间的数据交换，
e 软件更新的远程刷写;
se 车辆上可能干扰预期功能的其他功能,包括信息交换和相应的使用假设。
可合理预见的误用(直接和间接) 。
一一系统及其要素的潜在的性能局限 .已识别出的触发条件 .应对措施。
注2: 在SOTIF 活动中,识别出的一些潜在的性能局限和风险可能是可以接受的,无应对措施。在此情况
下,在规范定义和设计中了予以记录。


--- Page 27 ---
GB/T 43267一2023

-一实现预期功能的系统和整车架构。

-一报警和降级概念;

© 报警策略;

© DDT 后援:接管/后援的条件和方案,用于在各自的用例中 ,将控制权从自动驾驶系统转移
到驾驶员或另一个系统;

ee最小风险状态方案(例如,自动靠边停车、在路径中停车.后援用户);

ee 驾驶员监控系统及其对后援策略的影响。

在预期功能的开发过程中和开发后,支持数据收集和监控的程序:

e 数据收集的目的和要求，

e 在SOTIF 发布前,支持开展所需数据收集的架构 .实现和机制;

e 运行阶段,支持数据收集的要求.设计和机制,以用于 SOTIF 分析(见 13.5) ,包括可能基
于云.OTA 或射频通信的技术。

-一运行阶段,支持形成风险缓解能力的机制.设计和要求。
BEB. A.4 给出了一个简化后的规范定义和设计框架性示例。

5.3 系统设计和架构的考虑

规范定义和设计提供了对系统及其要素 .功能和性能目标的充分理解,以便执行后续阶段的活动。
这包括一份已知的功能不足、`相关的触发条件及其应对措施(如果适用)的详尽列表。在开展 SOTIF 相
关活动前,一些潜在的功能不足、触发条件 .应对策略是已知的并记录下来,而其他的则在开展 SOTIF
活动过程中被揭示出来。在系统设计中实施应对措施,以缓解已知功能不足对整个系统的影响。
SOTIF 相关活动(见图 11)的每次迭代,可引发在任何相关层面上更新规范定义和设计的工程活
动。每次迭代依赖于在任意相关层面上对规范定义和设计的更新,这也体现出此前和迭代中发现的所有
信息 。
各开发方[整车制造商(OEM) .1 SR HEME (Tier 1) N 级供应商(Tier N)]之间的合作,对于发现
集成系统、组件或要素的潜在功能不足,并在开发阶段(见 4.4)针对这些不足制定应对措施是必要的。
将设计和规范的相关部分传达给较低层面的系统及组件开发人员。在每个开发周期/和代之后,所使用
的假设可预见的误用和潜在的性能局限从一个层面传递到相邻的层面,包括 OEM,
随着 SOTIF 活动识别出新的功能不足和和触发条件(见第 7 章) ,并定义改进 SOTIF 的措施(见第 8
章) ,规范定义和设计将作为每个开发周期的一部分进行更新,见图 11
SOTIF 工作成果如果影响规范定义和设计,包括预先存在的相关内容,则其与规范定义和设计是
相关联的(如 5.2 中的定义) 。这确保了从之前的迭代中获取到所有信息,同时确保规范定义为下一个
和迭代周期做好了准备 。
注: 规范定义和设计(工作成果 5.5)的可追溯性和完整性可通过与 SOTIF 措施(工作成果 8.5)的关联性予以证
明,这些措施可以进一步关联到以下方面。
一一相关设计文档。
一一工作成果,来自:
e 第6章:对已识别出的危害事件的评估(例如,需要达到 S=0.C=0 或需要满足更宽泛的接受准则)，
© 第7章:系统对潜在触发条件响应的评估(例如,与分析关联,该分析表面触发条件的风险不可接受)，
e 第9 章和第 10 章:已知不安全场景的验证报告(例如,与验证测试报告关联,该报告表明与要求相关的
性能不可接受)，
e 第9 章和第 11 章:未知不安全场景的确认报告(例如,与确认测试报告关联,该报告表明与不安全场景
或确认目标相关的性能不可接受);
© 第12章:SOTIF 发布的论证(例如,与记录拒绝发布请求理由的报告关联)，
日 第13章:现场监控(例如,与记录现场监控期间发现的新的不安全场景的报告关联) 。

一


--- Page 28 ---
GB/T 43267一2023

第6 章(6.4)和第 7 章(7.4)中与风险评估相关的 SOTIF 技术假设不一定与第 8 章(8.3)中的
SOTIF 措施相关,但仍可将这些技术假设追溯至规范定义和设计。那些可提供基于模型的设计和不同
模型工件(要求 .组件 .接口、分析、测试用例和结果)之间的自动追溯的设计工具,可以支持这一过程。

5.4 性能局限和应对措施的考虑

设计包括对可能因要素输出值引起潜在性能局限的考虑,这些性能局限可能潜在导致整车层面的
危害行为。潜在性能局限的非穷尽示例包括:

一一分类不充分;

一一测量不足，

-一跟踪不足;

一一目标选择不足，

一一运动学估算不足;

一一假阳性探测(误报,例如,鬼影、幻影物体);

-一假阴性探测(漏报);

一一驾驶策略层面的局限 ,例如,对遮挡区域的考虑。

B.3 提供了关于识别功能不足和相应整车层面危害行为的可能方法的指南。功能不足与系统在已
定义的 ODD 范围内运行时最为相关。但系统对离开 ODD 的探测方式,以及在离开 ODD 时控制权限
转换期间系统如何运行,与支持完整的分析也相关。

系统开发基于对设计中的性能局限的假设。实施措施以应对这些性能局限,从而确保实现预期功
能安全。集成到规范定义和设计中的设计和措施,降低了残余风险,提高了整体鲁棒性(见图 6 和
图7)。

注1: 第7 章详述了识别潜在功能不足及其触发条件的方法和措施。

注2: 第8章描述了解决功能不足的方法和措施,例如,完余.多样性和互补要素。

注3: 规范定义和设计中的 SOTIF 内容,按照第 10 章的详细说明进行验证。

以下是性能局限和可能的应对措施的示例,相关内容包含在规范定义和设计文档中

示例 1: 用于车道保持等功能的高速公路车道边界探测算法,可能由于道路上的废弃物而错误地确定车道。然
而,导致碰撞的车道偏离可通过其他自动驾驶功能来缓解。例如 :使用高清地图和定位来确认车道,基于前面车辆的轨
迹将自车轨迹合理化,保持与其他车辆距离的防碰撞算法,即使这意味着离开已识别出的车道等。

示例 2: 目标探测算法将滑板上的人视为行人,但由于其速度不可信而拒绝该目标。在这种情况下.通过对目标探
测算法和感知及处理算法之间进行抽象,并使用其他不同的合理性检查的系统,可以缓解与滑板者的碰撞。

示例 3: 在某些区域,用具有三维视错幻象的人行横道(见图 12)来提醒驾驶员。在道路上绘制图像的目的是欺骗
人类的感知,但也可能欺骗视觉系统,使其探测到不存在的物体。在这种情况下 ,基于光流的分析机制可防止错误制动。
光流分析和基于雷达的环境识别作为相互替代的应对措施,以应对由视觉分类局限而导致的此类情况。


--- Page 29 ---
GB/T 43267一2023

图 12 可能欺骗视觉系统的视觉幻象图的示例

示例 4: 使用自动泊车系统时,有物体从打开的后备箱中伸出,可能会导致危害事件。系统设计中的应对措施是只

准许在后备箱关闭时进行自动泊车。

5.5 工作成果

6

6.1

6.2

工作成果是实现目标 5.1 a)和 5.1 b)的规范定义和设计。
注 1: 规范定义和设计拆分或链接到多个文档,例如,SOTIF 相关系统的需求规范 .功能规范定义和设计规范
注2: 缓解措施的 SOTIF 规范可集成到现有功能安全设计文档中,例如,功能安全概念和/或技术安全概念。

危害的识别和评估

目的

本章的目的是实现以下目标。

a) 应系统地识别整车层面定义的预期功能所导致的危害。

b) 应系统地识别和评估由预期功能的危害行为导致的风险,及危害行为可能导致危害的相应场
景。应定义预期功能的行为被视为不安全的情况下的参数。
示例:参数可以是速度偏差或与其他物体的最小距离。

c) 应定义残余风险的接受准则 。

概述

为实现本章的目标,可考虑以下信息:
-一规范定义和设计,按照 5.5，
一一用于推导接受准则的可用数据。

6.3 危害识别

系统地确定整车层面由功能不足引起的危害。这种系统的识别主要是基于对功能的认识及可能因
功能不足而引起偏差的认识。这可以通过应用 GB/T 34590. 3一2022 中定义的方法来实现。
GB/T 34590〈所有部分)和本章要求的危害分析的通用要素的说明如图 13 所示。图14 以 AEB 系统

19

--- Page 30 ---
GB/T 43267一2023

为例,展示了如何使用图 13 中的术语。该示例显示了由相同的危害行为导致的两种危害。在 A.2.5 中
以 AEB 为例进一步阐述了危害分析的应用。

示例 1: AEB 系统可能因预期功能导致危害行为和功能异常导致危害行为而引发危害。对于功能约束范围内和范
围外的非预期制动导致的危害,在危害分析和风险评估中,可从功能安全的角度进行分析。对于功能约束范围内非预期
制动相关的危害,也需要进行 SOTIF 分析 。

第6章涵盖的内容

发生的危害事件不
可控(由驾驶、车
辆其他成员或其他

设施用户，也包括
外部措施)

图例:
— 8%
US 具有的特性

图13 GB/T 34590(所有部分)和本文件中危害分析的通用要素示意图

注1: 与GB/T 34590.3 不同,在分析 SOTIF 相关的危害时,不会为危害事件确定汽车安全完整性等级(ASIL)。然
而,严重度(S) .暴露概率(E)和可控性(C)参数可用于调整确认工作所需的工作量。

注2: 发生率反映了功能在运行阶段遇到触发条件的概率。

和触发条件的发生率和危害导致伤害所处的场景的暴露概率,两者有重要的区别。一般来说,触发条
件并不独立于场景。因此 ,为支持在 SOTIF 风险降低的论证中使用场景暴露概率,评估时需要考虑处
于场景的暴露概率和遇到触发条件的概率之间的统计相关性。

示例 2: 对于行驶在高速公路上的场景和针对高速领航驾驶功能的触发条件之间,不能假设存在统计学上的独

在某些特定情况下 ,可对统计学上的独立性进行假设,如图 14 所示。

可控性参数 C 可用于评估 SOTIF 相关危害是否可控(见 10.6 和表 10)。关于道路参与者反应的
研究或假设可用于支持可控性评级。

--- Page 31 ---
GB/T 43267一2023

et aa
(Cs)              导致人员受
ees,                                  Ci

预期减速

场景: aR EOE |      发生的危害事件不可控， 后车
aR EOE |         PE AAR MEST Hi 5) AE Se ME
撞事故

1.               Ww

危害事件2 : RK
员站立时发生非

危害2: 可
能导致乘员
跌倒的自车
非预期减速

发生的危害事件不可控 : 站立
的乘员不能通过抓住扶手或其
他固定物避免跌倒

GR: 摆渡巴士有
站立的乘员

Ww                          Ww     Ww
图例，
— 9%
Ub 具有的特性

图14 使用图 13 中术语的 AEB 示例

注3: hatgtincttn tutta 首先是给定场景中与特定危害相关的风险;其次是与全部
害行为相关的总体风险,这包括对多个危害和相应场景的评估。

iota) nf onib 4 sites ote PUM am NRL OR HEN eM ea
可合理预见的误用) ,以识别出更多的危害。根据可合理预见的误用与导致危害的关系,对其进行区分。
对预期功能的直接误用会形成触发条件,而对预期功能的间接误用会降低可控性,或增加因危害行为造
成的危害事件的严重度(例如,驾驶员注意力不集中或驾驶员对功能局限的误解) 。

第7章涵盖了对可合理预见的间接误用的识别及其影响的分析。

注4: 7.3.4 和 BLL 提供了分析可合理预见误用的通用指南 。

6.4 风险评估

风险评估和旨在评估给定场景中危害行为的风险:这有助于定义 SOTIF 相关风险的接受准则 。
注 1: 由整车层面功能不足导致的危害行为(如果有)是本评估的一部分。
可以使用 GB/T 34590.3一2022 中第 6 章描述的方法来评估伤害的严重度和危害事件的可控性。
尽管共享分析方法,但 SOTIF 分析中观察到的结果和特定危害的评估参数可以是不同的。
注2: GB/T 34590.3一2022 给出了可控性.严重度和暴露概率等级。在本章中,仅考虑危害事件在总体上是否可
控,或者是否会导致伤害。暴露概率不是本章风险评估的决定参数。这是因为,对场景中需要评估的风险的
选择已经意味着它们的暴露与SOTIF 相关,和否则分析中将不作考虑。
注 3: 为定义确认目标,可能考虑暴露于特定场景的概率(见第 9 竟) 。
示例 1; 对于因自动紧急制动引发的与主车辆的追尾,可通过限制制动干预的幅度来降低严重度。幅度限制可被视
为增加可控性的安全措施,或视为对预期行为的功能修改。在分析危害时,该限制被认为是预期行为的一部分;与此不
21


--- Page 32 ---
GB/T 43267一2023

同的是,对于该限制在实施过程中的失效,则属于其他安全标准的范畴,例如 G/T 34590(所有部分)。
考虑危害事件的严重度和可控性,以确定危害行为在给定场景下产生的风险是否合理。严重度和
可控性的评估考虑功能规范(根据第 5 章规范定义和设计)。可控性评估包括相关人员为控制危害而
做出的“无反应”或“延迟反应”,例如这些反应可能是由可合理预见的间接误用导致的。评估也可考虑
外部措施。如果可控性被评为"可控”(即 C一0)或严重度被评为“无伤害”(即 S=0) ,则认为不存在不
合理的风险。其他情况的危害事件被认为与 SOTIF 相关。对这些危害行为,使用可测量的参数(如速
度的偏差和与其他物体的最小距离)来进行描述,这些参数是危害行为接受准则(第一层接受准则)的来
源,对于不符合这些接受准则的危害行为,需要进行合理的应对,并在接下来的SOTIF 残余风险评估中
予以考虑。
注 4: 对于危害行为的风险评估和接受准则的定义,考虑目标市场人员和场景的合理水平,包括可能的驾驶习惯文
化人员能力、交通情况及其随时间的演
注5: 支持危害行为接受准则定义的可测量参数,也可能基于所考虑场景下的交通数据统计结果。例如:基于交通
数据统计分析,给出高速公路上存在风险的跟车距离的定义。
BE 6: 危害行为接受准则可能用于支持整车安全策略及安全要求的制定,附录 提供了一个基于交通数据分析来定
义危害行为接受准则及整车安全策略的示例。
示例 2: 在危害事件归类中 ,可考虑高级驾驶员辅助系统(ADAS)无法以安全方式处理某一环境条件,并因此需要
驾驶员恢复控制。
驾驶员延迟的反应或不恰当的反应,包括驾驶员为获得足够的态势感知和恢复控制所需的时间 ,可
能会影响可控性的评估,是 SOTIF 相关分析时需要考虑的。
注7: SOTIF 分析中考虑人员可能由于未及时、正确地反应,而比功能安全分析时考虑人员及时反应而定义的可控
性更低 ,或者因为人员对车辆预期行为存在误解而导致在特定场景中的误操作 ,使严重度升高。例如:驾驶员
由于紧张或缺乏信心 ,可能对自动驾驶车辆的一些行为偏差矫枉过正。
如果在功能修改后(见图 11) ,危害事件被判断为 S=0 或 C一0,则该危害已得到充分解决。
示例3: 表 3 给出了针对 AEB 系统 SOTIF 相关危害事件的潜在后果进行评估的示例。

表3 危害事件的示例

危害行为       潜在后果           -              -      不合理的风险?

高速公路行驶时,非预期的                     ;      -              后方车辆可能
AEB 激活,达到zz m/s? 19          pe   ge as   :    无法通过制动
vx km/h

减速度并持续 y s                                                来避免碰撞

6.5 “残余风险接受准则的定义

针对不满足危害行为接受准则的那些行为,可导致 S>0 且 C二0 的危害事件,需要为这些危害行
为定义残余风险接受准则,即第二层接受准则 ,并从第 7 章继续开展相关活动,最终实现对残余风险接
受准则是否得到满足的评估 。

作为 SOTIF 流程的一部分,对 S=0 或 C=0 分级的论证进行评审,包括对分级证据(例如,测试或
分析结果)的评审。

接受准则考虑:

一一适用的政府和行业法规，

-一一项功能是新功能还是市场上已存在的功能，

一一对于可能暴露于风险的人(例如,自动公共交通系统中的车主、操作员、行人或乘客) ,风险是否

合理;

22

--- Page 33 ---
GB/T 43267一2023

已存在的功能的接受准则;

一一以模范方式行事的驾驶员的表现。
示例 1; 接受准则可以是每小时事故的最大数量,在第 9 音中的验证和确认策略是基于特定接受准则定义的。
在制定接受准则时 ,可考虑的方法包括:

目标市场的可用交通数据(例如,事故统计、交通分析)(见 C.2.2.4);

一一现场运行中,类似功能的现有准则 。
示例 2: 已量产的类似碰撞报警系统,每 ae 公里产生的误报事件数量(采用类似的测试分布) 。
如果给出有效的理由,就可选择适当的定量接受准则。总体理由可基于以下理由中的一个或多个

的组合。

一一风险容忍原则。例如 GAMAB 或 GAME,这两个法语术语的意思是“至少在全球范围内一样

好”。遵循这一原则 ,任何新系统的残余风险(关于安全方面)不应高于那些具有类似功能或危
害的现有系统。

一一正向风险平衡原则。这种风险容忍原则应用于考虑了新系统所有危害的整体残余风险,可以

注 1:
注2:
注3:
£4:

注5:

进行相关风险权衡。对于某个危害,即使残余风险增加,系统也可发布,前提是通过降低一个
或多个其他残余风险来达到平衡补偿。

ALARP 原则。ALARP 风险管理框架可以提供一个有用的风险降低原则 ,尤其是在目前不存
在“良好实践”的情况下,开发和引入新技术。通过承认零风险状态是不可能的,ALARP 原则
旨在通过权衡风险与进一步降低风险所需的努力,将风险降低到”合理可行”的水平。

MEM(最小内源性死亡率)原则。MEM 原则基于的理念是技术系统的引入不应显著增加社
会死亡率。由技术系统导致的死亡概率的定量接受准则源自自然原因导致的最小死亡概率。
本文件中的理由仅包括与 SOTIF 相关的风险,不包括来自其他安全领域(例如,电气安全)的风险。

C.2 和 C.6 给出了定义和评估接受准则和确认目标的示例。

关于 GAMAB、ALARP 和 MEM 的描述,见 EN 50126-22017, A,1CRAMS)"",

有效的理由可能基于整个车队的风险或与单个车辆相关的风险。即使车队进入包含触发条件的某一场景的
概率非常低,但如果给定的单个车辆面临这种场景的概率很高,系统的响应也可能是不可接受的。

附录 TE 提供了一个基于交通数据分析定义风险接受准则的示例。

6.6 工作成果

6.6.1 整车层面的危害,实现目标 6.1 a).
6.6.2 ”危害行为的风险评估 ,实现目标 6.1 b) 。
6.6.3 ”接受准则 ,实现目标 6.1 c) 。

7 潜在功能不足和潜在触发条件的识别与评估

7.1 目的

本章的目的是实现以下目标:

a)

b)
注 1:
注2:
注3:

应识别出潜在规范定义不足、潜在性能局限和包括可合理预见的直接误用在内的潜在触发条
件 ,并确定导致危害行为的来源。

应对系统的响应进行 SOTIF 可接受性评估。

包括在可合理预见的直接和间接误用情况下,识别功能不足和相关触发条件。

本活动考虑整车层面预期功能的潜在规范不足以及系统中电气/电子要素的潜在规范不足或潜在性能局限。

根据危害行为接受准则 ,判断规范不足 ,性能局限及潜在触发条件是否导致了不可接受的危害行为。对于新
识别出的、不可接受的危害行为,需要对危害行为接受准则进行补充完善。

23

--- Page 34 ---
GB/T 43267一2023

7.2 概述

为实现本章的目标,可考虑以下信息:

一一规范定义与设计 ,按照 5.5

一一整车层面的危害,按照 6.6.1;

危害行为的风险评估,包括已识别出的可合理预见的间接误用,按照 6.6.2;

-一接受准则 ,按照 6.6.3;

一一基于外部信息或经验教训(例如,13.5)的,可导致危害行为的系统及其要素的已知潜在功能不
足和已知潜在触发条件(包括可合理预见的直接误用) 。

7.3 潜在功能不足与触发条件的分析
7.3.1 概述

对潜在的功能不足和触发条件进行系统性分析。该分析可考虑从相似项目或专家中获得的现场经
验和知识。可从以下两方面同时进行该分析:

-一基于已知的潜在规范定义不足和性能局限 ,确定导致已识别出的危害行为的场景(包含触发
一一基于已识别出的环境条件和可合理预见误用,确定潜在的规范定义不足和性能局限。
注 1: 关于 SOTIF 分析技术的更多细节见附录 B,或参考 ISO 34502。

注2:
注3:
注4:
注5:
注6:
注7:

上
ii
定
对
36

ii

纳、演绎或探索性的方法用于支持分析 。

能进行定性或/和定量分析。

量目标可能向下定义至要素层面,其源自整车层面的接受准则或确认目标。

所有相关用例参数的适当抽象(例如,生成和使用等价类或优先度子集),有助于处理大量用例组合。
通统计数据可能用于那些可导致潜在危害行为的合理用例。

能通过仿真来支持分析,例如,使用蒙特-卡罗方法。

可使

表4 列举的方法 ,进行适当的方法组合,来识别和评估潜在规范定义不足、,性能局限 .输出不

足和触发条件。

表4 潜在功能不足和触发条件的分析方法

A          需求分析

B         ODD,.用例和场景分析”

(0)         事故统计分析*

D             边界值分析

E         等价类分析

F         功能相关性分析

G             SA; Ue fh Be AR EY

H             HE EY BRS LE Mee AN L8H BAI] ED THE HE fh BR AR EE BT
I          系统架构分析(包括宛余)

J        传感器设计与潜在技术局限分析*
K             算法及其输出或决策分析

24

--- Page 35 ---
GB/T 43267一2023

表4 潜在功能不足和触发条件的分析方法 〈续)

方法
L     系统老化分析'
M        车辆运行周期内可能的环境变化分析(例如,干扰)
N        内部和外部接口分析*
O     执行器设计和潜在局限分析
P         事故场景分析"
Q     可合理预见误用分析
”包含 ODD 边界分析。

”例如 STATS19I9 .GIDAS” .GESI .CAREI IGLAD"” 。

“单一般发条件可以触发多个性能局限或规范定义不足(例如大雨能够影响如雷达、摄像头等不同传感器的

性能) 。

考虑市场上相似系统 .先前系统和项目以及客户索赔分析 。

”考虑技术上的局限(例如由于相机成像器.雷达天线设计局限或缺少如密封和振动等环境隔离而导致的较低
分辩率)和由于安装位置所导致的技术局限(例如由于传感器未能获盖车辆周边全部 360 视野所导致的讶
K).

例如在规定范围内由于老化效应而变得暗淡的相机镜头。

* 例如车辆与车辆之间 ,车辆与基础设施之间.OTA 地图。

”例如基于自动驾驶数据存储系统/事件数据记录器(DSSAD/VEDR)中记录进行分析。

fe 5 列出了分析方法 。

注 8: 安全分析方法可能调整用于识别和评估潜在功能不足和和触发条件及其对危害的影响[例如,因果树分析、事件
树分析CETA) .归纳性的 SOTIF 分析或危害与可操作性分析(HAZOP)]。B.3 提供了调整使用安全分析方
法的示例。

基于系统架构,要素的潜在功能不足可分类为，

一一单点功能不足;

-一多点功能不足。

该分类有助于确定充分的功能修改,以实现 SOTIF(见第 8 章)。其可用于导出要素层面所需的要

求,以实现整车层面的 SOTIF(见第 5 BE).

示例: 如果整车层面实现了 SOTIF 特定的接受准则,则可将性能目标分配给不同的相关要素,如图 15 所示。与单

个传感器系统相比 ,每个传感器可以分配到较少的约束性性能目标(例如,误触发探测率) 。

摄像头传感器
制动系统
| ee      | aa
雷达传感器

图 15 具两个不同传感器融合的系统架构示例

在定义确认策略过程中,也可以使用这种分类,其中,根据独立性的考虑,可以降低多点功能不足的
确认目标(见第 9 章和 C.6.3) 。
对于给定的性能局限或规范定义不足,可能存在多个触发条件导致危害行为。此外,已知的环境条

25

--- Page 36 ---
GB/T 43267一2023

件和可合理预见的误用可触发多个整车层面或要素层面的性能局限或规范定义不足。需建立并维护危
害行为.触发条件与整车层面或要素层面潜在性能局限或规范定义不足之间的追溯性。
图 16 给出了危害 .触发条件与整车层面或要素层面潜在的性能局限或规范定义不足之间关联的说

明和示例。

因功能不足" 导致
输出不足(OD

功能不足IFD”
(性能局限或规范不足)

触发条件
( 包括合理可预见的直接误用)
CO, CD和 SS 是不相关的示例

功能不足(作为设计属性)可存在于所有视角和抽象层级 。

 16 潜在功能不足与触发条件之间关联的说明

为了方便展示,7.3.2.7.3.3 节分别对规划算法.传感器和执行器进行说明。如果有益,传感器和执
行器中的潜在功能不足和触发条件也可用于规划算法分析,反之亦然。

7.3.2 ”与规划算法相关的潜在功能不足和触发条件

分析可考虑以下类别:
-一环境与位置;
一一道路基础设施，

-一城

j或乡村基础设施;

一高速基础设施，
-一驾驶员或用户行为(包括可合理预见的误用);

-一其

-可
#5 9

也驾驶员或道路使用者的潜在行为;
场景(例如 ,施工现场事故,紧急通道上交通堵塞,车辆行驶方向错误);

已知的规划算法局限(例如,无法应对可能的场景或不确定的行为)，

-一已知的机器学习的规范定义不足;

已知的机器学习的测量数据不足;

-一已知的功能不足和功能改进。

7.3.3 与传感器和执行器相关的潜在功能不足和触发条件
分析可考虑以下类别:

-一OD

D;

-一机械干扰(例如,因传感器在车上的位置导致的震动而引起的传感器噪声输出)，
一一传感器上的污垢;
-一电磁干扰(EMIJ) ;

26

--- Page 37 ---
GB/T 43267一2023

-一来自其他车辆或其他来源的干扰(例如,雷达或激光雷达);
— Rares
— Ik:

-一低质量的反射

-一精度;

-一范围;

一响应时间，

-一由于耐久性、磨损,老化导致的性能影响;

一一权限能力(适用于执行器,例如,液压制动系统预期的最大可用制动压力);

一一多传感器数据融合，

一一传感器的校准与安装。

示例 1; 十和雪可影响雷达性能。

示例 2: 车辆前方升起的太阳可影响视频摄像头的性能。

示例 3: 行人身上厚重的羊毛外套可影响超声波传感器的性能。

示例 4: 不正确的校准可影响许多个传感器类型。

BE 1: 已知的潜在功能不足和触发条件的某种组合可能导致某个潜在的危害行为。

注 2: 详细分析类别见附录 B。对于每个分类,详细的干扰列表基于知识和经验(包括来自相似项目和现场经验的

注3: 如果由基础设施要素所提供的传感器输入与自动驾驶(AD)或 ADAS 功能相关,则本条也适用于这种情况,以

分析功能不足。
注4: D.5 给出了驾驶自动化系统常见传感器的性能局限示例。
此外,在可能的数值范围内(包括潜在的和观察到的场景),对每个环境的输入进行系统性分析。

7.3.4 可合理预见的直接或间接误用分析
预期功能的可合理预见的直接和间接误用可导致不合理的风险水平。
一方面,作为潜在触发条件分析的一部分,第 7 章获盖了针对直接误用的分析。另一方面,可能导
致针对间接误用的措施无效的潜在功能不足也在第 7 章的范围内。
可合理预见的直接或间接误用的原因可以是，
-一用户缺乏对系统的理解,例如,驾驶员被市场中某个具有不同操作规程的相似系统误导，
一一用户对系统的错误期望,例如,呈现给驾驶员的不充分,不恰当或不正确的信息;
一一注意力不足;
一一系统设计中对用户交互的错误假设。
可使用表 5 中描述的方法来支持对可合理预见的误用的分析。
此外,B.1 描述了一种导出 SOTIF 误用场景的方法。

RS 识别可合理预见的误用的方法

来自现场经验和其他来源的经验教训的已知误用场景分析”
B             测试项目相关的研究
C         用例和场景分析
D        用户与系统交互的分析"
E         HMI 分析
27


--- Page 38 ---
GB/T 43267一2023

RS 识别可合理预见的误用的方法〈续)

              己知的人员行为模式分析,例如,缺乏使用.误用和对自动化水平过度自信
G             针对执行任务或在任务间切换的人员能力分析”
H          FEE ba ME 2 LAS 9 JD

”例如一些用户视频,演示了系统或其他相似系统如何以一种可合理预见的方式被误用。
”例如驾驶员提醒 .系统理解.运行模式的混淆 。

“例如人员重新获得态势感知的能力的分析。

”例如 ADAS 设计和评估的代码实践 .欧洲人机界面原则声明呈 。

TE 1. 详细方法见 B.1。
注 2: 在有需要时 ,驾驶员无法保证驾驶任务的情况下使用车辆,被认为是一种小用,不属于本文件的范畴。
示例 1: 驾驶员受到管制药物的影响。
示例 2: 在雪地上,以超出车辆动态控制能力的不合理高速行驶。
为防止或减轻可合理预见误用(间接或直接的),所需的额外措施及其有效性,可在预估系统对潜在
触发条件的响应的可接受性时进行评估。可在验证和确认阶段对这些措施的有效性进行论证。

7.4 预估系统对触发条件的响应的可接受性

对包含已识别出的触发条件的场景进行评估,以确定是否实现 SOTIF 。
注 1: 这些已知场景被第 10 章中的验证活动所覆盖,用于提供其可接受性的最终评估。
注 2: 特别地,本评估中使用的或由此产生的与实现 SOTIE 相关的假设,见第 10 章。
注 3: 在评估过程中所考虑的假设可能包括系统及其要素的预期行为,或假设的用户行为。
在以下情况下 ,无需进一步功能修改(见第 8 章),SOTIF 被视为可以实现的:
导致危害事件的系统残余风险低于 6.5 中定义的接受准则;
注 4: 风险评估中所使用的证据将会在验证与确认活动中生成(第 9 章一第 11 章)。
-一没有可导致特定道路使用者的不合理风险的已知场景。
注5: 即使车队遇到包含某个触发条件的场景的概率很低,但如果特定单个车辆遇到此类场景的概率很高,则
系统的响应也可能是不可接受的。

示例: 一种集成在环形交叉口或桥墩中的特殊结构,系统性地引起 AEB 系统制动,从而导致与跟随车辆发生追尾
碰撞的概率达到不合理的水平。

根据上述条件,如果系统对触发条件的响应是不可接受的,将启动进一步的功能修改(见第 8 章) 。

7.5 工作成果

7.5.1 已识别出的潜在规范定义不足,性能局限和触发条件(包括可合理预见的直接误用) ,实现目标
7.1 a)。

注: 为满足目标 7.1 a)而进行的分析的报告包含在本条中 。
7.5.2 评估系统对已识别出的触发条件的响应对于实现 SOTIF 的可接受性,实现目标 7.1 b) 。

8 修改功能以解决预期功能安全相关风险

8.1 目的

本章的目的是实现以下目标，
28

--- Page 39 ---
GB/T 43267一2023

a) 应确定并实施解决 SOTIF 相关风险的措施;
b) 应更新"规范定义和设计”的输入信息。

8.2 ”概述

为实现本章的目标,可考虑以下信息:

-一规范定义和设计,按照 5.5，
危害行为的风险评估 ,按照 6.6.2;

一一识别潜在的规范定义不足,性能局限和触发条件 ,按照 7.5.1;
一一已知场景的验证和确认结果(按照 10.8) ,如果有，

-一未知危害场景的确认结果(按照 11.4.1) RAG
一一SOTIF 发布的论证(按照 12.5) ,如果有。

8.3 改进预期功能安全的措施
8.3.1 介绍

在满足下列条件的情况下 ,可开展第 8 章中关于制定解决 SOTIF 相关风险的措施的活动(以下简
称"SOTIF 措施”) :

一一当前规范定义和设计(第 5 章)中的预期功能,被识别出存在危害场景,需要深入分析(如同在

危害事件的风险评估中所评估的,将造成伤害) (第 6 章);

-一系统对已识别出的可导致危害行为的触发条件的响应被评估为是不可接受的(存在已知场

景,其中,引起危害事件的残余风险不满足接受准则并导致不合理的风险)(第7章)。

通过反复应用第 8 章中的 SOTIF 措施 ,更新规范定义和设计(第 5 章),并使用更新的规范定义和
设计对预期功能进行风险评估(第 6 章和第 7 章) ,从而完善系统。

接下来,在 V&V 阶段对完善的系统(包括 SOTIF 措施的有效性)进行评估,且如果满足以下任一
条件,则可通过第 8 章在设计阶段进行系统改进的迭代活动，

一一已知危害场景的残余风险被确定是不可接受的(第 10 HED

一一未知危害场景的残余风险被确定是不可接受的(第 11 章)，

-一残余风险被认为是不可接受的(第 12 HE) ,

在上述情况下 ,重复第 5 章和第 8 章对系统进行改进。

对 SOTIF“避免?或“缓解"措施的恰当组合进行选择,以实现对 SOTIF 相关风险的降低。

注:“避免措施"代表本质安全的设计措施,其首要任务是消除风险(旨在实现第 6 章风险评估中的 S=0 或 C一0) ,修

改功能(特别是新增功能)是一种典型的方法。但是,这并不一定意味着将实现 S= 0或 C一0。

当在避免风险方面存在已知的困难时或认为能将风险降低到可接受的水平时,可以考虑应用"缓解
措施?来尽可能多地降低风险 ,并期望通过“缓解措施”与避免措施或其他缓解措施的结合,提升风险降
低的效果。

在实施 SOTIF 措施时,可考虑以下几点:

一一对其他要素没有不利的影响;

-一与其他危害场景没有相互作用。

此外,即使精心设计并实施 SOTIF 措施,也可能不会产生预期的结果,并可能产生非预期的后果。
因此 ,实施第 13 章所述的监控和评审是实现 SOTIF 措施的重要组成部分,以确保 SOTIF 措施的有
效性。

8.3.2一8.3.5 描述了可能的 SOTIF 措施。


--- Page 40 ---
GB/T 43267一2023

8.3.2 ”系统修改

系统修改措施的目的是尽可能地保持预期功能。这些措施包括但不限于，
a) 通过下列方法提高传感器性能和/或精度 。
一一改进的传感器技术，
示例 1: 提高传感器测量的精度，
示例 2: 更新为新的和改进后的传感器,以解决已知的局限。
-一改进传感器扰动探测机制,以触发适当的报警和降级策略;
一一多样化传感器类型;
示例 3: 增加额外的感知装置,以适当的方式提高攻盖率。
一一改进的传感器标定和安装
示例 4: 针对具有潜在的性能局限的临界情况 ,将传感器安装在合适的位置提升覆盖率。
示例 5: 封装传感器以避免或减少干扰,从而达到可接受的水平。
示例 6: 进行传感器覆盖率分析 ,并优化传感器的选择(类型 .技术数量)及其在车内的相对位置。
示例 7: 使用边缘探测方法探测摄像头上的污垢,并用液体和雨刷器清洗。
b) 通过改进执行器技术,提高执行器的性能和/或精度(例如,提高精度,延长或限制输出范
围,减少响应时间 ,可重复性,对能力进行仲裁,利用其他功能来辅助或增加新的执行器来畏
助) 。
c) 通过算法改进,提高识别和决策算法的性能和/或精度 。
示例 8: 改进的传感器识别算法[例如,改进相机图像中探测对象的特征描述,如 HOG(定向梯度直方图)] 。
示例 9: 考虑模型中额外的输入信息 。
示例 10: 改进算法以提供更好的鲁棒人性、精度(例如,从线性模型切换到非线性模型或使用机器学习)(见 D.2) 。
示例 11: 随着计算能力的提升,加快图像处理速度(例如,使用机器学习加速器或运行高效的硬件) 。
示例 12: 超出 ODD 的识别(例如,识别高速公路出口坡道的方法) 。
示例 13: 识别已知的不支持的环境条件(例如,根据地理位置.一天中的时间 季节等,预测遇到太阳了眩光的情况) 。
注: 在执行高级算法时,可能考虑提升硬件性能。
d) 突出自车的可见性,以在自车发生危害行为时,提高其他交通参与者的可控性。
示例 14: 在当地法规允许的情况下 ,安装反光板.开雾灯、.开转向灯、主动发出声响等。

8.3.3 功能限制

功能限制措施的目的是通过预期功能的降级(或限制)来保持部分功能。这些措施包括但不限于:

a) “特定用例的预期功能限制;

示例 1: 当车道探测装置不能清晰地探测到车道时,车道保持辅助功能限制了转向辅助扭矩,以避免出现不期望的
转向干预。

示例 2: ODD 的限制,包括环境的.地理的或时段的限制。

示例 3: 限制或约束驾驶策略(见附录 D.1)以确保制定决策的安全性。

示例 4: 摄像头被午后阳光引起的周围光线的反射导致失明;通过雷达和其他传感器进行有限制的操作(例如降低
允许的最大车速,限制车道保持功能施加的最大转向扭矩) 。

b) 解除特定用例的预期功能权限。

示例 5: 所有的感知传感器都被暴风雪导致失明,驾驶员被要求接管控制。

示例 6: 自动驾驶车辆不能处理收费站收费或无标识的施工区域,驾驶员被要求接管控制。

T

8.3.4 权限移交
将权限从系统移交给驾驶员的措施旨在提高较低自动化等级的可控性。这些措施包括但不限于

30

--- Page 41 ---
GB/T 43267一2023

a) 修改人机交互CHMDI) ;

示例 1; HMI 清晰地向驾驶员传递移交请求 ,为驾驶员提供必要的信息,以支持驾驶员实现适当的态势感知并执行
该任务 。

b) 修改用户通知和 DDT 后援策略 。

示例 2: 当系统探测到视野受限(例如,因泥浆导致距离传感器感知范围缩小)时,车速会降低,相应的 HMI 要求驾
驶员接管驾驶任务。如果驾驶员在规定的时间内没有执行接管,系统将把车速降为零 。

注 1: 针对不同的自动驾驶等级,权限移交可能不同。

注2: 只有在过渡本身可控且不会给驾驶员带来额外风险的情况下 ,才能提高可控性。

注3: 考虑对 HMI 研究的指南 。

示例3, ADAS 设计和评估的实施规范 。

8.3.5 解决可合理预见的误用

T

解决可合理预见的误用的措施包括但不限于:

a) 客户教育(信息和培训);

示例 1: 产品使用说明书 .培训课程.市场营销、销售演示 。

b) 改进 HMI;

示例 2: 通过提供正确的操作信息来帮助驾驶员 。

注: 探测和警告驾驶员注意力不集中的系统,是自动驾驶车辆系统中防止可合理预见的驾驶员误用的有效方法。
有效的驾驶员监控系统的选择和实现,取决于目标的误用情况。

示例 3: 当方向盘被松开时 ,警告驾驶员 。

示例 4: 忽略可能导致危害行为的输入/指令,并将原因告知驾驶员 。

d) 实施防止误用的措施。

示例 5: 尽管发出警告信息,如果驾驶员监控系统探测到仍持续误用,则可采取措施阻止危害行为; 例如,在多次脱

手警告后,车道保持辅助功能可在后续的行程中解除或降级,并提供适当的警告信息 ,直到下一个驾驶循环。
示例 6: 可合理预见的误激活功能,例如,在车速过高时激活驻车辅助功能,可通过在功能的激活条件中增加速度限

制来防止误用。
8.3.6 支持预期功能安全措施实施的考虑
在实施 SOTIF 措施后 ,根据自动驾驶等级,监控和评审对于确保 SOTIF 措施的有效性非常重要

的,为了支持这一点,在设计系统时可考虑一些方面。这些考虑包括但不限于 :
-一对 SOTIF 相关系统行为的可测性

-一对 SOTIF 相关系统行为的诊断能力;

-一对 SOTIF 相关系统行为的数据监控能力。

t

8.4 更新“规范定义和设计”的输入信息
“规范定义和设计”的输入信息,是基于按照 8.3 中已识别出的和实施的 SOTIF 措施的规范来更新的。

8.5 工作成果
SOTIF 措施的定义,实现目标 8.1 a)和8.1 b) 。

31

--- Page 42 ---
GB/T 43267一2023

9

9.1

9.2

定义验证和确认策略

目的

本章的目的是实现以下目标。
a) 应定义SOTIF 的验证和确认策略 ,包括确认目标,并应考虑:
1) 对潜在危害场景的必要的评估，
2) 对相关场景空间的充分覆盖，
3) 必要的证据(例如,分析结果 测试报告 专门调查)，
4) 生成证据的过程。
b) 应提供所选验证和确认方法和确认目标的适用性理由。

概述

为实现本章的目标,可考虑以下信息。
一一传感器或外部数据源(例如,来自基础设施)提供足够准确的环境信息以满足性能要求的能力。
-一假设的外部数据源的可依赖性的充分性(例如,通信网络突然中断或暂时没有更新的可能性) 。
-一传感器处理算法精确模拟环境的能力。
一一决策算法的能力:
e 安全地处理潜在的功能不足;
。 根据环境模型.驾驶策略和当前目标(例如,目的地)做出适当的决策。
一一系统或功能的鲁棒性,例如:
© 系统对不利环境条件的鲁棒性;
e 自动化系统对已知触发条件的反应的适当性，
。 预期功能及其对不同场景条件的监控的敏感性。
-一不存在因预期功能的危害行为引起的不合理风险，
一一系统(例如,HMI)防止可合理预见的误用的能力。
一一系统安全处理 ODD 之外用例的能力(例如,ODD 之外的系统激活.向 ODD 外的过渡等) 。
一一OEDR 的适用性 ,以及蜂 ODD 执行驾驶策略(或行为)的鲁棒性。
一一DDT 后援的适用性;MRC 的适用性。
-一在运行阶段,以足够的置信度 ,在整车层面上符合接受准则 。
为实现本章的目标,还可考虑以下信息，
一一规范定义和设计,按照 5.5，
一一危害行为的风险评估,按照 6.6.2，
一一接受准则 ,按照 6.6.3;
-一已识别出的潜在规范定义不足.性能局限和和触发条件(包括可合理预见的直接误用) ,按照
7.5.1;
一一SOTIF 措施的定义,按照 8.5;
一一系统集成和测试计划(来自外部来源);
一一现场监控过程中的经验教训,按照 13.5;
-一在传感器的历史中观察到的经验教训,可能来自其他领域(例如,大气风暴事件导致 GNSS 信
号延迟 ,会潜在导致危害事件) 。
验证和确认策略不仅关注 ODD 内部的性能评估和风险识别,还关注 ODD 的边界和外部。该策略

32


--- Page 43 ---
GB/T 43267一2023

的一个方面包括验证系统不能在 ODD 之外的任何地方激活。

另一个方面是验证从 ODD 内部到 ODD 外部的过渡是否伴随着上升给驾驶员或后援系统,以实现
最小风险状态。

注: 这些方面对于论证相关场景空间的充分覆盖非常重要。

9.3 ”集成和测试的定义

定义了验证和确认策略,以提供实现目标的论据,以及如何实现确认目标。验证和确认策略涵盖了
车辆的全部预期功能,包括电气/电子要素和其他被认为与实现 SOTIF 相关的技术要素。验证和确认
策略也支持对 SOTIF 相关的外部来源的数据进行监控。
定义确认目标是为了提供证据,证明符合接受准则。根据选择的确认方法,可以通过多种方式确定
确认目标。
对于从表 6一表 11 或其他来源中选择的每个方法,定义了适当的开发工作(例如累积测试长度、分
度) 。提供了定义每项工作的理由。这可能包括场景的数量或分布.试验数量或仿真持续时间。
注 1: 接受准则针对已知和未知危害场景产生的风险 。在推导确认目标时考虑了这一点,区域 2 和区域 3 的确认目
标可能不同 。
注2: C.2 和C.6 给出了定义和评估接受准则和确认目标的示例。
示例 1, 考虑对与功能相关的先前未知的触发条件进行搜索。确定确认目标是为了支持剩余未知触发条件不会带
来不合理风险的假设。
示例 2, 确认目标可以使用被测功能预定义的假阳率和假阴率来设置。
如果只是场景的子集与特定危害相关,那么在确定目标值和确认持续时间时 ,可以考虑对该子集的
暴露度。
注3: 表B.5 和表 B.6 分别提供了基于定性规则和定量规则的场景优先度子集的示例。
注 4: 在评估触发条件违反定量目标的可能性时,可考虑所产生行为的暴露度.可控性和严重度。这可以减少证明
暴露在触发条件下所需的工作量。有关通过考虑暴露度 .可控性和严重度来减少确认工作的方法,见 C.2.1。
示例 3: 考虑来自 6.3 的示例 3 中,只有存在跟随车辆,意外制动才会导致妃尾。在制定确认目标时,可考虑跟随车
辆的暴露度。
注 5: 在验证和确认策略的定义和阐述中,考虑了触发条件参数的可变性，
注6: 由于通过预期功能安全(SOTIF)活动只代(图8)进行了功能修改,因此对系统进行分析 ,以确定现有功能是否
受到功能迭代修改的影响,并通过回归测试重新测试这些功能。这将确保功能修改不会在现有功能中导致潜
在的危害行为。如果有适当的理由,回归测试的范围可以做剪裁。
注7: 为确保保持正确的功能行为,对于任何释放用于生产的版本都要文档记录完整的验证和确认(V&.V)活动。
这包括记录未修改要素的文档和受变更影响的重新测试要素的文档。
注 8: D.2.4 讨论了离线训练(如用于机器学习)的验证和确认活动。
考虑到集成层面,验证和确认策略(例如,集成测试用例、分析)的规范可使用适当的方法组合导
出,如表 6 所示。

析

3

表6 验证和确认活动的导出方法

A     需求分析

B         外部和内部接口分析”

c     等价类的生成与分析

D         边界值分析

E     基于知识或经验的错误猜测法


--- Page 44 ---
GB/T 43267一2023

表6 验证和确认活动的导出方法〈续)

功能的相关性分析

共同限制条件和次序的分析

环境条件和操作用例分析”
现场经验和教训分析”

系统架构(包括元余)分析

传感器设计及其已知潜在局限性分析
算法及其决策路径以及各自的已知局限性分析
系统和部件老化分析”

触发条件分析

性能目标分析"

危害分析中可测量参数的分析
边界值中极端场景和边缘场景的分析:

现有系统的 SOTIF 相关更新的分析

使用包含收集到的测试用例和场景的数据库
场景和用例的优先度子集分析和使用
接受准则的分析

事故场景数据分析
执行器中已知法在限制的分析

”如适用如果可以的话 ,还包括 V2X、地图。

* 包括系统或其要素潜在危害行为的已知来源。

“这考虑了各种驾驶条件 .驾驶风格 .驾驶环境和终端用户要求。

”"GB/T 34590(所有部分)通常会考虑导致失效的半导体老化效应。与 SOTIF 相关的半导体老化效应,即影响标
称性能的老化效应,都在本文件的范围内。

“性能目标可以在不同的抽象层面上指定,例如传感器层面(雷达的探测范围.摄像头的角分辨率)以及系统层
面(例如目标探测的误报率) 。

: 极端场景是指两个或两个以上的参数值都在系统的能力范围内,但共同构成了挑战其能力的罕见情况。边缘
场景指由于系统处于极值状态 ,或者系统的一个或多个参数导致挑战系统能力的情况02 。

注 9: 有关汽车感知系统验证和确认的进一步实践,见 C.4。
9.4 工作成果
实现目标 9.1 ay)和 9.1 b)的验证和确认策略的定义。

34

--- Page 45 ---
GB/T 43267一2023

10 已知场景的评估

10.1 目的

本章的目的是实现以下目标:

a) 对已识别出的潜在危害场景应评估其是否具有危害性;

b) 对于已知危害场景和可合理预见的误用,系统及其要素的功能表现应符合其定义的方式;
c) 对于由已定义的整车层面行为导致的潜在危害行为,应评估其可接受性;

d) 根据验证和确认策略,已知场景应被充分覆盖，

e) “验证结果应证明确认目标得到了满足。

注: 这包括对动态驾驶任务后援和最小风险状态(MRC)的适当性的评估。

10.2 ”概述
为实现本章的目标,可考虑以下信息:
一一规范定义和设计,按照 5.5
一一识别出的潜在规范定义不足,性能局限和触发条件(包括可合理预见的直接误用),按照
7.5.15

应对 SOTIF 相关风险的措施,按照 8.5;
验证和确认策略的定义,按照 9.4。
注: 对于“规范定义和设计”中已识别的预先存在的 SOTIF 相关内容,以及由 SOTIF 活动迭代导致功能修改的可追
WItE.5.3 给出了指导。
10.3一10.5 的结构遵循了 4.2.3 中介绍的感知(10.3) 规划(10.4) 和执行(10.5)的模式。10.6 涉及
集成方面。

10.3 感知的验证

用于证明感知部分的预期用途,以及可合理预见的误用所表现的正确的功能性能.时间、准确性和
鲁棒性的方法,如表 7 所示。
注 1: 有些问题可以分配给不同的验证活动,例如,目标分类可能被视为规划算法的一部分(见 10.4)。在这种情况
下,应用不同条款规定的验证方法。

表7 感知的验证
"          验证传感器规范定义的充分性(例如,范围,精度.分辩率.时序约束,带宽、信噪比、.信干比的
FEED”
B          基于需求的测试(例如:分类,传感器数据融合)
C          注人触发功能不足的输入"
5             对选定的 SOTIF 相关用例和场景,结合已识别的触发条件进行在环测试(例如,SIL .HIL、
MIL)‘
E            对选定的 SOT IF 相关用例和场景结合已识别的触发条件进行实车测试*
7"          Fe EE EEE ENE ELEN II HEF
RE)


--- Page 46 ---
GB/T 43267一2023

表7 感知的验证 〈续)

验证传感器老化影响(例如加速寿命测试等)

评估来自该传感器,或此类传感器的现场经验(包括现场监控)

通过对已知危害场景进行回注仿真,以验证已实施的风险缓解机制的效果
验证架构属性,包括触发条件之间的独立性(如果适用)

”这还包括传感器组装期间的终检线测试(EOL)(例如 :雷达天线和雷达天线量之间的安装校准、摄像头成像器
与摄像头镜片的安装校准) 。

”在一些测试用例中 ,可以通过在仿真层面进行错误注入的方式,来模拟传感器某个潜在的功能不足。同时需
要提供错误模型可以代表所测试现象的理由。仿真的结果可以与触发条件的分析结果相结合。

“使用已经识别出的传感器模型的局限性来选择测试环境CHIL/VSILVMIL 或实车) 。

4 在某特定传感器有着行业共识的老化故障模型的情况下 ,传感器老化效应的验证可部分在仿真中完成。

BE 2: 对于测试用例的生成,采取组合测试的原则 。
注 3: C.4 提供了感知传感器验证的示例。

10.4 规划算法的验证

根据 4.2.3,规划算法基于感知部分提供的环境模型推导出控制动作。用于验证规划算法按要求做
出反应,以及避免非期望动作的能力的方法,如表 8 所示。

表8 规划算法验证

对于输入数据不受其他来源干扰的鲁棒性验证,例如 :白噪声 .音频、信噪比降级(如通过噪声注人
测试?

基于需求的测试(例如:态势分析 功能、传感器数据的可变性

验证架构属性,包括触发条件的独立性(如果适用)

对选定的 SOTIF 相关用例和场景,结合已确定的触发条件进行在环测试(例如:SILVHILVMIL)

对选定的 SOTIF 相关用例和场景,结合已确定的触发条件进行实车测试

注人触发潜在危害行为的输入

验证是否正确遵守驾驶策略[例如,实现最小风险状态CMRC)和超出 ODD 时的操作了”

通过对已知危害场景进行回注仿真,以验证已实施的风险缓解机制的效果

”包括车辆选择并实现了适当的最小风险状态(MRC)的验证。
”D.1 介绍了驾驶策略指南 。

注:对于测试用例的推导,采用组合测试的原则52 。
10.5 执行的验证
验证执行器的预期用途和可合理预见的误用的方法,如表 9 所示。

36

--- Page 47 ---
GB/T 43267一2023

RI 执行验证

方法

基于需求的测试(例如准确性、分辨率、.时序约束、带宽)

验证执行器被集成在整车环境中或系统测试台架中时的特性

不同环境条件下的执行器测试(例如:低温条件、潮湿环境)

不同载荷条件下的执行器测试(例如:从中等载荷变化到最大载荷)

验证执行器老化的效应(例如加速寿命测试)

对选定的 SOTIF 相关用例和场景,结合已识别的触发条件进行在环测试(例如:SIL .HIL .MIL )

对选定的 SOTIF 相关用例和场景,结合已识别的触发条件进行实车测试

验证架构属性,包括触发条件的独立性(如果适用)

通过对已知危害场景进行回注仿真,来验证已实施的风险缓解机制的效果

”对于某特定执行器具有行业共识的老化故障模型时,可以使用仿真来完成一部分执行器老化效应的验证。

注: 如果能论证执行系统没有任何功能不足或触发条件 ,那么仅根据 GB/T 34590(所有部分)或其他相关领域特定
标准进行测试是充分的。

10.6 ”集成系统验证
验证集成到整车中的系统的鲁棒性和可控性,以及系统组件的正确交互的方法,如表 10 所示。

表 10 集成系统验证

方法

A      BIE FA 296 AE HE C1 A dk BEARD

-           在整车集成环境或系统测试台架上进行的基于需求的测试(例如:性能目标和行为特征,可测量参
数 .范围.精度,分辨率.时序约束、带宽)

C           对选定的 SOTIF 相关用例和场景,结合已确定的触发条件进行在环测试(例如:SIL.HIL MIL)

D           不同环境条件下的系统测试(例如:低温潮湿.光照能见度条件 .干扰条件)

E      验证系统老化影响(例如:加速寿命测试

F        定向随机输入测试"

G           对选定的 SOTIF 相关用例和场景,结合已识别的触发条件进行实车测试

H      可控性测试(包括可合理预见的误用)

I       验证内部和外部接口

J        车载传感系统特性验证

K       验证架构属性,包括触发条件的独立性(如果适用)

L           通过对已知危害场景进行回注仿真,来验证已实施的风险缓解机制的效果

”这还包括整个ODD 和 OEDR 的鲁棒性的验证,以及包括超出 ODD 在内的最小风险状态策略的稳健执行的

”预期的现实世界场景通常很难重现,因此随机输入测试可以作为替代,例如如下情况:

一一图像传感器添加翻转图像或更改的图像块，
一一曙达传感器添加虚假目标以模拟多路径返回;
一一曙达传感器因多车雷达干扰增加虚假目标或丢失检测目标。
”这包括不同传感器在不同运行条件下的工作(例如:当一种传感器技术的能力不足时,如雾或挡风玻璃反射率
影响摄像头 .保险杠/标志的形状和油漆类型影响雷达)和传感器位置的误差。


--- Page 48 ---
GB/T 43267一2023

注 1: 对于非确定性系统的验证,可能使用统计方法或风险管理技术进行已知危害场景的评估。
示例: 驾驶策略行为依囊于对道路参与者的假设,特别是在存在钼挡时,在某些情况下遵循已知的非危害行为可能
注2: C.4 提供了集成系统验证的示例。

10.7 已知危害场景导致的残余风险的评估

第 9 章中定义的确认目标,提供了在运行阶段以足够的置信度满足接受准则的论据。 因此,验证结
果表明 ,已知危害场景的确认目标已经实现,已知危害场景的残余风险并非不合理。

如满足下列条件,已知的危害场景是可以接受的，

一一己知场景导致危害行为的概率符合确认目标;

-一不存在可能导致特定道路使用者面临不合理的风险的已知场景。

示例: 当地地理属性(例如,某条隧道或桥梁)不会导致风险的不合理增加。
10.8 工作成果

验证和确认结果,以表明预期功能在已知场景中按照期望运行,实现目标 10.1。
11 未知场景的评估
11.1 目的

本章的目的是确认结果应证明来自未知危害场景的残余风险以足够的置信度满足接受准则。
注: 评估 V&-V 活动对可能场景的代表性蓝盖是一种方式。

11.2 ”概述

为实现本章的目标,可考虑以下信息:

一一规范定义和设计,按照 5.5，

一一已识别出的潜在规范定义不足、性能局限和触发条件(包括可合理预见的直接误用) ,按照
7.5.15

-一解决SOTIF 相关风险的措施,按照 8.5，

-一验证和确认策略的定义,按照 9.4;

一一表明预期功能在已知场景中按照期望运行的验证和确认结果,按照 10.8。

11.3 ”未知场景残余风险的评估

在现实生活中可能遇到未知场景。现实生活情景引起的残余风险可能会在系统集成到车辆后触发
危害行为,对于这些残余风险的评估,可应用表 11 所示的方法 。

表 11 残余风险的评估

A        对信噪比降级的鲁棒性的确认(例如:通过噪声注入测试7

B        确认架构设计的效果和特性,包括触发条件的独立性(如果适用)

g        采用随机测试用例(源自技术分析和错误猜测?的在环测试

D        随机输入测试”

E           考虑已识别的触发条件,对选定的测试用例(源自技术分析和错误猜测)进行整车层面测试


--- Page 49 ---
GB/T 43267一2023

Rll 残余风险的评估 (续)

基于现场经验的测试
极端场景和边缘场景的测试"
与现有系统的比较
随机场景集合的仿真
对随机使用和新手驾驶员潜在误用的测试
考虑场景特定条件的功能敏感度分析-
相关参数的分析/ 仿真
现实世界里的场景发所'
功能分解和概率建模(即考虑一个要素的不足条件由其子要素的多个输出不足组成;见 C.6.3.3)
相较于真值的确认
注: 发掘的方法是通过对现实世界场景蓝盖一个多样性集合,来搜索未知的场景。这可以包括系统地或随机地
”参数选择是通过敏感性分析、统计分析等方法来论证的,以证明所选参数是相关的。
”预期的现实世界场景通常很难重现,因此随机输入测试可以作为替代,例如如下情况:
-一图像传感器添加翻转图像或更改的图像块，
-一雷达传感器添加虚假目标以模拟多路径返回，
-一雷达传感器因多车雷达干扰增加虚假目标或丢失检测目标。
“极端场景是指两个或两个以上的参数值都在系统的能力范围内,但共同构成了挑战其能力的罕见情况。边缘
场景指存在极值或存在一个或多个对系统能力产生挑战的参数的场景"2 。
”如果该情况的微小变化可能导致车辆在整车层面上显著不同的行为,则功能被视为对场景的特定情况很
© WL 7.3 AYEE 5 RE 6 和注7。7.3.1 所述的触发条件列表可用于识别相关用例参数。

对于在公共区域进行的测试,可能需要采取额外的安全措施(例如:急停装置),以防止或减轻试验
车辆对公众造成的潜在风险。
TE, 每次引入变化,如算法变化.ODD 变化.OEDR 变化 ,在原环境中导入新车型和驾驶策略变化等变化时 ,都会
出现新的未知危害场景。 一旦引和人了这些变化,表 11 中的方法也用于重新评估残余风险。
所选择的一组方法足以在区域 3 中识别潜在的危害场景,例如,通过使用典型用例的输入,以及通
过关注具有挑战或罕见的运行环境,特定的用例、情景或场景。同时,需要提供所选方法充分性的理由。
车辆测试里程的确定(例如,长期测试,车队道路测试?可以考虑以往整车项目的经验、驾驶员可控
性或选定测试路线的关键度。当使用带有错误注入的随机输入测试时,可以选择一定数量的仿真场
景,来匹配代表目标地理市场所需的测试里程和内容。
当考虑不同的测试方法,如场地测试,仿真测试或开放道路测试,为每种测试方法分配适当的公里
数或运行时长 ,并为这种分配提供理由。
BE 2 因为仿真是对真实世界的不完整建模,决策算法的连续随机仿真循环虽然可能仿真了和车辆数百万公里的运
行,但是可能被贱予与真实世界测试不同的权重。
注3: C4 提供了 SOTIF 相关系统确认的示例。


--- Page 50 ---
GB/T 43267一2023

根据第 9 章,选择确认目标的方式是,通过确认目标的实现,可确保满足接受准则。在这些条件
下,由于未知的危害场景而产生的残余风险是可以接受的。

示例: 确认目标可以是在一组测试场景中,遇到的以前发生的未知危害场景的最大数量。如果在执行完这些测试
场景之后,遇到的以前发生的未知危害场景的数量小于定义的目标值,可认为确认目标被满足了。

11.4 工作成果

11.4.1 未知危害场景的确认结果,以实现 11.1 的目标。
11.4.2 ”残余风险的评估,以实现 11.1 的目标。

12 ”预期功能安全实现的评估
12.1 目的

本章的目的是实现以下目标，

a) 应对 SOTIF 活动产生的工作成果的完整性.正确性和一致性进行评审;

b) 应根据本文件各章的目的及相应工作成果的完成情况,为 SOTIF 的实现情况提供论证;
c) 应对 SOTIF 实现的论证进行评估,并提出批准或拒绝 SOTIF 发布的建议。

12.2 ”概述

为实现本章的目标,可考虑以下信息，

一一规范定义和设计,按照 5.5

-一整车层面的危害,按照 6.6.1，

-一危害行为风险评估 ,按照 6.6.2;

-一接受准则 ,按照 6.6.3;

-一识别的规范定义不足,性能局限和触发条件 ,按照 7.5.1，
-一系统对触发条件响应的评估 ,按照 7.5.2，

一一SOTIF 措施的定义,按照 8.5，

-一验证和确认策略的定义,按照 9.4;

验证和确认的结果,以表明在已知危害场景中预期功能的行为符合预期,按照 10.8，
-一未知危害场景的确认结果,按照 11.5.1，

一一残余风险的评估,按照 11.5.2;

一一现场监控流程,按照 13.5。

12.3 评估预期功能安全的方法和准则

每项工作成果应就其完整性.正确性和一致性进行检查 。

基于第 5 章一第 11 章的目的以及第 13 章中定义的现场监控措施(例如流程和必要的硬件资源)的

实现情况进行论证,以表明 SOTIF 得到了实现。

注 1: 使用 GSN 方法的论据结构示例,见 A.1。

对该论证的评估包括但不限于以下几个方面。

a) 是否对危害 ,潜在的功能不足和触发条件进行了分析,以及是否实施和评估了为实现 SOTIF
而做的所有必要的设计更改,以确保这些设计更改已根据所有指定用例中的接受准则充分降
低了风险?

b) 预期功能是否达到了最小风险状态 ,在必要时为驾乘人员或其他道路使用者提供了一种没有
不合理风险的状态 ,考虑以下方面:
1) 已定义的驾驶员的干预


--- Page 51 ---
GB/T 43267一2023

2) 可合理预见的误用;
3) 已定义的对驾乘人员和/或其他道路使用者的警告
4) 已定义的功能降级
5) DDT 后援(以达到最小风险状态) 。
c) 验证和确认策略是否覆盖所有已知的危害场景,并且是否提供具备足够置信度的论据以证明
未知危害场景中的残余风险满足接受准则?
1) 测试结果是否覆盖已识别的触发条件,包括环境条件以及直接和间接的误用?
2) 在验证和确认策略中 ,是否包含充分的确认活动来限制由己知和未知场景带来的风险?
d) 是否完成了充分的验证和确认,并满足确认目标,以确信不存在不合理的残余风险?
1) 是否充分执行预期功能以评估标称行为和潜在危害行为?
2) 对危害行为而言,是否有证据证明不存在不合理的风险?
3) 测试是否提供了足够的履盖度作为论据来证明驾驶策略在所有用例和/或 ODD, OEDR
中具备鲁棒性?
e) 是否具有实现运行阶段活动所需的方法(根据第 13 章)?
注 2: 如果第 13 章描述的运行阶段活动导出了 SOTIF 措施,则在第 12 章的活动中评审这些措施 。
示例: 见 C.2.2。
注3: 对SOTIF 活动结果的检查与 GB/T 34590.2一2022 的功能安全评估一并考虑。

12.4 ”预期功能安全发布推荐

根据 12.3 所述方法论的证据,可以确定“接受”““有条件接受?或“拒绝"SOTIF 发布的建议。在“有
条件接受”的情况下 ,条件将被记录并在最终发布前验证其是否被满足。

注:“有条件接受?是一种过渡状态。在这种情况下 ,条件将被记录并在最终发布前验证其是否被满足。即:当满足

条件时可接受最终发布。

示例: 作为长期耐久测试的一部分,可以根据 6.5 中定义的接受准则设置行驶里程的中间目标值。如果满足所有条
件,则判定为可接受。如果解决 SOTIF 问题所做的设计改进而产生的回归测试未完成,但其余条件均满足,则适用于有
条件接受。回归测试成功完成后,可以发布。

需对 SOTIF 实现的评估文档化。

12.5 工作成果
SOTIF 发布论证,以实现 12.1 的目标。

13 ”运行阶段的活动

13.1 目的

本章的目的是实现以下目标:
a) 应在发布之前定义现场监控流程,以确保运行期间的 SOTIF，
b) 应执行现场监控流程,以保持运行阶段的SOTIF 的实现。

13.2 ”概述

第 5 章一第 12 章中描述的 SOTIF 活动,目的是在 SOTIF 发布时将风险降低到可接受的水平。然
而,在一些情况下风险评估可能需要被重新考虑,例如:
一一如果在功能运行期间 ,现场发现了一个以前从未识别的危害;
一一如果在功能运行期间 ,现场发现了以前从未识别的功能不足和/或触发条件;
41

--- Page 52 ---
GB/T 43267一2023

-一如果与功能开发期间定义的假设相比,环境条件或交通规则等假设发生了变化。

为实现本章的目标,可考虑以下信息，

-一第 5 章中定义的规范定义和设计;

一一第 6 章中定义的接受准则;

一一第 7 章中定义的已识别的潜在规范定义不充分,潜在的性能局限和触发条件(包括可合理预见
的误用)，

一一第 10 章中定义的验证活动的结果，

-一第 11 章中定义的确认活动和残余风险评估的结果。

运行阶段的活动覆盖范围见图 17。

功能和系统规范 » 发布时
发布时一系列可能的场景
Kee: 已
知危害场景
由于已知和未知危害场景导致的残
RAR:

证明预期功能安全发布时足够低
三          估算的正确性被监控

运行阶段活动范围一|

运行中

 17 ”运行阶段的活动范围

BE: 为全生命周期实现 SOTIF 所必需的、保持与规范定义和设计相一致的有关活动,包括 GB/T 34590.7一2022 ta
盖的生产.运行和服务活动 ,不在本章范围内。

13.3 ”与运行观察相关的主题

现场监控流程的期望取决于驾驶自动化等级.预期功能的复杂性以及危害的严重性。对于较低的
驾驶自动化等级,普通的市场观察可能就足够了。对于较高的驾驶自动化等级,额外的手段可能是必需
的,例如,自动驾驶数据存储系统(DSSAD)/汽车事件数据记录系统(EDR) 车载/远程安全监控系统。

观察的内容包括但不限于:

a) 功能已造成或潜在会造成伤害的事件 ,或功能已超过定义值并在不同情况下可能导致伤害的

事件;

示例 1: 这些事件可能包括:

-一事故或事件报告，

-一驾驶员报告里声称的问题，

-一车载机制指示的潜在弱点;

可合理预见的误用报告;

违背了与障碍物的最小距离;

-一接近和触发特定系统响应的场景。

注 1: 对于高等级的驾驶自动化系统,可能需要实施监控机制,例如车载监控。这些机制能在事故发生之前探测到
潜在的功能不足(如:险些导致事故的功能不足.引起要素层面输出不足的条件)。在这种情况下 ,需要在开发
阶段中定义 SOTIF 车载监控机制的要求。


--- Page 53 ---
GB/T 43267一2023

示例 2: 车载监控机制可以;

一一捕捉触发紧急系统响应的场景;

-一捕捉驾驶员非预期接管的场景，

-一捕捉导致最小风险状态的场景。

b) 知识体系;

示例 3: 知识体系可能包括;

-一来自公共安全机构(包括其他车辆制造商)的市场上公开可用的、可能与该功能相关的事件;
一一来自其他相似系统设计或相似功能的经验教训。

c) 可能影响 SOTIF 并可能导致重新考虑 SOTIF 评估的环境演变。

注 2: 环境演变代表了场景中的变化,这些变化包括但不限于运行范围的变化和用户的系统交互的变化。
示例 4: 该演变可能包括，

-一道路和交通的演变，

-一法规修改;

-一基础设施改变;

一一新的用法及其误用，

-一道路使用者特征的演变，

一一通常的用户习惯的改变,或因使用系统而导致的改变。

13.4 ”预期功能安全问题评估和解决流程

在 SOTIF 的问题评估和解决流程中,定义了以下角色和职责:

-一将相关数据提供给开发团队，

一一评估收集的数据以确定风险是否仍然合理，

-一如有必要,定义和推出确保 SOTIF 的措施。

运行阶段活动包括但不限于以下 。

a) 监控和分析
监控的步骤是根据 13.3 定义的观察相关主题进行连续监控。监控可能是被动的[见 13.3a)]
和主动的[见 13.3b)、13.3c)]。此外,监控可能发现在开发阶段未识别的潜在危害场景。
如果观察到了任何 SOTIF 相关的事件,需要分析对 SOTIF 论证的影响 ,并对 SOTIF 论证的
有效性再次评估。

注 1: 监控目标可能在开发阶段定义。

注 2: SOTIF 相关观察能被用于更新或丰富数据库,以用于支持进一步开发所需的 SOTIF 分析(经验教训) 。

注3: 关于 SOTIF 论证的示例见附录 A。

注 4: 如有必要,SOTIF 论证可能被更新。

b) 风险评估和危害缓解
如果预期功能安全论证不再有效 ,就需要评估风险。基于 SOTIF 观察的风险,来决定风险缓
解的方法。为缓解不合理风险,快速响应可能是必需的。在执行相应 SOTIF 活动来最终修
复以前,可以采取不需要任何额外 SOTIF 活动的措施(如通过空中升级来部分或完全抑制功
能) 。增加新的 SOTIF 措施并升级系统作为长期行动项是必要的,这需要执行额外的 SOTIF
活动,并进行一次新的SOTIF 发布。SOTIF 发布之后,必要的系统和功能更改,需要考虑第 5
章一第 12 章进行开发。

注 5: 空中升级(OTA )能提供一种灵活方便的方法来实施修改,以便在运行阶段及时解决识别出的功能不足(见 D.6) 。

注 6: 对于量产后,通过在线升级(OTA)方式新增或更新驾驶自动化功能时,不能以具备现场安全监控系统为
由,代替或部分代替 SOTIF 验证和确认活动。

13.5 工作成果

现场监控的流程,以实现 13.1 的目标。
43

--- Page 54 ---
GB/T 43267一2023

WOR A
(资料性)
预期功能安全的通用指南

A.1 用目标结构表示法构建预期功能安全论证的示例
A.1.1 概述

A.1 提供了如何使用目标结构表示法(GSN)59来呈现 SOTIF 论据的两个例子。表 A.1 和表 A.2
描述了 GSN 示例中使用的元素。论据可以使用不同的方式来组织。A.1.2 和 A.1.3 给出了两种可能
的,但不是唯一的结构示例。

GSN 是在安全领域广泛应用的一种方法。GSN 的目的是将支撑最高目标*不存在不合理风险”达
成的合理性记录下来。即展示目标是如何被分解成子目标 ,并最终得到证据(解决方案)的支持,同时明
确用于达成目标所采取的策略和背景信息 。

注: GSN 也用于应对其他标准中的目标和目的,例如,GB/T 34590(所有部分) 。

表A.1 使用的 GSN 元素的描述

名称

(Eeenet         目标              目标,用矩形表示,表示主张(构成论据的一部分)
WE      vers         fee FEAT UAT AAO SE HT
《策略声明》                                       在推理的性质

解决方案或证据,用圆形呈现,表示对某一证据项的参考

(RTs IRINA)      ee
Nase      解决方案或证据    ie
背景信息,用左图表示,表示一个上下文环境。这可以是对

上下文信息的引用,也可以是一个陈述。有时用于定义目标
或策略中的术语

{假设标识符}                               假设,用右下角带有字母 A 的风圆形表示,表示一个未经证

《假设声明》       假设          实的陈述
cmeHeee     证据支持连接线,用一条带有实心箭头的线表示,可以记录

推断或证据关系


--- Page 55 ---
GB/T 43267一2023

表A.1 使用的 GSN 元素的描述 (续)

符号                       名称                                      描述

环境条件连接线,用一条带有空心箭头的线表示,声明环境

环境条件连接线
—>       A EA    条件关系
一种表示在实例上也许有多个相应关系的表达方式。实心
        iad     球象征着(零或更多)。球旁边的标签表示数量关系

表A.2 使用的 GSN 官方标准之外的标记元素的描述

引用有关于两个元素之间关系的论证的一种方法。
注: 安全论证包含对以下信息的参考:

-一提供背景信
-一说明假设;
-一展示证据。
保证主张点      这些参考资料的充分性和适当性可能被质疑。对这类

质疑的解答将是对所参考信息是充分且适当的这一主
张的论证。保证主张点(ACP)的使用是一种方便的语
法形式，            或需要一个支持的可信论证,同时不
会使主论证图混乱。ACP 背后的论据将由单独的图
提供

SH   AX        图形参考           图 A.X 的参考指引,在其中继续进行论证

A.1.2 GSN 示例 1

GSN 论证的示例 1(图 A.1一图 A.10)是基于不存在由于已知(即区域 2)和未知(即区域 3)的潜在
危害场景所导致的不合理风险。
注: 在 GSN 示例中,AD 用作*自动驾驶”的首字母缩写,DA 用作*驾驶辅助"的首字母缩写。

--- Page 56 ---
2023

GB/T 43267

ALLOS (828 va ok Gv 工医于并星闫:JILOS-D

a                                                                      By
GENE FAB ln <4                                  ES LR BA ARR
2AdO AVAL                                  HORA Lo el aR “NIE

Pod: WARE                           Sa

BM GARG ALLOS 9 8 div

WES BAAR 9-9 dA 一

‘ME
ado 一

:JILLOS-D-ZD WEES

dl

S AU AB KE Vine
VS SBE
ALLOS-9

ALLOS S83 eG AE

oD

BMW EEROG ALLOS 9 8 div

WES BARE 99 dM 一

‘ME
BMWS mea 一
: ALLOS-9-19 BSH

16

--- Page 57 ---
GB/T 43267一2023

JILOS LLEBB EHR ed-9 7V 图
vv se°v Bh <>                                                                 ~

(9qI3 ) RAR —                       Weg BF ASR OPE
:1 ZAod-9-1D BRE                        1 Zad-9

EJ
MAM WY LEY 5 9 9 dM
:是可于当地天 1 9 9 dN

SAG

re                nm
DEE BKENL              WERE 99 A
WEY “FLEW
yal                                                 aR
SRI “HMRI LH                        ee em                va
4PEM

See EASE TG DS BAA Le ty *
BEML ABR EHEC AHL LRY 一
:8-ZAod-D-IV Bh

eI                                         a
TASHALHH 89 9 dN                   °                                           晤到大页人
aes ee BF HE                                       Ke                 PA dinbelefeobeeyriates            TOLLE INANE LPH

gad-9                                        MRR AS                          生 全<                                     lad-D

:8E-ZAod0-D-1D WER

GARD RRC YR
AYE ‘AUN WARS Be BY — ie
UG * (i 38 ST eg EH LB (ACY
GB ES BY ls LEED) AME DS
: lAad-9-ZVY BU

(9 T OA) AEE eee Bf IY
:ET 2d) Mee ey —
:gaAod-D -ID BEER

ALLOS J S63 esky, dE

Ad-9


--- Page 58 ---
2023

GB/T 43267

Yee

618 -—8——I$ WMO BSEPPREM'Od-9 CV A

(ELPA EE TT GT Es iit 9 EY)
AE A BY
KBBRMIER I's2 dM 一

(PEE TG) List SPY)
AA MS BY
KARRI 1S L dM 一

ME

PENA Ah
SARA BM Bd 1 0 SA RE
bb ta

(PAS 6 1 OL ie SEY)

WEA A
KBR T'S LdM 一
ME                                   AA CEE 5 9 9dA 一
‘ME
PENG EE TH RA it
wz

NES Ee FHA GD WO ae
zea

TA ABE

WKH SL GBH       ;
1           OT Mea ERE
bb wea)

fig
TAR ELLA GD TL ie
ZL Zeod-9

eg LR 5
* ae

(ATA) % Ae shee    4
*td-9-1 BW Sha

Dig EF A EE
1-5

18

--- Page 59 ---
GB/T 43267一2023

Gi8= $—[6MBSAAYRRS eOd-D YY 图

(eZ *€ “1 Ga) 从
GE GS DS SLR EYE ELE
‘Meee

inhenemmietiitt fd
ol ta
PEE TH Ie

PRD FHSS TT dM —
:洁疆从
eh lahat TSTT dw
WY BER LEN A MoH ee
18 FA * TFTA “OT dM 一
WE
SUEY PT
vere

BEIGE NE RETA YA * HAA
SEE ee AG ES
STzAad-9|

BETSEY 496 CGO
9 zeoq-D

RA aS

VU? FTF 6d 一
‘WE
SS YA 78 TL,

ghz

2a) EME
Pro ie eee aa
L°V@0-9-10 BSE

WES WB 8
WEVA — SRE

FRAC YA Op 8 TRS
Vi? RD SR
8小zAad-D

eget
Bs
td

(8871 °GA) SS YG 2 TG
:ee       WIN #4.LAG/AdO
“2990-9 LOB Shes

Weg LRA 7 Bee
ase

QI) KAY                         asec ea
Fyed-5- Loe shies                                Tzead-9

49

--- Page 60 ---
2023

GB/T 43267

FAA AME ZS TT dM 一
He
YER GD EF BSB BPG TS “TT dM
SAE BERG LE 2 Mo I SE
Big HE MTG 801 dM

ME
SUEY OO 8 TGS
vere

人lzA9d-D 9V Bl

ae                  fH

DEE LLGY BY HOA a              BERCLYGH 2 MOE Ss ey
Bn WRG 8 0T dM 一          Ge WG 8 0T dM 一
ME                            ‘ME
PEGE A OS GT                    ENE AG

s Va                                                 eV7a

“1 Ca) Sas YA GP TR —
WE                         WW H.LG/dO
PRUE LER                        '      Te) EME
eves          FERGIE G MH OBOE LH 一
:LTZAod-D -1D BEER

50

--- Page 61 ---
GB/T 43267一2023

tlzA9d-D 9V 国

FMM AE ZS TT dM 一

he
Yen Gp arms aB BpIBRSE T'S “TT dA 一                (ek                        re
AOS BRC LGN AY Me HM SEE                  BLEC LLG BBA OG AE MG               ELEC LYE BB UE HHO I UE IG
Big A WTNH 8 0T dM              Bins WN 8 0I d —         MA WHIM 8 0T dM
WE                                 ‘NE                              ‘WE
SP MEYL O79 INGE                        PENG eae Bf                      EMEA 2

ye

s Vea                                                           eve

(3 €°l Oa)

(i MBE OB SD aR EE BC LY

(88° Za) MARS YEG TG                                                                 WANK                                                        :从用次的
‘(ele Za) RMN M.LOG/ddO                                  EH EL EY Pt 2?                           BYWRUWNRbRBER YW 一

:9TZAod-D -ID济时次时                                 frTZAad-D                                2(8 TD)

REM EE BA se

:frTZAod-D LO BSE

--- Page 62 ---
2023

GB/T 43267

Sied-D LV图

PAA STL dM
mi
六驹有次等是如菩半 T'S “TT dA 一

(ane                                                   fn

AES BER. LEG at Me HO SE               BLE LY EN BB UF HOG UE Bg            DLAC LLB BB OG AF MG
Sig ie WMG sol dM 一          Fe ‘WM 8 0I dh           BMG WM 8 0T dN
‘ME                          ME                        ‘ME
SUEY TGS                   PEM A BIG                 PENA AEG

v7                                                            SFz3                                                      8 AZ了

eS                                  (88 Ca) BORE YEG 8 TO
SPzoa-9                   :9 zy FZAod-D-1D神时次对

人

--- Page 63 ---
GB/T 43267一2023

DLKPLEMEMELCO-D 8V国

SACHA
FAURE PHS “S dA 一

(ERASE GY WL
SER) HAGA A aN SY
SOR HIED | ‘can 一
PEGE ED SE TE EE
"Ze Vea

) RARE IRH.LaG /ado —       wanwenas aux                              :   t Me
STAT                       WEAG20R Lad /qqO                            :
HSE ER HET                                             上EPZAad-9D                                    (Lad) 4H Mie Se

2 VOMd-9-1O WERER                   Ze veoa-9

BLK LG RG
8 TZAod-D

--- Page 64 ---
2023

GB/T 43267

AWHWHOY PSY REREUPR HAS eod-D 6V国

Lg

WES LAG LOI A GMM AF pg

UGA “TEs “OLN
Atl Ze HE Le HOE

HOF LAC

Mids                     (4) EL Me EE

ALLO. “7 UGK 2              a     wey A

MER S 92 “SLA BAEL                        WMS ONY 一
Me                      Ee

Py ALU ol TLE LH                 SNMP

ERG Cea tte a.            A eR NB

1g GE Bs ME Bie H+ AA Sad
87 ea

eh) ea

区                BME Ra
‘Ye GD EY SB SH                    me BE
Sede GIF              SERRE AEE,

Zewd-9                                                          vedo

RES CR UHRA
(STG) Bee SE BF                   BAY HUE               ah MESSON ERY EF 一
:ET 7a) RMA             BALM eB YG EL               * APR Ls EL Le
eo to ania                   |              LB WE WM
.              WDE ERY —
:gaAo9d0-D-IV BUS


--- Page 65 ---
GB/T 43267一2023

Ba Wed Git Me HL BG Of EY Yt BE a BB YL Ll St SE
‘BOSSA RERbRNOAG SOF PPM-D 0LV 图

BRAM Ais Chey

ME
AME 一
eA —
a —
BR OR Mh                          SEA A SER PR a th
qpR-3 * Bele                                                   "PPL A

wanzamowavin| | oxwqameay see                路
号    ‘               a         ff     号      fu    Aum                 Wey
Paes        Become Ca | | 1a PRGA BERR | | SOR AUsROT AChR REET
:               AMM MibaiREe| | TARGA Te             at
gphpld-9              7PPH-D

FL Fe Ua) FG a PE

Ra GY eM                BAD GY EY SS Sy BO EH AR
Bly “WARAdOW AML Hj           ORORAA [o BR fel RE * A
:ppUH-9-IV Bug                       2% Gd AR VN ws BA TRE LY Se OG
PPH-9


--- Page 66 ---
GB/T 43267一2023

A.1.3 GSN 示例 2

示例 GSN(图 A.11一图 A.16)显示了支持顶层目标*已经实现了不存在因系统预期功能或其可合
理预见误用而导致的不合理风险”的论据结构 。

所提出的论据结构具有通用性,适用于所有系统。其被分解到子目标,以进一步发展为特定的系
统。在这一点上,参考了标准中提到的可以用来进一步阐释每个子目标和提供必要证据的主题。

功能或其合理可预见误用而导
致的不合理风险

基于对功能开发以及在
现场运行中对功能
进行监控的论证

G3 :发布后
已适当考虑识别和处理与

> 完分性可基于所部署活动                            做机后问题有关的SOTI

A2

针对已知的危害场景和合理可预见
的误用，如果系统和组件的行为符
合预期，那么目标G5保持有效

S1-G2
论证有足够比例的危害
场景是已知的

G5:风险接受
在每个已知的危害场景下|
的风险是合理的

注:见第7章和第8章。

DY 图^13

HAN G-Field:已经实现了不存在因系统预期功能或其可合理预见误用而导致的不合理风险

--- Page 67 ---
GB/T 43267一2023

忆

B4SURR'D ZLV 国

rr一一一一一一二二二sn aea                                                       r一一一一一一一二二二a              『一一一一一一一一二二了
1

1       v:            VEM!               1      VEN |   1       VIEW |
LVY和WILL           a

Fel BS 5 It aK
BETA ADE Beg                                     SW Hy BY Bd 2 Ay
019                          SBA OL DY BB
Cy)

TR GUGM AE EF Arty AY 1A 5th
FEAL DY A DL

RETA ISLA “LOM TH: HR

aw                   wag       Ser ee ete
这                        伺   TG Cf ae we.   HE Ln A459
WERE       Bes HUNT BT AL                          W
BHRY YD


--- Page 68 ---
GB/T 43267一2023

表A.3 与ACP 相关的主题:危害声明(已正确识别所有危害)

用于识别所有因功能不足导致的危害的方法的充分性
方法的定义
方法部署所耗费的资源

风险评估的完整性和正确性
评审(根据第 12 章)SOTIF 活动产生的证据,以发现 SOTIF 实现过程中潜在问题的能力

表A.4 与 G9 开发相关的主题(潜在功能不足和触发条件的分析已经表明有足够比例的已知危害场景)

从类似项目中获得的知识

从现场经验中获得的知识

已知的潜在规范定义不足和性能局限

先前识别的环境条件和可合理预见的误用

用于识别所有潜在功能不足和触发条件的组合方法的充分性(表 4)
每种方法识别特定潜在功能不足和潜在触发条件的能力(表 4)
方法的定义(表 4)

方法部署所耗费的资源(表 4)

与算法相关的潜在功能不足和和触发条件的识别

与传感器和执行器相关的潜在功能不足和触发条件的识别

可合理预见的误用分析(表 5)

评审〈根据第 12 章)SOTIF 活动产生的证据,以发现 SOTIF 实现过程中潜在问题的能力

表A.5 与G10 开发相关的主题(未知场景的残余风险在接受准则的范围内)

车辆设计(例如安装位置

用于揭示迄今未知场景方法的充分性(表 11)

每种方法识别特定潜在功能不足和潜在触发条件的能力(表 11)
方法的定义(表 11)

方法部署所耗费的资源(表 11)

对新识别场景的处理

RAG 与ACP 相关的主题:危害声明(已正确定义接受准则)

符合已定义的接受准则

工作被认为是充分的

适用的政府和行业标准法规

用于证明 SOTIF 的置信和度的定义

对目标市场可用交通数据的使用(C.2.2.4)

来自类似功能现场运行的已有准则的使用

选择目标的基本原理,如 GAMAB, ALARP,MEM


--- Page 69 ---
GB/T 43267一2023

BBAW'SO 8LV国

| BABGOSE Am Ea ORE

WORM DH RE,
| ON OE EYL ON AM *  ti

<M
WEY IAS

REGR  ari ra

here aera
IE

PALM Ba wee
IBAA Bi bh 3 2G HA
weeyeeen KEE

* REGUS AE LG IK * I

WM FaNEE LR
Hy ‘MORSE LA eM “BL
Ba BU Bea ie I YL KY
SHE“ HOEMOL SSSA Lb ty Bi eG HF
eww :99

《迁居|-
次等是忠明隆意:ID

--- Page 70 ---
GB/T 43267一2023

RAT 与ACP 相关的主题:确认目标声明(已正确设置确认目标)

RAS 与ACP 相关的主题:系统规范声明(系统规范已被完整且正确地定义)

ODD 定义的完整性和正确性

中间层决策逻辑描述的完整性和正确性

车辆和实现预期功能的要素(可包括系统 .子系统和组件等)的描述的完整性和正确性
该功能在车辆动力学上的权限和驾驶自动化等级描述细节的完整性和正确性

性能目标的适当性

可合理预见的误用场景描述的完整性和正确性

接口和交互描述的完整性和正确性

假设的完整性和有效性

系统和子系统的局限性及其对策描述的完整性和正确性

系统架构(用来支持对策)描述的完整性和正确性

报敬和降级概念描述的完整性和正确性

支持预期功能的数据收集信息描述的完整性和正确性

性能目标描述的完整性和正确性

已知潜在性能局限及其对策描述的完整性和正确性

迭代过程?〈用来保持规范的更新)有效性描述的完整性和正确性

分布式开发管理过程有效性描述的完整性和正确性

系统限制描述的完整性和正确性

鲁棒性(由最终系统架构提供)描述的完整性和正确性

评审(根据第 12 章)SOTIF 活动产生的证据,以发现 SOTIF 实现过程中潜在问题的能力

RAI G12 开发相关的主题

采取"减少"措施

使用系统修改以避免或降低预期功能安全相关的风险
使用措施以限制预期功能

使用措施将驾驶权从系统转交给驾驶员

使用措施来减少或减缓可合理预见误用的影响

用于根据修改进行系统规范更新的流程的充分性

KANO G14 开发相关的主题

使用专家判断
残余风险与 6.5 规定的接受准则的比较
缺少已知的场景可能导致特定车辆出现不合理风险的情况


--- Page 71 ---
GB/T 43267一2023

关东朱印信 驳炊:99 plV 国

                                             I
ST-V 图  }                                                                        "REO Mi HR

*MEOTR IM HE

Span MMAR A                                 ean                        are “AcsHsu ADE                           Ga
SOE ob YE                     基于中用只下各                  EL)                       NRE 99

919                                                                 SE REALE FEMS SE BA) EG
BF Th ip 2 Se SY ad TG OC A
SI9

MHWL
THEIRS HOY (SNL FE
99-18

“RLOT MG IMSL OME HR

“HOO BAC LL 6TH  “EY         LEC IEG
A GY HO Le it Tea ae OY Hg A      sires ueairin
ZV       HEY BS Sp DY HG Tl EA

EE LGU 4d BSUE GE 199

61

--- Page 72 ---
GB/T 43267一2023

表A.11 ACP 相关主题:验证和确认策略(验证和确认策略已被正确定义)

已知场景的覆盖率

场景子集的暴露度

使用暴露度 .可控性及严重度来评估危害行为场景

用于指定验证和确认活动的方法的基本原理(表 6)

策略用来验证传感器提供准确环境信息的能力的有效性

策略用来验证传感器处理算法对环境精确建模的能力的有效性

策略用来验证决策算法安全处理元素技术局限的能力的有效性

策略用来验证决策算法根据环境模型和系统架构做出适当决策的能力的有效性
策略用来验证系统或功能和鲁棒性的有效性

策略用来验证不存在由于预期功能的危害行为而导致的不合理风险的有效性
策略用来验证人机交互CHMDI)避免可合理预见误用的能力的有效性

策略用来验证后援移交场景有效性的有效性

所选方法的基本原理(表7.表8\.表9.表 10)

所选方法的充分性(表7,表8、表9,.表10)

评审(根据第 12 章)SOTIF 活动产生的证据,以发现 SOT IP 实现过程中潜在问题的能力

62

--- Page 73 ---
GB/T 43267一2023

9L9 SIV

Sb ae Le Th HB DG SH
fll he 2 HG i EF
0zD

SCAB

AAS TH MG Le ae SF BY EH   Hf 5 BR BB AN Ge
TEA   BRR GH GD

61D                                   81d

aH

iH A ‘Lt
HSER, “304 A6 TG BY
SA A i 2 HT

119

TQ SAG
MIREIOR RBA L IE
9TD-TS

“OTHE

<i>

Ea re eld                               ;

SSE of aE YEO                hehedihehicnibathaie
919

63

--- Page 74 ---
GB/T 43267一2023

表A.12 G17.G18.G19.G20 开发相关的主题

车辆设计(例如安装位置?
已知场景的蓝盖率
接受准则的符合度

触发条件的覆盖率

所选方法的基本原理(表7.表8、表9,.表10)

所选方法的充分性(表7,.表8,.表9.表10)

方法的定义(表7、表8,表9.表10)

方法部署所耗费的资源(表7,表8,.表9,.表10)

评审(根据第 12 章)SOTIF 活动产生的证据,以发现 SOTIF 实现过程中潜在问题的能力

64

--- Page 75 ---
GB/T 43267一2023

eyed 9LV 图

TAA Wm Hd 5
SEGEMO “WM
el eB GE

wo

TAA WHEW Hd SMG
HIER “HRY LE
BDU AGW Bis EH

1749)

Wea EW HAE J
SEEM “GM

SOMES OB HAR BG EE
wD

TAGs) JILOS fx
89-18

“MCI 末
BIE Vt
AMEE SHA‘ R

NE AL BEY 4LLOS
GE LM GNF eee

WRK :99

MSTA FR
ay                               <EM>
GARE) ALLOS GY SY 29 3 aa ne        KABA S FLA :ZD

(gest Sed “BA Et Be 8h Ly re
Lo

ROLE
CBA RM
JOTRE MLE
€9-1S

“MCIMM OR

add ALLOS GO Sei bl EY
FETE A Se
IRR :259

--- Page 76 ---
GB/T 43267一2023

表A.13 GC 开发相关的主题

车端和场外基础设施是否足以监控在用中的功能不足
识别和响应系统潜在不足的能力

识别和纠正设计不足的能力

识别和响应运行变更的能力

收集现场数据的能力

监控预期功能安全相关问题的能力,包括系统的误用

使用现场数据识别问题的能力
监控当前认知水准的能力
监控使用环境更改的能力
分析和评估已识别风险的能力
减轻已识别风险的能力

表A.14 G21,G22,.G23 开发相关的主题

识别和应对系统的潜在不足

识别和纠正设计不足

识别和响应运行变更

利用现场监控数据收集来加强用于预期功能安全活动的数据库
监控与预期功能安全相关的问题,包括系统的误用

使用现场监控以识别潜在的不足

对认知水平的监测,以识别潜在的不足

监控对使用环境的更改以识别潜在的不足

对识别出的风险进行分析和评估

风险的减轻

A.2 GB/T 34590(所有部分)与本文件之间交互的说明

A.2.1 概述

本条解释了依据 GB/T 34590(所有部分)的功能安全和本文件之间的交互 .并提供了示例,以展示
二者潜在的协同效应。

为简单起见,对于所讨论的活动或工作成果 ,并未论述全部的方面,因而,本子章条不具有完整性。

A.2.2 GB/T 34590(所有部分)与本文件关于范围的对比
A.2.2.1 概述

可通过两种不同的方法来进一步解释两个标准之间的差异和共性:
一一三圈行为模型
一一安全问题的因果关系分类视图。

66

--- Page 77 ---
GB/T 43267一2023

A.2.2.2 ”三圈行为模型

图 A.17 中的三圈行为模型 ,详细说明了 GB/T 34590(所有部分)范围和本文件范围的差异和重和登
的部分一

期望行为

 A.17 三圈行为模型

注 1: 这三个圆圈明显缺乏足够的重奏程度,仅是用于举例说明,并不代表真实情形 。
在图 A.17 中每个圆圈代表行为的一个不同方面。
一一从不考虑任何技术限制的安全角度来看,期望行为是理想的(有时是想要致力达成的)行为。
其反映了用户和社会对系统行为的期望。
示例 1: 自动驾驶功能不会导致事故。
示例 2: 自动紧急制动(AEB)系统的期望行为应该是 100欠的真阳性制动和 0%%的假阳性制动。
注 2: 对期望行为的描述,不一定总是包含所有可能的方面。
一一规定行为是考虑了约东(如法律 .技术.商业、客户接受性)的期望行为。
注 3: 根据第 3 章,预期功能被定义为规定功能。因此 ,预期行为作为预期功能的行为,是规定行为的同义词。
-一实现行为是真实世界的系统行为。
比较 GB/T 34590(所有部分)和本文件的范围,可得出以下结论。
-一GB/T 34590(所有部分)在其范围中明确排除了相关项标称行为的安全相关内容,而本文件明
确包含了整车层面规定行为(对应标称行为)的安全相关内容。
一一GB/T 34590(所有部分)明确地针对电气/电子随机硬件故障问题。本文件并不明确针对这种
问题。然而,对随机硬件故障的反应,即紧急运行,可能涉及预期功能安全。
一一确保实现行为符合规定是 GB/T 34590(所有部分)的任务之一;而针对某些复杂系统(如
ADAS、AD 系统)的上述问题,则是本文件的任务之一。对于这些系统,GB/T 34590(所有部
分)未能提供足够的指导来确保这一点。该问题与开放性环境有关,即真实世界无法 100儿准
确地被描述 ,或对其的正确感知无法被 100%%确认。采用复杂的算法和传感器(如摄像头、雷
达或激光雷达)来感知环境并进行分类,并从该信息中推导出控制行动的系统,在本文件考虑
的范围中。
示例 3: 某个基于摄像头的系统具有行人检测功能。当行人身穿特定颜色图案的服装时 ,该算法可能会出现错误地
分类行人的问题。对所有可能的服装颜色图案进行定义和测试是不可能的。本文件旨在描述 GB/T 34590(所有部分)
的附加要求。与 SOTIF 相关的电气/电子要素,在 GB/T 34590(所有部分)中也被视为安全相关要素。
示例 4: 如果某个通过软件实现的物体检测算法可导致安全目标的违反或实现,则在 GB/T 34590.1一2022 中,该算
法被视为安全相关的要素。

A.2.2.3 安全问题的因果关系分类视图

在安全问题的因果关系分类视图中,GB/T 34590(所有部分)和本文件范围的差异和共性之处如
图 A.18 所示。


--- Page 78 ---
GB/T 43267一2023

因果关系2类:
随机硬件失效

| | 因果关系1. 1类: 整车层面
        规定行为的问题

因果关系1. 2类: 规定

行为的实现问题

图例:[--] 本文件重点关注的方面

5二J GE/T 34590(所有部分)重点关注的方面

图A.18 安全问题因果关系分类方案

注 1: 此分类方法仅关注 GB/T 34

单起见,该方法省略了其他安全问题(如电气危害) 。

该方案包括以下分类。
a) 因果关系 1 类:系统性问

590(所有部分)和本文件所述的电气/电子(CE/E)系统引起的安全问题。为了简

题

该类别包含可能与系统性问题相关的安全方面。该类别可进一步分为:

一一因果关系 1.1 类:整

车层面规定行为的问题

一一因果关系 1.2 类:规定行为的实现问题。

b) 因果关系 2 类:随机硬件故障
该类别包含 GB/T 34590(所有部分)描述的由随机硬件故障引起的安全问题。

c) 因果关系 1.1 类:整车层面规定行为的问题
该类别包含整车层面上规定行为引起的安全问题。本文件针对整车层面功能的规定行为引起
的风险,对于这些功能,恰当的态势感知对安全至关重要。态势感知基于复杂的传感器和处理
算法(如通过摄像头 .激光雷达或雷达探测目标物) 。在本文件中 ,造成这类问题的原因被认为
是整车层面的设计规范定义不足。

注2: GB/T 34590(所有部分)中明
d) 因果关系 1.2 类:规定行
此类问题由性能局限 BE

确排除了标称行为的安全相关内容。
为的实现问题
素层面定义不足等其他各种设计和实现问题造成的。

这三种因果关系中,1.2 类系统性问题属于 GB/T 34590(所有部分)范围,因为此类问题与电气/电

子(E/E)系统.子系统.组件或其人
有关。
在要素层面,只有那些合适的

也要素的潜在系统性失效有关,也和预期功能安全要求相关的问题

态势感知对安全至关重要的预期功能的性能局限和规范定义不足包

含在本文件的范围之内。在要素层面范围内的功能包括，

一一感知:对环境的感知[例如:利用车辆内部和外部(如 V2X)数据探测周围静态和动态目标物、

街道布局和自车位置]，
一一规划:决策算法(即 :根据
一一执行:执行(即:执行上述
68

前述感知结果得出控制动作的控制算法);
决策算法得出的控制请求) 。

--- Page 79 ---
GB/T 43267一2023

注 3: 如果某个特定安全问题不能明确归类为预期功能安全问题或是功能安全问题,则同时应用两个标准来解决该
问题。

A.2.3 本文件与 GB/T 34590(所有部分)活动的协同

本文件与 GB/T 34590(所有部分)产品开发活动的结合如图 A.19 所示。由于两个标准处理不同
安全方面,因此两个过程都被视为产品的可靠安全论证。标准开发活动之间的结合对于在早期阶段对
整车的设计以及包括系统 .子系统 .部件等要素进行可能的修改至关重要 。

在开发过程初期 ,规范定义和设计(根据第 5 章)可以与 GB/T 34590.3 的相关项定义协同开展(见
A.2.4) 。

注: 第 5 章包含各抽象层面的功能和规范定义。这与相关项定义不同,后者定义顶层的功能。

对预期功能引起的危害的识别和评估可以与 GB/T 34590.3 的危害分析和风险评估(HARA)协
开展(见 A.2.5)。对性能局限和潜在触发条件的识别与评估 ,需要考虑系统局限,并根据 SOTIF 评估
其可接受性(见 A.2.7)。这一阶段可与 GB/T 34590(所有部分)的功能安全概念和技术安全概念协同
开展(见A.2.6和 A.2.7) 。

用于降低 SOTIF 风险的功能修改(根据第 8 章)可以与 GB/T 34590(所有部分) V 模型左侧的开
发活动协同开展。

在评估硬件CHW)和软件(SW)?组件层面的性能局限和潜在触发条件时,可与 GB/T 34590(所有部
分)的硬件和软件开发活动协同开展。4.4.2 和 4.4.3 分别提供了分布式的 SOTIF 开发和 SEooC 流程
方面的指导。A.2.9 描述了 GB/T 34590.8 中的过程支持的主题。

SOTIF 的验证和确认可与 GB/T 34590(所有部分)V 模型右侧的活动协同开展(见 A.2.10)。SO-
TIF 验证和确认策略是根据 SOTIF 开发前期阶段产生的信息定义的。

SOTIF 成果评估和功能安全评估对开发活动进行了总结 ,并用于整个系统发布。现场监控可以与
GB/T 34590.7 中要求的现场监控流程协同开展。

al

ee i; ou.
全评估         务和报废

整车
测试

验证
测试

硬件与软件开发

图例:
GB/T 34590(所有部分) 流程步骤
一”本文件的流程步隔，x表示相应章条

图A.19 本文件和 GB/T 34590(所有部分)产品开发活动的可能交互

69

--- Page 80 ---
GB/T 43267一2023

A.2.4 整车层面相关项定义和功能定义

本文件的起点为整车层面功能规范。GB/T 34590(所有部分)的起点则为相关项定义。

注 1: 相关项是实现整车层面功能或部分功能的系统或系统组。给定的车辆功能可能由多个相关项实现。在这种
情况下 ,车辆功能和单个相关项本身的功能有所不同。

注 2: 相关项可能与多个车辆功能的实现相关,从而多个车辆功能(或其子集)的定义可以作为相关项定义的一
部分。

注 3: 本文件阐述的在整车层面上定义的功能与 GB/T 34590(所有部分)中一个或多个相关项实现的车辆功能
相同。

示例 1: 本示例中的车辆功能“自动紧急制动(AEB) "通过雷达传感器 .域控制器和制动系统[如电子稳定性控制系

统(ESC)]实现(见图 A.20) 。

制动系统

(如ESC)

图A.20 系统架构示例

GB/T 34590(所有部分)允许以不同的方式定义相关项。例如,车辆功能可以通过两个相关项实现
(雷达传感器和域控制器作为一个相关项,ESC 作为另一个相关项) ,或者整车功能可以通过一个相关
项实现(雷达传感器 ,域控制器和 ESC) 。

在 A.2.4一A.2.10 中,相关项被定义为实现完整的整车功能,即相关项功能等同于整车功能。

注 4: 为了简单起见,本示例忽略了相关项实现的其他功能。

示例 2: 整车层面 AEB 功能定义:AEB 功能触发最大制动力，

一一一旦发现障碍物且碰撞无法避免(这意味着碰撞无法被阻止,但可以降低碰撞的严重度)，

-一最大速度降为 zx km/h,

注 5: 为改进 SOTIF 而进行的更改(如功能修改.新要素的引入),也会对相关项定义产生影响 。

A.2.5 HARA 与针对预期功能引发的危害的识别和评估
A.2.5.1 概述

GB/T 34590(所有部分)关注电气/电子功能,在危害分析和风险评估(HARA)中,分析功能异常行
为在整车层面产生的危害。在整车层面,不论是电气/电子失效,还是不安全的预期功能(甚至是信息安
全问题) ,导致危害的行为是相同的。然而,考虑到预期功能的权限限制(例如 AEB 的最大减速度限
制) ,产生的危害幅度可能是不同的。在 HARA 中识别出的危害和功能异常行为,可能与 SOTIF 所考
虑的相同或相似。

A.2.5.2 GB/T 34590.3 危害分析和风险评估(CHARA)

HARA 识别相关项的功能异常行为,并评估由此产生的风险。
示例 1: AEB 相关项的功能异常行为如下 。
一一非期望的自动制动，
e 在规定的速度降限制范围内:ASIL X 为对危害事件进行E.C 和S 评估的结果，
ee 超出规定的速度降限制范围:ASIL Y 是对危害事件进行EC 和 S 评估的结果(Y三X)，
-一自动制动过晚或丢失
ee 由于高可控性(制动是驾驶员的常规行为)和低暴露度(紧急制动是小概率事件),可将危害事件评定
为 QM。
注: (关于上述示例 1)在其他具有更高驾驶自动化等级的系统中,系统可能承担了总体的制动任务 ,而不仅仅是紧
70


--- Page 81 ---
GB/T 43267一2023

急制动。在这种情况下,上述阐述可能不再有效。
SOTIP 引发的功能修改可能对 HARA 中的参数产生影响。
示例 2: ALB 功能在自动制动时限制了最大速度降,这增加了后方车辆的可控性,避免追尾,降低碰撞的严重程度。

A.2.5.3 ”识别和评估由预期功能引起的危害

本活动从以下方面评估车辆功能。
-一车辆功能的规定行为是否安全?
一一车辆功能的非期望行为有哪些 ,其是否是可信伤害的来源?
-一可合理预见的误用会带来什么风险?
示例: AEB 的风险识别和评估 :
a) 在定义的用例中 ,整车层面的规定行为是否安全?
如果规定行为可能是事故的原因,评估给定环境中是否有更合适的行为。
根据 AEB 系统的规范,只有当碰撞不可避免时,才会进行干预。在这种情况下 ,驾驶员可以以最大能力进行制
动。如果驾驶员不这样做,AEB 系统将代替驾驶员进行制动。除非驾驶员想通过横向躲避来防止事故发
生,这是最好的可能行为。在后一种情况下 ,制动甚至可能会适得其反,降低可用的横向加速力。因此,修改了
整车层面的规定行为:当转向扭矩为 y N + m 时,AEB和干预被抑制或中止。通过这一修改,整车层面的规定行
为被认为是安全的。
为了简单起见,本示例中省略了对该新增内容的进一步评估。
b) 车辆功能的非期望行为有哪些?这些行为是否是可信伤害的来源?
一一误触发:在规定的速度降限制范围内非预期制动。
日“后方车辆没能及时作出反应,导致妃尾。在这里,该系统引入了新的风险。这种非预期行为是可信伤
害的来源,且与预期功能安全(SOTIF)相关。
-一漏触发:在即将发生碰撞时不制动。
e ”该系统仅起辅助作用,也就是系统既没有把驾驶员从指定任务中解放出来 ,也不会给驾驶员一种从制
动任务中解放出来的印象,因为除非事故已经不可避免,否则系统不会制动。从预期功能安全
(CSOTIF)的角度来看,这种非预期行为不会给系统引入新的风险,也不会被视为可信和伤害的来源。因
此,这种非预期行为与预期功能安全无关。
e 在其他系统中,该系统可能会接管制动驾驶任务。在这种情况下,上述说法不再有效 ,这种非期望行为
则与预期功能安全有关。
一一在规定的速度降限制范围之外制动 。
e”在规定的速度降限制范围内进行制动的能力,取决于车速测量的准确性和制动器的执行情况。
日“导致超出速度降限制范围的制动的与环境有关的潜在触发条件(如,来自前方的阵风.上坡梯度增加)
是可能存在的,但这也基于相关项的控制回路可以快速的适应它们 ,并将过制动控制在较小的范围内。
ee如果已经建立的系统很好地解决了车速测量 ,制动控制回路和制动执行的性能局限。则不需要本文件
中描述的预期功能安全(SOTIF)流程。这种非期望行为与本文件无关。
c) 可合理预见的误用会带来什么风险?
-一误用场景:驾驶员将*避免与目标物碰撞的制动"任务转移至 AEB 系统。
e 在产品使用说明书中明确提到 ,该系统仅辅助驾驶员 ,并不能防止碰撞,只是削弱了影响。
日该系统以令人极不舒适的方式进行制动。
因此,驾驶员将制动驾驶任务全权转移给该系统的风险不是不合理的。
一般来说,可通过告知驾驶员该系统的局限性(例如通过产品使用说明书)来降低误用的可能性。
包括广告和产品命名在内的销售材料不应导致用户的错误期望。

A.2.5.4 结论

小心弄慎,确保由预期功能引起的危害识别和评估结果与危害分析和风险评估(HARA)结果一
71

--- Page 82 ---
GB/T 43267一2023

致。在 A.2.5 中使用的示例中,功能异常行为/非预期行为"非预期制动"和*在即将发生碰撞时不制动”
就是这种情况。由预期功能引起的危害识别和评估发现的非预期行为,与危害分析和风险评估
(CHARA)所发现的错误功能行为,可能导致相同的危害。

针对预期功能引起危害的识别和评估 ,与危害分析和风险评估(HARA)不总是必然重合。考虑规
范行为安全性的评估是典型的预期功能安全(SOTIF )话题。

在评估由相关项功能异常行为所引起的危险事件时,GB/T 34590 (所有部分)HARA 只考虑了可
合理预见的间接误用,并将其视作可能导致可控性降低或严重程度增加的原因 。

在评估该系统危害行为引起的危害事件时,本文件同样考虑了可合理预见的间接误用。然而,本文
件还考虑了可合理预见的直接误用,并视其为潜在触发条件。

这些活动的某些方面,例如可控性评估,既可以被视为预期功能安全(SOTIF )话题,也可以被视为
功能安全话题。

A.2.6 功能安全概念和预期功能安全功能规范

功能安全概念规定了故障响应(如紧急运行.过渡到安全状态等)。对于高级驾驶辅助系统
(ADAS)和自动驾驶系统而言,这种故障响应也可能是一个预期功能安全(SOTIF 问题。对于这些系
统,预期功能安全(SOTIF)定义必要的功能,从而以安全的方式执行规定的故障响应。功能安全的任
务是在发生故障时确保定义的必要功能可以使用(例如通过故障容错) ,或者确保故障发生的概率足够
小(例如通过故障预防) 。

定义安全故障响应其本身既可以被视为预期功能安全(CSOTIF )任务,也可以被视为功能安全
任务。

示例: 在使用自动驾驶功能的情况下 ,故障响应可为如下示例，

一在当前车道上安全停车;

-一开往下一个停车场。

注: 通过适当的信息交换和(或)评审 ,保持第 8 章规定的功能修改与从 GB/T 34590(所有部分)中功能安全概念相

关分解的要求一致

A.2.7 ”技术安全概念和预期功能安全

由于预期功能安全(SOTIF 活动,系统设计可能会发生变化(例如,通过引入新的传感器) ,这可能
会影响技术安全概念。

此外,由于功能安全活动,系统设计也可能会发生变化(例如,通过引入新的传感器) ,这可能会影响
预期功能安全(SOTIF ) 。

A.2.8 安全分析

确保功能安全和预期功能安全(SOTIF )的分析活动,侧重于功能链,并使用相同的设计作为起
点,但具备不同的视角。功能安全分析解决了实现电气/电子要素规定行为过程中引入的系统性问
题,以及电气/电子要素的随机硬件故障。

预期功能安全(SOTIF)分析(第7 章)侧重于功能不足、.其潜在的触发条件及其对车辆行为的影响。
此外,分析还考虑了可合理预见的间接误用(第6章、.第7章)。

GB/T 34590(所有部分)的安全分析结果可作为预期功能安全(SOTIF 分析的输入,反之亦然。

对整车层面的规定行为的安全性以及可合理预见的误用导致的风险的分析是预期功能安全(SO-
TIF) FA HY.

A.2.9 支持过程
本文件未明确阐述有关开发流程本身的要求。开发流程是否适用对于实现安全性至关重要,现有标

72


--- Page 83 ---
GB/T 43267一2023

准[如 IATF 16949 和 GB/T 34590(所有部分让对此进行了说明。例如,假设有必要对 GB/T 34590.8 的支

持过程进行调整,并将其应用于支持预期功能安全(SOTIF)的实现,如:
一一可对根据 GB/T 34590.8一2022 第 5 章规定实施的开发接口协议(DIA)加以详细说明 ,以解决

预期功能安全(SOTIF )各方面的问题(见 4.4.2) 5

一一可以将根据 GB/T 34590.8一2022 第 11 章规定所使用软件工具的置信度应用到相关的工具
鉴定中 ,通过一些调整来实现支持预期功能安全(SOTIF) 。

注 1: 除了明显的工具错误之外,仿真工具在一定偏差范围内表示真实世界的能力,可能与预期功能安全(SOTIF)
具有特定相关性。

注 2: 对真实世界数据的测量准确性本身,可能与预期功能安全(SOTIF)具有特定相关性。

A.2.10 验证和确认

针对预期功能安全(SOTIF)相关要求的验证和确认策略(见第 9 章)以及具体测试用例(第 10 章和
第 11 章)也可以考虑功能安全要求。

某些测试用例可以针对预期功能安全和功能安全问题,而某些测试用例仅针对功能安全方面(例
如,安全机制探测和指示随机硬件故障的能力)或仅针对预期功能安全方面(例如,评估整车层面规定行
为充分性的测试) 。

A.3 简化的预期功能安全应用示例

表 A.15 通过考虑与设计运行范围相关的 SOTIF 危害及其减缓,给出了具备递增驾驶自动化等级
的不同功能间的对比简化示例。

表A.15 设计运行范围相关的预期功能安全(SOTIF)危害与减缓措施的简化示例

部分驾驶辅助 |组合驾驶辅助| 有条件驾驶自动 | 有条件驾驶自动 | 高度驾驶自动化
(L1一一根据第 3 | (L2一一根据第 3 | 化〈(L3一一根 据 | 化〈L3一一根 据 | (L4一一根据第 3
系统示例      章表 2)       章表 2)       第 3章表2)    第 3章表2)    章表 2)
结合车道保持的
自适应巡航控角               i   f      05 le          动驾驶出租车
自适应巡航控制  自适应巡航控制  交通拥堵辅助   高速路辅助驾驶 | 自动驾驶出租车
该忆 感   二公  7  SE
器检测前车来增  sedi  fe Be ca Ni   该功能使用多个 | 该功能使用多个
seas air   器将车辆保持在 | I. KONE EA |     | we
强标准汽车巡航 车道中心的位| 传感器使车与前 不同的传感|不同的传感
、     控制。如果距离       | eased  器,在交通中自| 器,在定义的地
系统描述        ae   、 | 置,并检测前车 | 车保持安全的纵        Pal     E,   i
前车太近, 则该  以调整车速, 从 | 向距离，功能包  主导航, 执行高 | 理区域内自动导
功能将采取减速| -， ，   a      速公路驾驶的所 | 航从 A 点到B点
     | 而保持预设的车 | 括转向,以便保| ，，    和      —
措施, 以匹配前  间时距       持在行驶车道上  有必要操作    的交通
车的速度            all    °
4
动态驾驶任
向车辆运动控制
动态驾驶任务
(DDT)一一目标
和事件探测与响 驾驶员      驾驶员      系统       系统       系统
应COEDR)


--- Page 84 ---
GB/T 43267一2023

表A.15 设计运行范围相关的预期功能安全(SOTIF)危害与减缓措施的简化示例 (续)

部分驾驶辅助| 组合驾驶辅助| 有条件驾驶自动 | 有条件驾驶自动 | 高度驾驶自动化
(L1一一根据第 3 | (L2一一根据第 3 | 化〈L3一一根 据 | 化〈L3一一根 据 | 〈(L4一一根据第 3
章表 2)     章表 2)     第 3章表 2)   第 3 章表 2)   章表 2)
自适应巡航控制 timer 交通拥堵辅助 | 高速路辅助驾驶 | 自动驾驶出租车
 任 | yop      驾驶员      后援用户*    后援用户*    系统
1) 保持跟车时 | 1) 在车道上跟 | 0) 跟随前车,其
距, 引导车| 。 随前车,达| 行驶速度等
辆达到设定   到设定速度| 。 于或低于<
速度              和跟车时距       km/h. 距离
不超过 y m
2 当自主车辆 | 2 当自车的前| 2 如果前车疏        所有与城市和
的前方没有   方没有前车 |。 变车道,则继 | 所有与高速公路 后
     前车时,保| 。 时,保持所| 。 续跟随下一 | 相关的用例(跟| 例(跟随 超车、
持所需速度   需速度并沿 | 。 辆紧随的前 | 随`车道保持`并 | 并道.交通控制
车道行驶    车;或者, 如 | HAE   停车等)
果 没有前
车,则要求驾
驶员接管车
辆控制权
当车辆在地理区
nathan 系统在大多数环 | 系统在除极端天
加有    当车辆处于可检 | 上,并且在大多数 | 复洒件下,在地四 | UCC Fr
AVL a km/h] 一     OO | 可用的高速公路 | 定义) 以外的所
”| ae ath Le | 环境条件下以低| | 和
erecnm |RAESREA nok) Fx km/h ome | PEPER | 让 中 OR OR 件
BOE BR BOT | wnt vee | seeewenn egeay | 恶劣环境条件| Fe a
运行      =e    TRS | ee tu eae kc | ES
统可运行     可运行(假设在恶 等,该功能会断| 城市区域中可
BREAN st | 下      na
浓雾,大雨等,该
功能会断开)

74

--- Page 85 ---
表 A.15

系统示例

预期行为/功能
示例

GB/T 43267一2023

设计运行范围相关的预期功能安全(SOTIF)危害与减缓措施的简化示例 (续)

部分驾驶辅助
(LI1一一根据第 3
章表 2)

组合驾驶辅助
(L2一一根据第 3
章表 2)

有条件驾驶自动
化〈L3一一根 据
第 3章表 2)

有条件驾驶自动
化〈L3一一根 据
第 3 章表 2)

高度驾驶自动化
(L4一一根据第 3
章表 2)

自适应巡航控制

与前车保持安全
的跟车时距。如
果距离前车太
近,则该功能将
施加适当的制动
力以保持安全的
跟车时距。如果
检测到距离前车
Bee. 则该功能
将应用加速,直
到达到用户的预
设速度

结合车道保持的
自适应巡航控制

距。如果距离前
车太近,则该功
能将施加适当的
制动力以保持安
全的跟车时距。
如果检测到距离
前车较远, 则该
功能将应用加
速,直到达到用
户的预设速
度,并应用横向
控制保持车道

交通拥堵辅助

该系统邀请用户
在如浓雾等恶劣
环境条件下接管
车辆, 并在车辆
超出设计运行范
围前取得车辆控
制权

高速路辅助驾驶

执行并线横向操
作,同时为他人
留出适当的时间
和空间

自动驾驶出租车

在遗挡区域谨慎
行驶

需要减缓的预期
功 能安全
CSOTIF) 危 害
示例

当接近桥梁
时,系统因错误
地将桥梁感知为
道路中的静态金
属物体而制动

自车和前车在合
流车道上运行。
前车汇人预定车
道, 当前自车不
再检测到前
车,因此开始加
速至先前预设的
巡航控制速度。
自车驾驶员无法
在合并车道结束
并驶离道路之前
汇人预定车道

当该系统进入大
BREEWUAH
精度感知目标物
而发出接管请求
时,由于接管用
户没有观察到视
觉警报, 因此接
管用户没有接管
车辆控制

车辆未能成功合
流,因为无法检
测到具有灯光和
颜色的车辆, 导
致自动驾驶系统
错误地将车辆归
类为标称天际线

相邻车道上的大
型车辆遮挡了交
通信号灯, 导致
自动驾驶出租车
感知不到交通信
号灯,在红灯时
进入了交叉路口


--- Page 86 ---
GB/T 43267一2023

表A.15 设计运行范围相关的预期功能安全(SOTIF)危害与减缓措施的简化示例 (续)

部分驾驶辅助 |组合驾驶辅助| 有条件驾驶自动 | 有条件驾驶自动 | 高度驾驶自动化
(L1一一根据第 3 | (L2一一根据第 3 | 化〈L3一一根 据 | 化〈L3一一根 据 | 〈(L4一一根据第 3
章表 2)       章表 2)       第 3 章表 2)    第 3 章表 2)    章表 2)

ANA eet            交通    ny ie    驾驶 | 自动驾驶出租车
自适应巡航控制  自适应巡航控制  交通拥堵辅助    高速路辅助驾驶 | 自动驾驶出租车

车辆的设计能够
检测到阻碍道路
的雾情,并向后             车辆通过感知数
援用户提供视觉 | 单独评估原始传 | 据使地图数据合
警报。 如果后援 | 感器数据的正交 | 理化,以便在进
用户无法接管控 | 且独立的碰撞减 | 人交叉路口之前
该功能限制加速 | 制,则该系统采 | 缓算法,验证生 | 寻找交通信号灯
权限        用其他方法,通 | 成的路径在被较 | 状态,并理解出
过刺激驾驶员的 | 低层面控制器接 | 现的大型车辆逐
其他感官,如听 | 受之前不会发生 | 挡了交通信号
觉,触觉,运动感 | 碰撞        灯。选择适当的
知(如短制动脉            行为方式

ah) Oe i
驶员

加强软件算
预期功能安全|法,以区分车辆
CSOTIF 减缓措 | 和道路基础设施
施示例       〈即钢桥、钢制外
iL)

”轰驶员和后援用户之间的区别在于驾驶员需要持续监控。而后援用户可能不会监控 OEDR ,但需要在适当的
时间范围内根据请求进和

就验证和确认而言 ,无论驾驶自动化等级如何,都有很多共性。

针对已知的潜在危害场景,SOTIF 缓解措施的评估:

a) 分析工作以揭示新的潜在触发条件;

b) 在演示缓解措施的已知场景下执行该功能。

这可以通过使用子系统和系统在封闭路线、仿真环境和开放道路的组合测试来实现。

针对未知的潜在危害场景,SOTIF 缓解措施的评估 :

a) 影响V&YV 策略的分析工作以揭示未发现的洪在触发条件，

b) 在封闭路线 .仿真环境和开放道路中对 ODD 进行持续暴露以实现确认目标,从而证明未知潜
在危害场景的残余风险是可接受的。

在扩大 ODD 时(例如将功能导出到其他城市或国家) ,需要识别和评估 ODD 和 OEDR 的变化。这

可能导致需要重复进行测试和仿真活动 。

A.4 规范定义和设计的简化示例

自动驾驶功能规范定义和设计是预期功能安全开发的输入 ,通常包含大量信息,并且在开发过程中
不断得到补充和细化。
表 A.16 以导航辅助驾驶功能为例,给出了一个经过简化的\非完整的功能规范定义和设计示
例,用以示范如何在项目开发的前期 ,快速生成可用于支持预期功能安全开发的规范定义和设计。
注: 本附录目的是提供一种规范定义和设计的初始编写方式和方法的参考,用以支持规范定义和设计的首次建立
或对相关内容的总结性呈现,因而本附录内容未涵盖规范定义和设计的全部条目,给出的条目也不具备完备
性.相关条目中给出的数据仅为了便于理解,非推荐值。


--- Page 87 ---
GB/T 43267一2023

RAI ”用于支持预期功能安全开发的规范定义和设计示例

导航辅助驾驶功能

功能描述

导航辅助驾驶功能,属于组合驾驶辅助功能,能够基于驾驶员选择的地图起点和终
点导航输入,实现高速/高架道路上车辆自动巡航控制,包括车道/臣道居中行驶,臣
道自动汇和信/汇出自主换道 .自主超车等子功能。在此过程中,驾驶员须全程关注
车辆运行情况,在必要时(车辆可能有/无提醒)随时接管车辆

功能开启条件

导航辅助驾驶功能已开启，
驾驶员已授权自动运行臣道汇人;
导航和路径规划需要臣道汇人

如图 A.21 所示 ,车辆以臣道允许的最高车速(例如:60 km/h)进入平行加速车道 ,车
辆通过传感器(例如:毫米波雷达 ,摄像头.GPS 等)探测加速车道及主路行车道的情
况,在确保足够安全的情况下自动控制变道 ,完成车辆汇人主路行车道

其他常见功能场景

当相邻车道(行车道或具有 2条加速车道的内侧车道)有障碍物车辆时,自车需要通
当加速车道有障碍物时,自车需要通过制动进行避障

1.6 功能接管

车相邻车道(行车道或具有2 条加速车道的内侧车道)一直存在障碍物车辆或其他原
因(如;大雨等天气原因)导致无法自动汇人时,车辆会通过声音和光电报警提醒多
驶员接管,如果鸭驶员一直不接管,车辆会在达到加速车道终点渐变段前完成主动
停车

2 设计运行范围(CODD)”"

2.1 空间

高速公路和人口臣道,主路宽 3.75 m,平行加速车道有效长度全230 m,路宽 3.5 m,道
路水平 ,附着良好(附着系数 0.9)

2.2 交通                    焉道限速 60 km/h,主路可能有行驶的车辆,车速 60 km/h一120 km/h,车长过13 m

2.3 时间和天气      能见度良好 ,天气良好情况下全天可用

2.4 其他        若有

3 系统设计

3.1 系统组成

at eH        摄像头.雷达(毫米波雷达和/或激光雷达) Se PRT BE 0, 8 BE A HR EQ I:
和/或手提方向盘检测)等

3.1.2 决策        导航辅助驾驶控制器

3.1.3 ”执行        转向系统 Hill Bh AGE BR BY RHE HMI 显示和报警系统.转向灯、制动灯等

3.2 系统架构图      见图 A.22

4 性能目标
摄像头探测距离 150 m(夜晚取决于前照明条件)，

4.1 感知方面       雷达探测距离 :前向 150 m,角雷达 80 ml

地图和 GPS 定位精度 1 m


--- Page 88 ---
GB/T 43267一2023

RAM ”用于支持预期功能安全开发的规范定义和设计示例 (续)

4.2 决策和执行方面

无障碍物情况下 ,自车主动完成汇人(打开转向灯至车辆中心行驶到主车道中心线)
时间 6 s(提前 3 s 打开转向灯提示);

车辆汇信过程中,侧向运动加速度最高 0.15g，

为躲避相邻车道障碍车辆时 ,自车主动加速能力最高 0.3g ,减速能力最高 0.3g:
紧急避障减速能力 0.9g(若附着条件人允许?

5 已知功能不足及对应的触发

条件

5.1 感知方面

感知不足 1:角雷达感知范围有限,汇人前可能无法准确探测到左后方来车或探测到
的时间过晚,导致自车与主路后方来车有碰撞风险;
感知不足 1 的触发条件:臣道曲率较大加速车道较短 .隔离带速挡等

5.2 其他方面

若有

6 安全策略.报警和降级概念

安全策略 1:自车打开转向灯到开始转向的时间间隔三3 s,以充分提醒主车道车辆，
安全策略 2:自车与相邻车辆的间距 TTC之0.5 3

安全策略 3:车辆汇人过程中,侧向运动加速度最高 0.15&g ;为躲避相邻车道障碍车辆
时,自车主动加速能力最高 0.3g ,减速能力最高 0.3g

6.2 报警和降级策略

报警和降级策略 1:当相邻车道一直有障碍物车辆时,自车会通过声光提醒驾驶员接
管,驾驶员接管手力矩为1 N。m。
报警和降级策略 2:如果驾驶员不接管(合理的人员接管延迟生3 s) ,车辆在达到渐变

段前完成主动停车 ,主动停车减速度 0.38 (紧急避障减速度最高仍为 0.9g)

若有

”为了简化,以下挑选导航辅助驾驶功能中下道自动汇人(主道)子功能场景为例进行论述。本表格中相关配置

参数或策略仅为示例。

"本表格中相关配置参数或策略仅为示例。

“对于 ODD 的描述,还可以参考场景描述的方法,例如附录 B等。
ODD 是设计确定的驾驶自动化功能的运行条件 ,但场景和使用案例考虑是执行驾驶任务过程中,一定连续时
间内车辆和外部的交互活动,这里的外部包括环境.道路.其他交通参与者等。可见,ODD 考虑的是设计上已

知的范围,而场景和使用

78

 A.21 功道自动汇入场景示意图

--- Page 89 ---
GB/T 43267一2023

 A.22 系统架构图

--- Page 90 ---
GB/T 43267一2023

附 录 B
(资料性)
场景和系统分析指南

B.1 推导预期功能安全误用场景的方法
B.1.1 概述

对于与 SOTIF 相关的系统,在执行安全分析时 ,考虑潜在的可合理预见的误用至关重要。可以从
各种来源获得包含 SOTIF 相关误用的场景,例如:经验教训,专家知识.设计人员的头脑风暴等。B.1
给出了系统性地推导 SOTIF 相关误用的示例方法,以支持 SOTIF 安全分析。图 B.1 给出了该示例方
法的概述,并概述了与 SOTIF 相关的误用示例。人为因素分析的方法在参考文献[16]中进行了描述。

目的/目标                                    需要考虑的背景信息

系统性地推导出合理可预见的误用场景

策略

“根据下面动作1一动作5，阐明推导危害误用场景时
需要考虑的事项 “

3) 考虑误用 | 参考         考虑驾驶员/乘客 /

原因                         用户/其他交通参与
者与+系统/年辆之
间的交互

范围
D) ° 整车/系统/功能层面 ,电气/
电子失效除外
。 利益相关者、 环境, 如图B. 2

例如:使用系统/来 | |器………)的
自系统的警告或信 | |功能之间的
息/车辆行为         交互

误用场景表(表B.2中的示例)

注: 关于图 B.1 中每个元素的符号形状的含义,参考表 A.1。
图 B.1 SOTIF 相关误用场景的系统性推导(示例)
B.1.2 描述了包含 SOTIF 相关误用的场景的考虑要点和示例场景因素表，
B.1.2”误用的安全分析方法的流程

以下描述了推导 SOTIF 相关误用时可考虑的要点。
a) 潜在的误用场景
考虑两种类型的误用情况:
一一在识别危害事件时,将*可合理预见的间接误用?与潜在的系统危害行为结合起来考虑;

80

--- Page 91 ---
GB/T 43267一2023

一一可合理预见的直接误用”作为一种潜在的触发条件,可能直接引发危害行为。
b) 利益相关者
考虑是谁引起了导致危害的 SOTIF 相关误用(如,驾驶员 ,乘客,用户.其他交通参与者) 。
©) RRA
在考虑 SOTIF $A ie FAY SECA 5 ALI BS) Ay A Sk BE Sl] SWB A 4) EF
引导词可能是有用的。
表 B.1 描述了可能的引导词示例。

表 B.1 人为错误引导词

示例

1.不理解                  由于用法复杂或信息不足而无法正确操作

2.错误识别                           由于信息过多而无法正确识别

由于错误印象或误解而导致的误判(如,自行车架的安装改变了
GNSS 天线的环境)

3.判断错误/误判

4.走神/失误                  由于注意力不集中(分心 .疲劳,惯性自满等)而导致的失误

违反社会规则 .普遍认同的人类行为.正确的操作方法(根据产品使用
说明书)

6.无能力               难以操作

d) 驾驶员/有用户.系统和车辆之间的交互
误用的原因可能是驾驶员/用户与系统/车辆接口之间交互的错误传达或时间限制(见图 B.2) 。
例如,可推导出以下接口主题:
一一名驶员进行的系统操作(使用) :从驾驶员到系统/车辆的接口。
示例 1: 预期由驾驶员的语音指令激活的系统,也可能由于乘员之间的对话中说出的“关键词?而被意外激活。
-一系统发出的警告通知:从系统/车辆到驾驶员的接口;
-一系统/车辆行为:从系统/车辆到驾驶员的接口。

其他系统/功能

图 B.2 驾驶员/用户.系统和车辆之间的交互示例

注1: 图B.2 中的方框和箭头具有以下含义:
一一方框:可能与系统交互的外部因素，
81

--- Page 92 ---
GB/T 43267一2023

箭头:可能的交互。

e) 考虑用例和场景的环境条件
在推导 SOTIF 相关误用时,可考虑环境的影响,包括路面条件。

示例 2: 表 B.3 或表 B.4 描述了用例场景中考虑的一些环境条件。

注2: 表B.3或表 B.4 既可能用于功能不足场景分析,也可能用于包含 SOTIF 相关因素的场景分析。作为替代方
案,误用案例可以与危害识别活动(见第 6 章)和此处的驾驶情况类别相关联。

在考虑上述要点 a)一e)来推导包含 SOTIF 相关误用的场景时,可以考虑使用如表 B.2 的场景表。

表 B.2 ”基于与 HAZOP 类似的引导词方法的误用场景表示例

    —            3            4) 驾驶员与 |             出

1) 潜在的 SOTIF                  eh) em |. 环境条件 | 导出的危害

相关误用场景    关              | (参考表甩3) | 。误用场景
            间的交互

操作(使用)

因为不知道
oo                                          警 告 的 合
E 执行 2 级                              义,驾驶员没
DDT 时,例如在高                      道,车道白线 | 有接管车辆
“eM tle Leth te te                                 突然不清晰

束公路上进行车                                     的控制权,车
道保持辅助和自                                     spies “eth

适应巡航控制,由

操作(使用)
限,车辆无法估计 | 4      2.错误识别    车辆行为
车道边界位置。
如果车站边界信                            3.判断错误/误判
息丢失,系统无法            —

检测车辆是否会           4走神/失误
偏离车道,则会通           5.故意

a2               驾驶员离开座位
6.无能力
驾驶员没有集中
意力

驾驶员睡着

于某个性能局

注3: HAZOP 和 STPA(系统理论过程分析,其应用示例见 B.4)等方法可能用于推导 SOTIF 相关误用的场景。
注4: 图 BAL 的方法无意对所有组合进行全面分析。图 B.1 中概述的方法仅作为示例,用于启发特定 SOTIF 开发
所需的分析。仅选择了影响危害事件的因素进行分析。对危害事件没有影响的因素可能记录为不适用。

B.2 SOTIF 安全分析方法的场景因素构建示例

本条给出了开发场景的示例方法以支持危害识别(第 6 章) .安全分析(第 7 章)以及为已知和未知
触发条件创建验证/确认场景(第 10 章和第 11 章) 。
采取以下步骤来识别和评估因各种条件(如部件特征.工艺.物理现象和环境条件)而影响系统性能
a) 为了进行分析,可把系统功能分解为以下要素 :感知.规划、执行;
82

--- Page 93 ---
GB/T 43267一2023

b) 根据触发条件的每个要素的影响因素(参考表 B.3 和表 B.4)构建潜在功能不足的场景。
注 1: 可能在 SOTIF 相关场景的生成中包含 GB/T 34590(所有部分)中的 HARA 场景生成表。
BE 2: 也可能在参考文献[17]中找到关于如何为正在考虑的操作推导一组代表性的具体测试场景的建议。

RBI 场景因素示例(未穷举)一一案例 1

雪(积雪)i*小雪"大雪”
EG

BKB WR

风

一天中的时间

直道

弯道

下坡

上坡
倾斜道路
阶梯路

不平坦道路
比利时砖路
FETE ,宽路
有中间带的道路
井盖

道路交汇
道路分支

道路特征


--- Page 94 ---
GB/T 43267一2023

RBZ 场景因素示例(未穷举)一一案例 1 (续)

分类

收费站
闸门
干燥
潮湿

低附路面
交叉道
水槽路
砾石路
日光直射(刺眼7
无月之夜
月光之夜

道路特征

路面条件

传感器的不规则干扰(例如:撞击导致传感器视野的变化)
传感器变化(例如:装配松动)
传感器起雾

车辆姿态(例如 ,当车辆因突然制动而倾斜时传感器视角发生变化)
车辆情况(例如,当自车牵引大型拖车时,传感器视野被站挡)
实际车辆质量(例如,带牵引)

质量分布

轮胎(例如:温度,胎面纹路或橡胶硬度)

制动盘〈例如:结冰或过温)

车辆加速

车辆匀速行驶

车辆停止

高速行驶

低速行驶

车辆转向中

车辆突然偏离路径

过路口

右转或左转

84

--- Page 95 ---
GB/T 43267一2023

RBI 场景因素示例(未穷举)一一案例 1 (续)

施工区绕行
接近交叉路吕
(交通)环岛
上下政道
穿越铁轨
周围车辆的位置
前车减速
前车突然碱速
前车加束
前车突然加速
周围车辆，       DAT
Ww;             走走停停地跟车
一 侧边车辆;     有和车辆在自车右方同向行驶
BEE      有车辆在自车左方同向行驶
有对向车辆驶来
对向车辆打开了远光灯
摩托车穿行
自行车
来自周围车辆的强干扰(例如:来自周围车辆雷达的干扰)
行人
卡车
摩托车
异形车辆
Ts
标志(各种位置方向)
tf
隧道
停车位
道路外目标(周围    在高架桥下
路缘
护栏
pa
停在路边的车辆
跳出来的动物

其他交通参与者


--- Page 96 ---
GB/T 43267一2023

RBZ 场景因素示例(未穷举)一一案例 1 (续)

铁路交叉口

工地

标记的人行横道

路边的水洼

博斯点,猫眼,辉石(炭人式)反光块

实线一一白色 .黄色

虚线一 白色

人行横道

跳动路面

减速带

没有车道标记

断线

多车道标记

动物尸体

垃圾.轮胎胎面等

建筑材料 .沥青混凝土,钉子.螺钉和其他通常锋利的物体
从移动车辆上意外或蓄意掉落的固态物体

在交通碰撞中从车辆上脱落的碎玻璃.塑料和其他固体材料

道路外目标(周围?

道路上的目标，
-一道路标记

道路上的异物

表 B.4 场景因素结构(非穷举)示例一一案例 2

第 2 层因素             第 3 层因素

道路几何形状

道路几何形状和拓扑

车道数量
车道标记


--- Page 97 ---
GB/T 43267一2023

表 B.4 场景因素结构(非穷举)示例一一案例 2 (续)

道路几何形状和拓扑

混凝土屏障
噪音屏障
隧道            架空间隙
架空间辽
实体在桥下移动

道路设施和限制

桥梁

交通标识

车道重新分配
车道标记

道路作业标识
道路作业路障

临时物理限制

可移动实体


--- Page 98 ---
GB/T 43267一2023

RBA 场景因素结构(非穷举)示例一一案例 2 (续)

可移动实体

-天中的时间

温度
能见度
风

环境条件

云

88

--- Page 99 ---
表 B.4 场景因素结构(非穷举)示例一一案例 2 (续)

GB/T 43267一2023

注: 表中层的定义如下:

一第1层 街道布局和路面条件;

一第2层交通引导设施,例如标识,障碍和标记;
一一第3层 临时建筑工地的拓扑和几何笃加，

一一第4层 道路使用者和目标,包括基于操作的交互

一第5层 环境条件(例如:天气和时刻),包括其对第 1 层一第 4 层的影响;
一一第6 层 数字信息,包括其对第 1 层一第 5 层的影响。

第 1 层因素           第 2 层因素           第 3 层因素          第 4 层因素
干燥
环境条件             路面条件             me
结冰
第 6 层因素
数字信息                          V2X 信息
数字地图数据

示例:用例构建:气候王十,一天中的时间一白天,道路形状一直道.下坡,路面条件王潮湿,自车操作一车辆停
止,其他车辆一右侧对向来车,行人一无,道路外目标一无。
注 1: 表 B.S 和表 B.4 并不全面。因此,在构建场景时可能考虑其他因素,诸如当地的驾驶习惯与基础设施。
注2: 当开始 SOTIF 分析来识别潜在的危害场景及其触发条件时,下列性能局限/触发条件分类可能有用:

a) 感知局限。

例如,气候、一天中的时间、道路/车道形状、自车条件 ,周边车辆.其他交通参与者和道路外目标都是可能

的触发条件。

b) 交通相关条件。

例如 ,道路/车道形状.路面条件 ,周边车辆 .自车操作 .事故.其他交通参与者和道路外目标都是可能的触

发条件。

©) 自车相关问题(影响自车行为或性能的问题)。
例如,自车传感器安装位置容易堆积制约性能的碎届或灰尘。

注 3: 触发条件不仅可以由单个因素组成,还可以是多个因素的组合。
注 4: 构建场景的过程中,可以基于场景要素与特定功能,系统/组件或 SOTIF 活动(ODD 的定义,验证与确认计划
等)的相关性形成优先度子集。表 B.5 展示了一个基于定性规则的场景优先度子集,该子集用于对基于雷达
的功能开展确认活动。
在该示例中 ,考虑对于一个仅依赖雷达的系统,不受晚上或白天的影响,因而在相关要素中不予

考虑。

表 B.6 基于表 BLS ,展示了一个基于定量规则的场景优先度子集,该子集通过分析相关要素的发生
概率 ,可支持对基于雷达的功能开展确认活动时,计划确认场景的先后顺序,及分析确认活动的覆盖率。

89

--- Page 100 ---
GB/T 43267一2023

RBS 基于定性规则的场景优先度因素子集示例(例:考虑基于雷达的功能确认)

分类                                    相关要素                                优先度子集

道路特征                         隧道
时刻                       任意/不相关

道路外目标                    标志(位置很高)

RBG 基于定量规则的场景优先度子集示例

中雨
直行隧道                      子集 1

aXbXe+

KW                                         _
dXex ft

转弯隧道           子集 2

子集?

注: 表中示例未考虑相关要素间发生概率的相关性影响。相关要素的发生概率需要基于目标场景的统计数据或
研究 ,准确定义发生概率可能难以实现,但基于这些分析和论证,为 SOTIFE 确认计划的合理制定及场景的覆
盖率论证提供了支持,因而是有益的。

B.3 ”用于识别和评估潜在触发条件和功能不足的安全分析的示例
B.3.1 系统性地识别触发条件的分析方法

随着驾驶自动化等级的提高,触发条件变得更加复杂和难以识别,需要多种分析技术结合道路测
试,以充分地探测已知和未知的危害场景。在进行识别触发条件的分析时,可以考虑以下方法:归纳分
析 ,演绎分析、探索性分析 探索性仿真(采用本示例中使用的高级组合技术或其他被认为合适的技术)
和探索性驾驶(采取充分的安全措施) 。

归纳和演绎分析有助于发现功能不足、输出不足及触发条件方面的危害事件的成因 ,并探索它们的
因果关系。但是,当使用新技术(如机器学习)或 ODD 包含大量场景时,不能声称这些分析足以找到所
有相关的不足和和触发条件。

随着驾驶自动化等级的提高,在系统实现了一个错误的置信状态但原因尚不明确的情况下 ,增加探
索性分析方法可能会有所帮助 。例如 ,高度自动化的驾驶系统错误地认为自己处于无碰撞路径上 ,或者
错误地认为自己能够或已经避免了碰撞。错误置信状态的根源可能来自单个或多个要素。例如,由于
高威胁目标靠近其他低威胁目标而被错误地归类为低威胁目标,或者由于某些物理限制,车辆无法执行
指定路径。诸如系统理论过程分析(STPA)之类的分析可以作为一种合适的技术,因为这种分析将系
BE ,场景和人之间的交互视为危害来源。

90


--- Page 101 ---
GB/T 43267一2023

最后,对于识别触发条件 ,探索性仿真和探索性驾驶是有用的自下而上的工具。但是,每种方法都
有其局限性。当应用方法和准则来评估 SOTIF 的实现时,可考虑这些方法的局限性。

B.3.2 ”因果树分析示例

基于第 6 章中识别的危害事件,可以使用适当的演绎风险评估方法(类似于用于功能安全的经典故
障树分析方法) ,来确定潜在定义不足,性能局限和触发条件。

注: 因果树分析是一种确定事件根本原因的合适方法,用于识别和理解特定危害事件的触发条件 。

当识别了系统不足和触发条件时 ,就能够确定导致危害的事件组合,并确定足以引起危害的最小割
集。结果可用于识别重要的潜在相关性和最严重的不足,并确定为减轻风险而采取的措施是否充分,见
7.4。此外,结果可用于将确认活动按优先级排序或分组。

示例: 在某 ACC 系统的范围内分析突然意外减速的危害事件。该系统由一个调节器组成,基于驾驶员的请求速度
和用于检测障碍物及测量车前距离的立体相机的输入,该调节器可控制给发动机的动力和执行制动。功能不足树模型
如图 B.3 所示。基于功能不足分析,顶事件 GO 的最小割集可用以下的等价布尔代数函数来表示:TOP= Bol1十B02十
(B03XBo4)十(B05XBo6) 。

ACC运行期间
有危害的突然减速

大型低矮树枝
被分类为障碍物

图 B.3 因果树分析

除了演绎分析外,通常还进行归纳分析,通过分析功能.架构和详细设计以及通过评估系统实现过
程中新识别到的危害来提高安全分析的完整性。

B.3.3 ”预期功能安全归纳分析示例
B.3.3.1 预期功能安全归纳分析工作流程

图 B.4 所示的 SOTIF 分析工作流程旨在描述活动,以支持:
一一识别和评估可能导致危害行为的潜在功能不足,危害行为可以由驾驶场景的已知特定条件

91

--- Page 102 ---
GB/T 43267一2023
引发;
-一识别和评估可能引发危害行为的潜在触发条件 ,危害行为由已知潜在功能不足所致;
-一识别修改措施以避免或减轻 SOTIF 相关的风险。
考虑各个方面的顺序(从潜在功能不足到潜在触发条件,或从驾驶场景的特定条件到潜在功能不
足)取决于分析人员的偏好。

areas                      收集SOTIF相关的危害行为和RFIM预防问题

起点:潜在功能不足                                       起点:潜在触发条件
全面列出所有系统架构要素和接口          专家表所有
已知触发条件        识别可能构成触发条件的条件集
导出SOTIF相关功能到系统架构要素
层面
系统架构        全面列出可能构成触发条件的条件集

识别SOTIF相关接口/要素的                                             所影响的所有系统架构要素和接口
不足                           潜在功能不足
二家表所有                                                            已知潜在功能              识别由潜在触发条件激活的
已知触发条件           oe alae tt?   +                  不足              SOTIF相关接口/要素的潜在功能不足

SOTIF措施定义
和风险评估                       评估场景的发生度
(定性) 评估分类       确定在触发条件下产生的输出不足和对车辆的影响
评估触发条件影响的
严重度

记录现有措施，识别或提升用于避免或缓解SOTIF
相关风险的措施

| 如:r/运行小时 站
na        计划V&V活动，并记录结果，以评估各免或缓解SOTIF|| |
相关风险的SOTIF措施的有效性                                i

所识别的场景(包含潜在触发条!

7                                            件) 需要进一步的SOTIF改进措!

在先验的最坏条件下评估
SOTIF措施的有效竹                                           _施(认为没有达到接受准则) |
1

 B.4 SOTIF 归纳分析工作流程

SOTIP 相关风险分析可基于可能性和影响的定性评价量表或基于定量值,如误报率、每个运行小
时的触发条件数量。这些结果可用于优先评估某些场景或要素。
注: 考虑了定性评价的统计分析和图表,如帕累托分析\风险和矩阵,可能用于支持确定如 7.4 中定义的触发条件的可
接受性。然而,由于评估标准的差异性,使用预先定义的评级来确定定性分析的可接受性是不合适的。

B.3.3.2 ”从潜在功能不足到触发条件的预期功能安全分析示例(基于系统的分析)
这种归纳分析旨在首先识别系统要素潜在的功能不足,其次识别可能触发这些已识别的潜在不足


--- Page 103 ---
GB/T 43267一2023

的场景条件 ,这些场景条件可能导致输出不足,危害行为或 RFIM 预防问题。

注 1: B.3.3.2 中使用术语“RFIM(reasonably foreseeable indirect misuse)预防问题"表示系统无法避免或减轻可合理

预见的间接误用。

以下示例展示了紧急制动系统不同要素的归纳分析。呈现在表 B.7.表 B.8 和图 B.S 中的分析并非
详尽无遗的。其更倾向于说明对“感知-规划-执行模型中涉及的不同类型系统要素的 SOTIF 分析,系
统要素为;

-一摄像头硬件传感器成像器(硬件单元 HW43)，
一一摄像头硬件加速器或"ITP”(硬件单元 HW32)，
一一摄像头软件分类功能(软件单元 SW11)，

-一制动扭矩执行系统(系统 SYS 12) 。

这些系统要素用于系统功能“在出现迎面而来的或横向穿越的目标时制动"(SYS23.1) 。如果检测
到的目标在定义的目标列表(参考并RRR)中,并且在定义的紧急条件下(参考并CDNXX) ,则需要紧急
制动 。

每个系统要素都有其自身潜在的功能不足,结合*先验的”最坏条件,可能导致危害行为.RFIM Tit
防问题或输出不足。

注 2: 功能不足是系统要素的属性,而*先验的"最坏条件是所考虑场景的属性。

对于每个元组(系统要素、相关潜在功能不足`相关潜在触发条件) ,进行 SOTIF 相关风险分析,旨
在识别改进 SOTIF 的措施,验证其有效性 ,并用适当的理由评估残余风险。

93

--- Page 104 ---
2023

GB/T 43267

AL 2S fi

He at eg
922 # OL
fy AE A fi

eM FE
TORR
3) 8
tol

2S fi
GM EH

vi Meg
St # OL
Ae AE YF ie

Sh GM aE st
Td MW
LE ae
i I AY Fol

HOR 8 Bi
3h OO
fel se AY A

Bae G |

ALLOS 车

We eh 478 |

s/w X一全
ih
a
we & fi Sy 4
EY ie * EME

fol U2 2

BH ay AM HE
Ju) SE) BE Bee

{al Ne

WE
HH

Wb

44

i GH CHE
fe EI * ny
Mh GY

wu}
wad
coal

oH Mt We

ven
ell

VW
目基起一`口

Say

36° HEA Ee
Sat fe fans St

Ty
4 ew
GB TE
中国吸:和
汶29#DD

A. 23S#DD
fa) 3B Uf Tee

WMG
4

AE

AN Nt

AWE) de GT

ob lit
5

tes
BB oY
36% At

Ah 8

2| a) “6 %) HE

eV MH
De ue hd

(Cu 00T

2 ih oC

OMe HY
AYE 9 ihe

On

地时

/ai 06 1

CHAR te 4
Hy td afr * sly
(2) Gti hy

CMA
ie Fe XI
DY) Hf Wl &

健谢
He 49
BA GH 4 HY
Sat A flo 2

Hy
Wie wy
HE I; eh

. a7
/口  ¥
He aLLOS

dl 76 3) Bt
*28MH
Deaf a

(he) EMG
 (ie Oe Ly

fa fa
QR 4 &S
2 fie 4 H)
4 A OU
fel Hey Ye GH ae
fi EL ABE Me HH
(XXNdO #
K@AWS
© MW LE2
SAS al [fe iif
26 YE GE

CGB TBE AEE GE Te HF)
FY SPE GAY SH ik Ty

fot i kp 3 2 AY

ALE SEG Se GY SB Mf BG

AAG 2 YR

SE AGS Oh) EAE BEC HY ALLOS YE HR

IGA ALLOS AS WED LARRY Lae

94

--- Page 105 ---
43267一2023

GB/T

Wi
83 8)
ie Yh
Soh BYE
mY WH            CASE RE
eS of           FH Ge   We
Sb By 4 AY     sm Xx—>       AE ak 4G | il Fe OE BE 2                                 (fo ft
HW axl ch| wag |X     ae— etm | mache) ye] Seer        wlopnt = a<
8本| Edo We eee eee ee Ce ea     1 eee cat
wea | dt |e a | ae | ee | |IN  |)H  V | SO|   [acer a el | LN | le
ee ener MM CC Mere ea eae      SOU) a Gy as
4 2 Oy le     sues    Sat — Le 28 | He Uh fg)                 fel 36h Ye GH IK
fi BH Ix 4            "Ty eh | ae HEP
Hk #6 69           youwe|                  mh DE
[é fit BK                                                                (XXNGJ =
LHW OL                                         K@ AWE
A ee                                           SAS Ail fe Me
Rom aav                  fie         aa
Wea] WH |G ALR! sae          wt} so (tee      WEN
sa | WAS iy          822 | 沿路 |W aaV] 一     HE |TAV | m。    ee         He HE SE [i          .
Pace    aot 14] wat | sm 2—>| Be — ae gee a me ew] EE S|) MEY szrsas      ytd
sepa] 器讲 | Panay |™         SR Se        WE
5 6 I AE                  pete

HY At

cae
hi GH if Tt     FAME | bela et 2 se       meLy             Wy
WHEE G                  CON 9g 4 | eX        3   ed
| am BH jue ait | ova sea] | ae ne “eat wu DS a  ane     aun
Id ¥              Hh               /   K Hh       /  yy  +  4  #
wna |e BE ae me dea OO | ae | ew    WIE WHE cucu msl *™ 2 ly arose wean | HE
Fd       si 7b   | 是可 | uy ay Fe eK    mag ww   ny mg (ee                a

GE

GALT ee AE Ga Ee Tee FT)
RY ATE GY Se Ht ik Ty

EAE EG Hie GY SY Be UG
fo A he) BF 2                                  PAGE Gt) AE DYE ALLOS 28   So
Ohl A to SF 2 OD        een         36 MG Oh fe 2 DPE   WAM

CH) GIA ALLOS AS BED LBARRY La

--- Page 106 ---
GB/T 43267一2023

SOTIF 分析表 B.7 分为四大列 ,分别记录和分析，

a) 在适当的抽象层面(例如在系统架构的最低层面)进行描述的潜在导致输出不足的系统要

b) 与a)中列出的系统要素相关的潜在触发条件 ,在外部或内部环境层面进行描述;

c) 在没有任何 SOTIF 措施情况下的这些潜在触发条件的影响 ,在最高抽象层面进行描述,如整
车层面;

d) 用于处理 a)中列出的输出不足的现有和计划措施,在适当的抽象层面进行描述,如实现层面。

RBS ”从潜在功能不足到触发条件的 SOTIF 分析示例

受理由

在多条且不同的窗路上进行定向试验和耐久性试验((道路标记为“窗的"车速》 之90 km/h、一天中
的时间》在整个驾驶数据集中为白天?证明，
出现以下情况的概率:摄像头 TP HW32 的图像分辩率限制,在没有 SOTIF 措施(通过停用雷达和
激光雷达)时会发生目标检测误报而导致非预期地车辆减速,从而影响距离估计,这个概率被确认
为相当低 :0 个车辆非预期减速事件;0 次探测到*洪在目标”。
一一如果激活,雷达和激光雷达的组合被确认是有效的措施。
当在融合算法中有雷达和激光雷达信息时,在图像分辩率限制会影响距离判断的相同条件下的重复试
验呈现出更好的反应时间(一z%)和更高的置信度估计,以确认没有目标。证据:TC#225 通过。
问题点可以关闭

在夜间的定向试验和耐久性试验(一天中的时间》在整个驾驶数据集中为“夜晚"或“黄昏”)证明，
出现以下情况的概率 :摄像头传感器 HW43 的图像浑染限制在低光照条件下,在没有 SOTIF 措施
(通过停用雷达和激光雷达)时会发生目标检测误报而导致非预期的车辆减速,从而影响图像,这
个概率被确认为相当低 :0 个车辆非预期减速事件;6 次探测到*潜在目标”。但由于不合理性未被

当在融合算法中有雷达和激光雷达信息时,在相同条件下的重复试验呈现出更好的反应时间(一铬)
ABET ,以确认没有目标。
问题点可以关闭

极端用例 CC 52 是一组在耐久性试验和仍在进行的车队试验期间未遇到的特殊条件。

然而,极端用例 CC = 52 并不能被归类为"不可能”,因为其已在交通场景仿真环境中重现。C 组的替代
算法显示出轻微的性能提升(更高的置信度估计) ,尽管在这种仿真环境中并不显著。

问题点仍然未决,以确认是否需要新架构或新算法

D组最近进行的测试识别到,当前制动扭矩执行器(变体 A)的规范定义不足。在低电压值(仍在规定范
围内)和瑞典北部的低环境温度(一30 一一15'C )下,发现非预期地丢失减速(二一Z m/s?)

相同测试证明了具有和鲁棒性的制动执行器原型(变体 B)在达到确认目标方面的有效性。需求规范已
更新。

问题点仍然开放,将用变体 B 型的发布版本重复相同的测试

仿真结果未决


--- Page 107 ---
GB/T 43267一2023

oad uk Ld SHRBLY MES ALLOS WYRE TL BARR

Bese Oe * alle PRC ee

HS HL BAY — SHE
过一国玫(un OOT<) oe AS AC LET A HAE              ，
生训Wan oa aE         MPF RH SA GO EH BY

‘Sat A) dB + 2
dB RE ZEMH Ca Ht

6608 eH
8608 EAH

oa

28/ WX—> FRC
SE Se / 8 HAE AE * Ease

97

--- Page 108 ---
GB/T 43267一2023

B.3.3.3 ”从触发条件到潜在功能不足的预期功能安全分析示例(基于场景的分析)

该 SOTIF 归纳分析旨在首先识别可导致输出不足,危害行为或 RIM 预防问题的驾驶场景的条
件,其次识别受这些潜在触发条件影响的系统架构功能或要素。

以下示例展示了一个紧急制动系统要素的归纳分析,其场景条件*绘制在路上的行人标识”可导致
一个危害行为。呈现在表 B.9、表 B.10 和图 B.6 中的分析并非详尽无遗的。其更倾向于说明对"感知-
规划-执行”模型中涉及的不同类型系统要素的 SOTIF 分析,系统要素为，

一一雷达硬件要素(硬件单元 HW53)，

一一摄像头硬件加速器或“ITP”(硬件单元 HW52)，

-一摄像头软件分类功能(软件单元 SW11)，

一一制动扭矩执行系统(系统 SYS 12) 。

这些系统要素用于系统功能“在出现迎面而来的或横向穿越的目标时制动"(SYS23.1) 。如果检测
到的目标在定义的目标列表(参考革RRR)中,并且在定义的紧急条件下(参考共CDNXX) ,则需要紧急
制动 。

该分析倾向于识别可能受到相同潜在触发条件影响的系统要素功能不足。例如,在如下的示例
中,摄像头 IP(硬件单元 HW52)的算法可能在出现*绘制在路上的行人标识”的情况下 ,触发一些目标
检测误报,尽管只是特殊的边角案例CCCH536) 。

注: 功能不足是系统要素的属性 ,而潜在触发条件是所考虑场景的属性。

对于每个元组(潜在触发条件 ,相关的系统要素的潜在功能不足) ,进行SOTIF 相关风险分析,旨在
识别改进 SOTIF 的措施,并用适当的理由评估残余。


--- Page 109 ---
2023

GB/T 43267

old                                   we
4 BES                       i {fs i                              PV
ne    IH BES            %             qa) eee                                             val
CTIMS
Hs
“€9MH                                                                  OD, $2? AR
HARE              Of fe fa
ova | wasimm] Fem] SOMEP     WBS ony     wets] Yu gy wy                     Wee aE)
一      pie      A Od Me                  4 A FLIMS        _                          Oe BB [al MF fal] SVGI
UM | WM MWA & |       ee      Wy 200113 46 4 H        & tol                 、
GH ine a ‘s/u X—> 2M) 1        3 页 dd Ga) 3 ul wt | estan  qu ¢>)     CXL | Al GY dF ~
WAM) | Lea                        ww ae eae) LY 看| ede? xe tal
6 te] | a    “            WasAs| (MR BEY tos a] 时
YL fie fie                        Wi Me we 26                          way
RA                  Daa     .                    LY 6H oT Ba
ola                                       bela    te       i    4m GE                        ，   |     .
2H    FY Bt             Bia              WGA  6 GFE | HEHE COM                             fal? BOI YE] ZCI
.                                          ,          35 责 th a
Wve                    4H            dl ‘€
    ea            AB 5
an  ane     RE sai io               2G I $B    UNF d1| 5) HEE ZSMH                                         TVdI
uy  4 a         A  让
Pet =O                          xR           a ow 4
8   DL lel YL            6 RY        1 oy +) a
Hy                                                   CO St
aoe       fo       sete] 《一六
aang | | ee yan] ee] aoeotn | 于和        HM TE /河卫
TARE | Te YY    | al GL | EGY Se            _.     fy te 4 SE       <6 ab Ge   、     (38 WE td
ALLOS 4           ARGH eh | / C1 EE | 3G EG eh 2        wea | REM) He SY MD)
wn | EY EAE RY | Me | 63 cel annos| ay ew |      wwe| wamu| * ©
Pan       Saf 0    | sey | sy) xy Be mee]    “36% W 3                 wim | 包
GS                                                     (i) EY 5 tb TA GUE 2 HI 2K
CGH FF EE  ie! )
CURSE A EBD MF    bot Ab SE 2 DR | SE REG SE GU ATE DIE ALLOS HD           HE YR

BY SEE GY Se ie TY

IGN ALLOS HE LEAD MENS R WY Ca

99

--- Page 110 ---
GB/T 43267一2023

SOTIF 分析表 B.9 分为四大列 ,分别记录和分析，

a) 在外部或内部环境层面描述的潜在和触发条件,如已知潜在触发条件或随机潜在触发条件;

b) 在暴露于 a)中列出的潜在触发条件下 ,可能导致输出不足的系统要素,在适当的抽象层面进
行描述(例如在系统架构的最低层面);

c) 在没有任何 SOTIF 措施情况下的这些潜在触发条件的影响 ,在最高抽象层面进行描述,如整
车层面;

d) 处理 b)中列出的输出不足的现有和计划措施,在适当的抽象层面进行描述,如实现层面。

表 B.10 ”从触发条件到潜在功能不足的 SOTIF 分析示例

接受理由

在加拿大不列颠哥伦比亚省本纳比市的三角洲大道上,于布伦特伍德公园和圣十字小学之间驾车进行

定向测试，
出现以下情况的概率 :摄像头 IP HW52 识别到虚目标,在没有 SOTIF 措施(通过停用雷达,激光雷
达和基于光流的机制)时会导致非预期地车辆减速,这个概率被确认为相当低:0 个车辆非预期减
速事件;1 次探测到*潜在目标”。但由于确认时间不足未被决策算法采用。实际上,即使在低速行
驶时,图像也仅在很短的时间内没有失真,这不足以检测道路上的行人。

-一如果激活 ,雷达和激光雷达的组合被确认为有效的措施。

当在融合算法中有雷达和激光雷达信息时,在相同条件下的重复试验呈现出更高的置信度,以确认没

有目标。证据:TC并234 通过

不适用。雷达要素不会受限于道路标识的误判

对于该特殊场景,在软件单元 SW11 中没有识别到系统设计弱点。
然而,基于能够确认目标存在的多个多样算法的决策算法,被视为一个解决 SW11 单元功能不足的非常
有效的措施,如有

不适用。制动扭矩执行器不会受限于道路标识的误判

软件单元SWXXX

洪在功能不足的识别        二         起点: 潜在触发条件     =--】

 B.6 ”以潜在功能不足为起点的SOTIF 因果树,用于解释表 B.9 和表 B.10

B.4 在ADAS 和自动驾驶车辆的预期功能安全研究中应用 STPA 方法

B.4.1 介绍

STPA(系统理论过程分析)(参考参考文献[19]和[20])是一种安全分析方法,用于评估复杂系统
的安全和识别安全约束及要求。很多已发表的论文描述了 STPA 如何应用于汽车系统.ADAS 和自动
驾驶(参考参考文献[21].[22].[23]和[24])。STPA 对 SOTIF 很有用,因为可以解决功能不足.系统

100

--- Page 111 ---
GB/T 43267一2023

在不适用的环境中使用.人员误用等问题。

B.4 提供了一个简化的 SAE J3016 定义的 L3 级高速领航驾驶系统的示例,该示例用 STPA(系统
理论过程分析)方法对第 6 章(危害识别)和第 7 章(触发条件的识别和评估)进行SOTIF 分析。高速领
航驾驶可在限定的环境条件下长时间控制整个车辆动态 ,而无需受到人类驾驶员的即时监控。但是,仍
然需要人类驾驶员 ,并能够在指定的时间范围内接管车辆,这个时间范围通常为几秒到不超过最大指定
时间。

B.4.2 STPA 步骤 1:定义分析的目的和范围

STPA 的第一步识别出要防止的利益相关者的损失。一旦识别出 STPA 损失,就确定了 STPA 整
车层面的危害。这些整车层面的状态或条件,连同一组特定的最坏环境条件 ,将会造成损失。表 B.11
提供了高速领航驾驶的 STPA 损失和 STPA 整车层面危害。

RBA 损失和危害识别的示例

情景/场景               损失          潜在结果          整车层面危害
(节选自 HARA)            Bie)          O® A HARA)
夜间行驶在高速公路上,视野差, 车                            LVHI]自车违反了与其他
LI]失去生命习
速快。 或人  严重或致命的伤害    车辆之间的最小距离阔
逐渐接近前方一个速度较慢的摩托车 |                      值/要求
[L2 | nee           [VH1 Jerre

注: B.4 的其余部分包含规范示例。在这些示例中使用了*应”的表达方式。在 B.4 中,应”仅为示例的要求,而不
是用来符合本文件的。
请注意,随后的 STPA 步骤系统性地分析了每个系统控制器(包括人类)的控制行为,以识别在特
定场景下会潜在导致整车层面危害的特定行为及其原因。对于整车层面危害,一组整车层面的 SOTIF
要求(作为 HARA 的一部分)被识别出来,见表 B.12。

表 B.12 ”危害和对应整车层面的安全约束

整车层面的 SOTIF 要求

fee                                   (整车层面安全约束)

[LVH1]自车违反了与其他车辆之间的最小
距离冰值/要求

[SC-1]自车应该确保和其他车辆之问的安全距离

B.4.3 STPADR 2 :控制结构的建模

通过分析系统和功能规范来识别系统的控制层次体系及其接口环境,这被称为"控制结构*。提取
控制器指令(也被称为"控制行为") 和来自受控过程与环境的反馈来进行分析。
高速领航驾驶的控制结构示例如图 B.7 所示。

101

--- Page 112 ---
GB/T 43267一2023

站~]

aT
Jeama/aeraaeawimagey | MRRSLAL TERR CF B/D         |
目标速度    =
目标距离    Sa as
1               {
bien | semanas

wane) eRe         ik SL       meee}
Hees | wae                         |   环境   |
换挡                                                   1               1
驻车制动(开启/关闭)                                                   |               |
AT OFA KBD                                                   |               |
转向信号                                |        |
|        |
1               1
1               |
1               |
1               |
1               1
1               |
oman!         |
tigi ete?raid

 B7 高速领航驾驶的高层面控制结构
由于空间有限,B.4 中的 STPA 并没有更深入,此类功能的更细层面控制回路模型见参考文献[25]
中的图 5。

B.4.4 步骤 3:识别不安全的控制行为

STPA 方法的下一步是识别不安全控制行为(UCA) ,即在特定情况和最坏环境下会导致整车层面
危害的行为。UCA 及其相关危害和 HARA 被用来完成第 6 章的危害识别和风险评估。一个不安全的
控制行为由五个要素组成,如图 B.8 所示。

ue

UCA来源                i                        ee                                                                                  ad
控制器
(SC)          ia              bod                      中                wo

图 B.8 不安全控制行为的 5 个要素
一些高速领航驾驶制动指令的不安全控制行为示例见表 B.13。
表B.13 ”高速巡航功能控制器发出制动指令时的不安全控制行为示例

提供的时间过长 ，
或停止得过早

UCA-5:高速领航驾

控制行为

UCA-2:当前方即将发生

制动指令

UCA-1:当前方即将发生
碰撞的时候.高速领航驾
驶没有提供制动指令。
[VHI]

碰撞的时候,高速领航驾
驶提供的制动指令不足。
[VHI]

UCA-3:当驾驶员提供油
门指令时,高速领航驾驶
提供了制动指令。[VH2]

UCA-4:当前方即将发生
碰撞的时候,高速领航轰
驶提供的制动指令过晚。
[LVHI]

驶在碰撞发生后过
早地停止提供制动
省令(例如:在驾驶
员还没有完成手动
接管的时候就停止了
制动指令)。[VHI]

102

--- Page 113 ---
GB/T 43267一2023

请注意,每个不安全控制行为都可能导致至少一个整车层面危害(否则不会不安全) ,但也可能导致
多个整车层面危害。

对于给定的 UCA ,可以定义控制器安全约东,以确保防止 UCA 的发生。 控制器安全约束对控制
器行为指定了需要满足的声明或不变量,以防止 UCA 的发生。

一些控制器安全约束(关于制动相关的 UCA)见表 B.14。

表 B.14 将 UCA 转换为要求(安全约束)

不安全控制行为
UCA-I:当前方即将发生厂撞的时候,高速领航驾驶没有 | SC-1:当前方即将发生碰撞的时候,高速领航驾驶应提
提供制动指令。[VHI]                            供制动指令。[UCA-1]

UCA-2:当前方即将发生磁撞的时候,高速领航驾驶提供 | SC-2 :当前方即将发生压撞的时候,高速领航驾驶应提
的制动指令不足。[VHI]                     供足够的制动指令。[LUCA-2]

UCA-3:当驾驶员提供油门指令时,高速领航驾驶提供了 | SC-3:当驾驶员提供油门指令时,高速领航驾驶不应提
制动指令。LVH2]                          供制动指令。[LUCA-3]

UCA-4:当前方即将发生碰撞的时候,高速领航驾驶提供 | SC-4:当前方碰撞即将发生的时候,高速公路巡航系统
的制动指令过晚。[LVHI]                     应在至少 TBD 秒前提供制动指令。[UCA-4]

UCA-5 :高速领航驾驶在碰撞发生后过早地停止提供制动
指令。(例如:在驾驶员还没有完成手动接管的时候就停
止了制动指令.)LVHI]

SC-5:高速领航驾驶不能在驾驶员手动接管前停止制动
指令。[UCA-5]

B.4.5 STPA 步骤四:识别原因场景

STPA 的最后一个核心步骤是确定导致危害的原因场景和相应的因果因素(如:和触发条件,见7.3)。
表 B.15 概述了高速领航驾驶 UCA-1 的原因场景,以识别因果因素。

识别会导致当前不安全控制行为的系统控制器自身要素或其他要素的一个或多个输出不足的组
合,这是这个分析的第一步。这种一个或多个输出不足的组合在表 B.15 中被称为"不足条件”。下一
步,识别导致已确认不足条件的因果因素。这些因素可能是输出不足、功能不足或触发条件。

RBIS 识别因果因素

UCA(危害行为)          不足条件         因果因素(触发条件 .功能不足 ,输出不足)
`F-1 :传感器安装不   ,传感器焦点或位
IC ,由于以下信息反杆  CF-1:传感器安装不正确,传感器焦点或位置损

坏,传感器被造挡等。
不足,高速领航驾好  误
UCA-1:当前方即将发生 ne CF-2:由于总线繁忙.消息优先级或仲裁不足.电
碰撞的时候,高速领航驾  a gihi eaae  磁干扰等而延迟且未及时收到反馈。
驶没有提供制动指令   :  —_   "| CE-3:反馈被认为是不正确的(被高速领航驾驶

对加速度,面向障
ee TUN yak 5 ef AT HE CA I
表明车轮转速为夫)

IC-2:由于以下信息反馈

不足,高速领航驾驶错误 | CEF-4:高速领航驾驶收到“已施加足够的制动或
地相信不会立即发生碰 | 转向”的不正确反馈

撞:制动已施加

UCA-1:当前方即将发生
驶没有提供制动指令

103

--- Page 114 ---
GB/T 43267一2023

表 B.15 识别因果因素 (续)

UCA(危害行为)            不足条件           因果因素(触发条件、功能不足、输出不足)

CF-5:高速领航驾驶收到的反馈不足,表明障碍
物类型不会构成碰撞危险。
IC-3:由于以下信息反馈
UCA-1:当前方即将发生 yh ea CF-6 5 A HEE 25h Wi 8) TSE AT A HE I IA
碰撞的时候,高速领航驾  Hae eR a BS  [因为传感器遮挡.传感器安装在错误位置/方
驶没有提供制动指令    天 teri  向、传感器离线.障碍物在传感器视图视野之外、
a         错误地识别不利天气条件(缺少算法功能).未校

UCA-2: 高速领航驾

注: 在此 STPA 示例中,同时考虑了 SOTIF 相关的问题和功能安全相关的问题。
B.4.6 ”识别控制措施和缓解措施 ,改进系统设计并导出要求

完成本文件中的 STPA 核心活动后,STPA 的剩余活动可分配给相应的流程步骤,对于解决
SOTIF 相关风险的功能修改见第 8 章,相应的,如果是失效相关的原因,见 GB/T 34590.4一2022 第 6
章。这涉及制定适合满足 STPA 安全约束的可实施要求。

104

--- Page 115 ---
GB/T 43267一2023

WOR C
(资料性)
预期功能安全验证和确认指导

C.1 验证和确认策略目的

系统的功能不足是 SOTIF 问题的根源。验证和确认策略旨在表明在已知和未知场景下的残余风
险足够低 ,并符合 6.5 中定义的量化目标。本附录给出了导出和测试确认目标的概念。

一旦定义了确认目标,就可以根据第 9 章和第 11 章设计确认测试计划,以表明不存在由于已知和
未知的危害场景(区域 2 和区域 3)导致的不合理风险。确认通常包含实车测试(场地测试.开放道路测
试)和仿真测试的某种组合。作为第 9 章定义的确认策略的一部分,量化目标通常需要在物理测试和仿
真测试之间进行分配。

确认活动包括在各种运行条件下测试车辆。它可以是软件在环(SIL) 硬件在环CHIL)和实车测试
的混合。他可以包含结构化测试(例如设计且用于封闭道路测试) 专用分析和仿真。但关键的是,特别
是对于区域 3,需要基于确认策略,在足够全面的运行条件下进行充分的测试,以尽可能地暴露潜在的
未知不安全场景。

针对区域 3 的测试场景可以包括:

a) 已识别用例的已知参数的随机组合(例如,恶劣天气和特定交通条件的组合);

b) 已知场景的随机组合，

c) 在开放道路测试中未识别的可能触发危害系统行为的特定场景。

仿真可用于快速探索各种相关场景。然而,仿真可能会受限于对环境,传感器和车辆模型的基本假
设。对现实世界建模的准确性是安全论据的一部分。此外,仿真只能基于已识别的参数[C.1 a)]或已
识别的场景LC.1 b) I.

实际道路测试能够使用真实的输入来测试系统,但它受限于实际测试的公里数/小时数/场景数以
及在实际测试期间遇到的实际场景快照的随机性[C.1 c)]。通过实际道路测试,可能会发现以前未知
WAR,

类似功能及其相关潜在危害场景的先验知识可以用来剪裁确认策略,例如,从类似系统的历史现场
数据中吸取的经验教训。还可以使用策略来减少所需的测试量,同时仍满足确认目标。

附录 C 的结构如下 :

-一C.2 阐述了使用危害行为比率来满足接受准则 ,并且给出了定义和评估接受准则与确认目标

的示例，

-一C.3 说明了如何使用统计数据和安全裕量。

一一C.4 给出了如何在传感器验证和确认中使用的各种类型测试的示例，

一一C.5 阐述了如何使用约束随机测试和重要性抽样来减少仿真测试的数量;

-一C.6 阐述了如何使用系统的物理架构来证明减少测试量的合理性。

C.2 ”确认目标的导出
C.2.1 使用危害行为比率来满足接受准则

接受准则通常非常小,例如为 10“/h。要确认这些非常低的取值,通常需要付出巨大努力。因
此,找到一种既能降低确认目标,同时又能证明达到了接受准则的方法就很重要。一种可能的方法是考
虑相关危害行为的比率 Rio

--- Page 116 ---
GB/T 43267一2023

C.2.1 的目的不是定义接受准则 ,而是从接受准则中得出危害行为的比率,进而使用该比率来定义
确认目标。
第 6 章中识别和评估了由预期功能的危害行为引起的可能危害事件及其后果。每种已识别的危害
行为都与第 6 章中定义的该行为的接受准则有关。每种危害行为的确认目标是由与该危害行为关联的
接受准则导出的。
BE Vs C.2.1 中不考虑导出接受准则的方法或者支持接受准则的论据。假设接受准则是由公认的且可接受的方法确
定的一个比率。

符合已定义的接受准则的 Rem取值可以由以下步骤导出。

一一识别导致伤害 H 的事故/事件,这些事故/事件是由所分析的危害行为引起的(例如,由于非预
期的制动而导致的追尾) 。

一一识别对于这些事故/事件的接受准则 Au(其取值是由初始的接受准则结合安全裕量导出的) 。

一一识别潜在危害场景,在这些场景下 ,会发生已识别的事故,这些事故是由所考虑的危害行为导
致的(例如,高速行驶中后车近距离跟随)。假设所考虑的危害行为在这种场景下已发生,则暴
露在这种场景下的条件概率为 Peinua。

注 2: 潜在危害场景包括危害行为的触发条件。

一一假设危害行为发生在已暴露的场景下,识别在此场景下这一危害行为的不可控的概率 Pu。

-一假设可控性行为未成功,对已识别出的事故/事件 An 造成的严重度分布进行识别。该分布措
述了在这些事故/事件中严重度的某一程度的发生概率 Psic。

注3: 根据所使用的接受准则,Pse可能用于表示一定程度的严重度的可能性(例如,X色的涉事人员受重伤) ,也可
能用于表示严重度至少在一定程度以上的可能性(例如,Y党的涉事人员至少受轻伤) 。

注 4: 对于相似的危害事件 ,检查已明确的参数 Peis Poe A Poe GB/T 34590(所有部分)中危害识别与风险评
估中的 E,C 和 S 参数值的一致性。GB/T 34590.3 中关于暴露频率与持续时间的考虑也适用于 SOTIFE 危害
行为。

假设危害行为并不总是导致伤害,接受准则 Au 可以按公式(C.1)分解为

Au =Rup X Pej X Pee X Psic    Prrerreres    Srerrerr       “OC 1 )

危害行为比率 R yay AE VA EY BE et HET YE FE KR EP

fith Be SAA INS Be A ED EY 5 HE fhe AR A TV fh Be FH AS ASE BEE ON. A. eT Sa
的确认目标[公式(C.2)]:

Ay                                     4
注5: 在触发条件独立于暴露的危害行为导致伤害的场景的情况下,条件概率简化为概率的简单乘积。
示例: 一个伤害 理已经被识别到并关联到接受准则 An一10“/h。从现场数据可知,导致这种伤害的估害行为中
Pee一10儿是不可控的。Pse一1名的伤害达到了接受准则指出的严重度。基于驾驶时间,用户处于危害行为会导致伤
害的场景的概率为 Pemm=5%。基于这些取值,用于确认目标计算的危害行为比率如公式(C.3) :
An             10*/h

一     一2 04/
Pam & Por Pac 0,05X01K 001 ~ 2% 10'/h

Riw =

(HE Raw = 2 10-'/h 作为确定确认目标的新起点可以减少确认工作量。使用公式(C.7)和相关
假设,如果在 5 OOO h 的测试中没有遇到危害行为,则可证明接受准则以 63反的置信度被满足。

C.2.2 AEB 系统中可接受误激活率的定义和确认的示例
C.2.2.1 目标

C.2.2 提供了如何根据公布的交通事故统计数据计算 SOTIF 建议的最小确认距离(公里)的示例。
长期车辆测试/车队测试被选作确认方法。使用统计方法和4 步分析来计算目标里程。以下列出了步

106

--- Page 117 ---
GB/T 43267一2023

又清单 ,并为每个步骤制定了其部分目标。
a) 危害事件的可能原因(C.2.2.2) :
-一对于目标系统,识别由功能不足引起的危害事件，
一一明确发生危害事件的场景的已知参数以及这些参数的相关组合。
b) 危害事件建模(C.2.2.3) :
一一考虑触发系统功能不足的代表性参数;
一一对危害事件(事故?的场景进行建模。
c) 交通统计分析(C.2.2.4) :
一一识别与上一步导出的场景相关的基本统计变量的分布;
一一根据可用统计数据计算确认里程基准。
d) 测试场景定义(C.2.2.5) :
一一根据任务概要和所考虑的危害场景,选择用于确认目标应用的测试场景;
-一对于这些场景,定义最小确认工作量。C.2.2.5 以驾驶距离(公里)的形式界定了最小确认
工作量。
注 1: C.2.2 与区域 2 和区域 3 都相关。SOTIF 分析(第 6 章和第 7 章)和 SOTIF 验证假定在量产车辆部署之
前执行。
注 2: C.2.2 基于参考文献[30] 。

C.2.2.2 ”危害事件的可能原因

对制动系统具有一定权限的车辆控制系统(例如 AEB)可能会因错误的执行而使驾驶员或其他道
路使用者处于危险之中。例如,巾于物体识别功能不足引起的错误紧急制动激活会在不需要时迅速使
车辆减速并将其完全停止。

根据本文件(见第 4章、图2),识别和评估激发危害行为的触发条件,例如,由于非预期的 AEB 启
动而导致后方车辆追尾。这里提到的性能局限可能是由多种外部因素触发的。

对于此示例 ,接受准则是由 AEB 功能引起的危害事件的可能性等于或小于由人类引起的相同危害
事件的可能性,见公式(C.4) 。

tH:
P iy.aen-—— AEB 功能引起危害事件的概率;
Pumw 一一人类引起危害事件的概率。

注: C.2.2.2 并未说明该接受准则是否足够合理可以向公众发布。

危害的可能性取决于场景,特别是取决于场景中对安全至关重要的参数的取值(例如触发条件) 。
例如,对于基于摄像头的系统,对安全至关重要的参数是光照条件;对于基于雷达的系统,对安全至关重
要的参数是是否存在雷达波束反射材料等。然而,在区域 3 (未知危害场景”中 ,影响安全的所有参数
及其取值都未知。根据已知的依赖关系定义场景,并估计其风险。

C.2.2.3 ”危害事件建模

C.2.2.3一C.2.2.5 的示例考虑某个系统,该系统能够按照图 C.1 所示的减速曲线执行 AEB,并存在
如下的潜在设计限制:
-一AEB 系统可以控制制动以最大减速度 9 my/s? 进行减速,以响应移动目标
-一制动上升时间取决于制动系统预填充,限制为 15 m/s'
一一AEB 功能在速度大于 5 km/h 时可用，
一一允许最大降速为 50 km/h;

107

--- Page 118 ---
GB/T 43267一2023

-一传感器和制动系统中的安全机制将防止 AEB 控制减速超出设计的速度范围。
图 C.1 显示在初始速度为 50 km/h(相当于 13.9 m/s)时,AEB 减速导致的自车速度的理想变化

一10

0      0.5       1       1.5      2       2.5       3x
标引序号说明，
X 一一时间(s)，
Y，一一自车速度(m/s)，
Y, 一一自车减速度(m/s  ) 。

 C.1 AEB 减速曲线

预期功能安全相关的危害和危害场景如下。

一一危害行为:在设计意图范围内的非预期 AEB 制动超过 340 ms.

-一危害场景:非预期的 AEB 制动时间超过 340 ms 且存在跟车距离较近的后车。在这种条件
下 ,非预期制动会造成追尾碰撞。

危害事件可以被建模为在直路上跟车场景下的一阶效应(见图 C.2) 2 。

标引序号说明:

1一一后车;
2一一自车。

图 C.2 危害事件模型中使用的跟车场景
该场景基于以下假设:

-一初始时,两辆车都以同样的速度行驶;
一一与速度相关的跟车距离具有已知的概率分布00 ，
一一即使驾驶情形不需要,2 号车 AEB 激活紧急制动;
-一所有 AEB 制动事件遵循图 C.1 所示的制动曲线;
一一后方驾驶员感知到危害情形 ,并通过制动做出反应。反应时间服从已知的概率分布。
使用蒙特卡洛仿真对图 C.2 所示的场景("场景 1”)进行分析,使用后车的跟车距离和反应时间作
为输入变量,以估计危害事件(追尾)的概率。发现场景的结果在很大程度上取决于AEB非预期激活时

108

--- Page 119 ---
GB/T 43267一2023

车辆的速度。仿真以初始速度 v 作为输入,以碰撞概率作为输出。
图 C.3 表明,由于跟车距离较短 ,在较低的速度下碰撞的概率更高。由于跟车距离增加和最大降速
阔值的存在 ,当速度在 50 km/h 以上时 ,碰撞概率下降。在没有减速阔值的情况下,图 C.3 将有所不同

(单调增加) 。
D5 3  Maes  oe 20° 100 er ead an 1g rane! 0 on  x
标引序号说明 :
/h) +
Y一一碰撞概率;
a一一高概率;
b一一低概率。

 C.3 场景 1 中在不同初始速度下的追尾概率

C.2.2.4 交通统计分析

假设对于 AEB 来说,导致伤害的最常见事故是在跟车场景下两辆车之间的追尾碰撞(图 C.2 中的
“场景 1”")。通过分析,可以确定追尾碰撞的最大可容忍(可接受)发生率,即公式(C.4)中的 Pa

国家道路安全管理部门提供的交通统计数据(例如,美国的NHTSA GES 数据 ,按照事故地张贴
的限速进行分类)可提供现场现有碰撞发生率的概况。

交通统计通常提供以下数据;

一一现场乘用车数量CN);

一一每辆乘用车每年平均行驶里程(K)，

一一每年行驶的车辆总里程数CM) ,如果没有提供该参数,可使用公式 M=NXEK 估计，

-一每年现场相关事故(追尾)数量(A ) 。

对所考虑的变量采用统计模型,通过进一步分析,提高了估计的可信和度。根据这些信息,可以计算
人类驾驶员在两次碰撞之间的平均行驶里程(基准孔):

M                                                 、
一下                  5 )

式中:

也 一一人类驾驶员在两次碰撞之间的平均行驶里程(基准已);

M一一每年行驶的车辆总里程数，

A 一一每年现场相关事故(追尾)数量。

为了获得最坏情况估计,M 取其上限值,A 取其下限值。

安全论据要求有证据证明配备 AEB 的车辆可以运行至少已 公里而不会造成事故,或者 AEB 系统

功能不足造成的事故概率低于每公里 1/B[与公式(C.4)相比]。

注 1: 上述准则只是一个理论概率量度,用于在决定向市场投放产品时,评估可以容忍的风险。因此,即使达到了此
确认目标,当实际市场中发生不期望的 AEB 时,判断是否有必要采取对策也需要基于(作为示例)系统架构、
ODD 和系统规范进行额外的分析和考虑。

109

--- Page 120 ---
GB/T 43267一2023

注2: 公式(C.5)中的基准可以被看作系统确认的下界。考虑交通统计的不确定性,该基准可能通过乘以因子 As:
来增加或者减少。此时基准定义为:B=AikzCM/A)。
示例 1: 将基准卫乘以因子如二1 可用于保守地证明 :与交通统计事故相比,AEB 功能不会导致事故数量增加 。
示例 2: 交通统计数据包括合理和不合理的制动事件。对于误报的 AEB 制动,只有导致危害事件(追尾碰撞)不合
理制动才与定义基准有关。A* 被定义为危害事件的概率,A:王1/， 被用于调整 ”个实际制动事件中只有一个由于不合
注 3: C.2.2.3 中描述的仿真可用于估计由于不合理的制动 &; 引起的危害事件的概率。

C.2.2.5 ”测试场景定义

如果以必要的置信度满足了接受准则,可能没有必要通过驾驶里程数等于或者超过 刀 来证明达到
了可接受的残余风险水平。车辆任务概述(见表 C.1) 和系统行为数据可用于细化数据收集和确
认策略。
仿真(见 C.2.2.3)表明,当速度为 50 km/h 时,AEB 导致的风险最高。我们将场景 1(图 C.2)分为
三种，
一一场景 1.1:o王0一40 km/h;
-一场景 1.2:v王40 km/h~80 km/h;
一一场景 1.3:o之80 km/h,
表 C.1 使用公开数据分析了 2010 年至 2017 年美国发生的追尾事故的严重度概率分布2 。在这
些数据中,碰撞概率和相关严重度级别按张贴的道路限速被划分为，
一一城市道路(0一40 km/h);
一一乡村道路(40 km/h~100 km/h 之间);
-一高速公路和城际公路(限速超过 100 km/h) 。
比较图 C.3 碰撞概率最高的区域与表 C.1 中严重度的分布 ,我们发现人类和 AEB 系统引起的追尾
碰挤的区域是一致的。最高风险区域对应于场景 1.2。
注: 在超过 80 km/h 的速度下 ,潜在的 AEB 激活违反了系统的限制。例如,通过 GB/T 34590(所有部分)中建议的
外部措施来实施,因此被视为不在 C.2.2 的范围内。

RC.) 不同限度下追尾事故严重度风险概率分布

限速/(kmy/b)                        4         40~80       80~ 100                    全部速度

追尾事故(包含车尾对车尾)占比        9.        69.9%     12.8%      9%      100.0%
未受伤                            ，            73.3%         74.6%          2.9%          74.1%

非致残性伤害                 9%      24.7%      22.7%      25.0%       24.0%

致残性伤害               1%      1.8%      2.3%      1.6%       1.8%

死亡                 0,055 %     0.52%      0.33%     0.55%      0.13%

假设有统计数据,则可以为场景 1.2 重新计算基准[公式(C.6)]:

Mioan
了:oso ae                                   CC.)

Bi一 BREN 40 km/h一80 km/h 时,人类驾驶员相邻两次碰撞之间的平均里程(基准已);

Mi w一一限速为 40 km/h~80 km/h 时 ,每年行驶的车辆总里程数，

Au一限速为 40 km/h~80 km/h 时,每年现场相关事故(追尾)数量。

对于对风险影响未知的参数 ,数据收集可包括各种驾驶条件,例如

一一天气状况:AEB 系统可在一组代表性天气状况下进行测试.这包括干燥、雾天,.雪天、雨天、阴
110

--- Page 121 ---
GB/T 43267一2023

天等;
一一一天中的时间 :根据传感器的类型 ,数据收集可以包括一天中的不同时间 ,如夜晚.黄昏等。
此外,数据收集还可包括从传感器局限和特性特有局限分析中得出的相关驾驶情况 。
表 C.2 给出了车辆任务概述的示例。该规范基于天气 .速度和其他参数的真实状况。它还可基于
涵盖场景发生率的数据,其中场景发生率可通过仿真或者估计得到。

表 C.2 车辆任务概述示例

一天中的时间
类型                                         占比
白天                                         50%
夜晚                                         35%
BF                                         15%
车速

速度/(kmyh)                                      占比
0..50                                         60%
50.80                                         40%

二80                                         0%

天气状况

类型                                         占比
干燥/晴天                                       65%
BR                                          5%
BAX                                         10%

大雨                                          5%

其他天气状况                                      3%

C.2.2.6 ”对基准的考虑

可使用 C.2.2 所述的基于交通统计的方法定义目标平均碰撞间隔时间(MTBC)基准,该基准可用
于在量产或现场运行之前确认自动芍驶系统的鲁棒性。然而,这种方法的主要考虑因素如下。

一一可扩展性 :除非对系统架构做出具体考虑,否则将此方法应用于完全自动驾驶车辆可能是不可
行的。对于 C.2.2 中的 AEB 示例,将特性适用速度范围扩展到高速公路速度(例如:130
kmyh) ,将增加基准确认里程 ,因为在高速下追尾频率较低。

-一系统架构独立性:可使用系统架构的考虑因素来优化目标确认里程。对于复杂的特性 ,其中使
用超过一个子系统来吕余验证特定的控制行为,则可通过观察影响整车 MTBC 的单个度量
(例如,基于摄像头的目标探测子系统误报率或基于雷达的目标探测子系统误报率)来优化从
交通统计导出的 MTBC。

一一对确认路线的依赖:基于系统局限分析设计的特定驾驶路线可更准确地定义 MTBC,从而减
少所需收集的数据量。

111

--- Page 122 ---
GB/T 43267一2023

C.3 预期功能安全适用系统的确认

图 C.4 阐述了一种可能的模型 ,说明如何结合覆盖目标值和约束的随机测试来进行 V&V 人迭代,用
于发现未知危害场景或功能不足(即减少区域 3) ,以支持 SOTIF 开发(图11)。在V&YV 启动之前的初
始状态(最左边的圆圈)中 ,安全分析过程中已经确定了一些潜在的功能不足,即灰圈所代表的区域 2。
除此以外,可能依然存在一些在此阶段未能发现的功能不足[黑圈部分,未知的危害场景(区域 3)]。虚
线方框表征了全部功能中已使用的功能(例如在 ODD 中使用的功能) 。

a) 初始状态                 b) V&V和迭代              ©) ， 下一轮 V&YV 和迭代
图例;
OO 已知危害场景/功能不足
@ 未知危害场景/功能不足
[_ 具有ODD的所用功能的空间
人 约束的随机测试场景
(CO 系统功能的全空间

 C.4 SOTIF 开发测试迭代

总体 V&-V 目标是在给定的 ODD 边界内最小化未知危害场景的发生。一种方法是使用已知场景
作为约束随机生成新场景测试的基础,从而逐步增加测试覆盖空间。这些新场景/测试增加了覆盖的测
试空间 ,因而能够暴露更多未知的危害场景[图 C.4 bd J.

下一轮 V&V 迭代建立在前一轮的基础上。通过扩展已覆盖的随机空间,那些暴露的未知场景现
在变为已知 ,并作为进一步扩展覆盖度的基础。先前已知的场景也可被用于创建更多随机测试和场景
的基础。

这个迭代过程持续进行直到充分地罗盖已用功能空间。迁代的结果是区域 3 中发现的危害场景转

变到区域 2 中[图 C.4 c)]。一些没有覆盖到的危害场景可以通过减少 ODD 来减少。
图 C.4 的模型也可应用于 SOTIF 适用系统的典型车辆软件开发策略里。伴随着软件的测试活动
和潜在的危害行为被消除 ,潜在危害行为之间的平均里程数预计会上升。但是随着新特性/功能被引入
或使能,每个潜在危害行为之间的平均时长或里程或许会下降,然后由于引入的新特征/功能所带来的
漏洞被追踪并解决,这些数值会因而再次上升。最终达到特定用例和功能的确认目标阔值,并认为确认
活动得到满足。这一概念如图 C.5 Bras.


--- Page 123 ---
GB/T 43267一2023

标引序号说明，

X一一开发时间，

Y一一每个非预期行为的平均公里数;
1一一新实现的特性/功能;

a一一确认目标，

b一一完成特性/功能(发布候选版本)，
c一一达到确认准则。

 C5 开发期间潜在危害行为率的预期概况

例如,在测试之前,系统所有者需定义如下内容，

a) 确认目标(停止规则)，

b) 测试工作在不同测试模式(实车测试.硬件在环、软件在环等)上的分配，

c) 定义潜在危害行为,定义重启距离计数的标准。

SOTIF 适用系统的确认过程从选择接受准则开始(见 6.5)。从这个接受标准推导出确认目标。确
认目标可以根据系统用例(例如辅助驻车.自动紧急制动 .车道保持.自动平行停车.低速自动停车场辅
助 .高速公路自动驾驶辅助 .自动出租车)的碰撞统计数据和安全裕量来计算。

以下可用于形成目标:

一一要使用的统计数据;

示例 1: 已报告的碰撞事故。

一一统计数据中的人为表现;

示例2: NHTSA 2015 年碰撞事故统计为每 500 000 英里 1 次(1 英里一1.61 FA,

-一安全裕量;

一一统计的置信度限值。

示例 3: 对于特定用例,人类驾驶员在事件之间平均行驶距离为也公里。出于安全原因,定义了额外的裕量 >二1 。
所选的SOTIF 适用系统的接受准则是潜在危害行为之间的平均公里数 召xy 或目标事件率Au=1/(BXy)。终止规
则假设事件服从泊松分布。使用确认目标 r,如果在连续的 r 驾驶时间或驾驶里程内,没有发生潜在危害行为,则可以
证明系统的事件率小于或等于Au ,且置信度为=,其中= 在公式 〈C.7) 中给出C

r一一In(1一c)/Au              7)
注 1: r 可能是时间单位或距离单位,具体取决于事件率的单位。

注 2: 对于sw0.63,r=直一BXy。
BES. 分布可能随时间而改变。例如,对于现有 ADAS 系统如 AEB,有必要通过比较某一系统广泛引入前后的事故
率来控制其统计分布。
实际上,需要通过行驶进行确认的公里数或者小时数 = 可能会非常大,因此在某些情况下不实用。
通过类似的系统.MIL、SIL 及 HIL 模拟行驶公里数,使用专家知识,可以降低实际行驶要求。基于仿
真的能力,可以适当调整现实世界测试和仿真测试之间的分配比例(例如,仿真仅在特定场景下有效) 。
113

--- Page 124 ---
GB/T 43267一2023

合理地改变现实和仿真确认测试的条件(例如,不同的天气条件、一天中所处的时段 .道路条件、交通条
件.行人条件等) ,以试图发现罕见的实际行驶工况。

C.4 感知系统的验证和确认

C.4.1 感知系统的验证和确认框架

C.4.1.1 概述

C.4.1 提供了一个示例方法,可用于增量地验证和确认给定感知系统的性能。 感知系统在任何驾
驶自动化等级的自动驾驶汽车的 SOTIF 中都发挥着重要作用。该示例方法可适用于装备自动驾驶系
统的车辆中使用的任何类型的感知技术(例如雷达,摄像头`激光雷达 ,超声波等) 。

在任何开发阶段可能引入的不同类型问题,这些问题都会影响感知系统的性能。因此,感知系统经
历如图 C.6 中描述的增量验证和确认过程是有价值的。

BE 1: 这些步骤的顺序是以递增形式呈现,但在执行这些步骤时不强制要求顺序。

注2: 这些步骤可能路多个公司共享(见 4.4.2) 。

4
4         开放道路
(ORV)
4        gee  (ITV)

[gare
ENO IE        验证              (VIV)
(BV)             (APV)

 C.6 感知验证和确认的示例步骤

感知系统验证和确认过程可包括多个步骤，

一一台架验证(BV) :在受控环境下对感知系统探测能力进行初步验证，

一一算法性能验证(APV) :使用更大规模的数据验证感知系统性能;

一一整车集成验证(VIV) :在目标车辆中集成后,验证感知系统性能，

一一封闭道路验证(TTV) :在封闭道路上针对多个参考用例验证感知系统性能;

一一开放道路确认(CORV) :在开放道路中针对所有相关场景确认感知系统性能。

C.4.1.2一C.4.1.6 展示了使用 SIPOC(供应商、输入过程、输出客户)图表的分析示例。SIPOC 是
一种以表格形式汇总一个或多个过程的输入和输出的工具,用于定义一个从开始到结束的过程52 。
SIPOC 是一种用于质量管理和过程改进的分析方法,但是其他方法也可用于感知系统验证和确认过程
的分析。

C.4.1.2”台架验证

可定义台架验证活动,来验证已装配的感知系统在参考环境下的探测能力(台架测试)。该测试有
助于验证感知系统在受控环境中针对特定生产公差的鲁棒性(例如,不同的可容忍的雷达天线灵敏度或
不同的摄像头焦距)。表 C.3 提供了这些类型测试的示例。

114

--- Page 125 ---
GB/T 43267一2023

表 C.3 ”台架验证
种类 |供应商(S)   输入(D      处理(P)      输出(O)      客户(C)
探测要求; (示例,分          验证通过:在受控环
工程“| 辩和分离能力、精            fl YO
2    根据产品规范,在受 ao 工程团队(进一步测
定义             控环境下验证感知|    试)
组装的系统 (CSMV | 系统的探测性能 | 验证失败:报废的感 | OpM/TiesX 供应商
制造 | -    a    "          知系统(返工或处         “
am)                理)
验证通过;对参考数
CR | 直达探测要求CKPD  消声室   雷   《有验证通过的
a | 雷达探        在消声室中使用雷 | 所具有验证通过的 | Co
二、           达目标发生器验证 | 探测能力的雷达验 | 计，
       sve oy apa coy | 填达正确的探测 | 证失败,报族的雷达 | OFMTieexX gen
制造“| 组要的雷达(CSMY | 能力                (返工或处理)
之后)
摄像头探测要求          证通过:和
工程         cen we wr am a ak my | 验证通过:对参考数 | 。  ,
CKPD             据具有验证通过的 | 工程团队(进一步测
_                 的数据或合成片段          -
示例2                Le oh oe my | 探测能力的摄像大。 | a
aa   组装的摄像头(SMV ey um   “| 验证失败:报废的摄 | OEM/TierX 供应商
ae | 亏所5       "         像头(返工或处理)

C.4.1.3 算法性能验证
可定义算法性能验证活动来验证感知系统算法对一组参考数据的探测能力(例如重用仿真或先前

收集的数据)。这种测试有助于验证在相同硬件上新发布的软件版本上没有性能

一一代码不同阶段暴露的系统行为不足和可能的功能不足;
一一在重复的过程中获得更好的鲁棒性;
-一避免问题在开发过程中再次出现;
-一为分析根本原因提供稳定的基线。
算法的性能验证步骏可以在目标硬件上执行(例 HIL 测试) ,也可以通过注入以前记录或合成的数
据在模拟器上执行(例如 SIL 测试) 。由于这两种方法的差异,表 C.4 没有提供将这一验证步骤应用于

不同感知系统的示例。

C.4.4 描述了一种可用于算法性能验证的技术。

5}

RC4 算法性能验证

种类

供应商(S)

输入(TD)
参考数据(预采集数据或模拟
数据)
探测要求/KPI

算法和仿真软件(软件在环的情
况下)

生产制造

组装的系统(硬件在环的情况
下)

处理(P)

针对一组参考数据
(数据注人或仿真)
验证正确的算法
性能

输出(O)

验证通过:已验证通
过的感知系统算法。
验证失败:修改或重
新设计感知系统
算法

客户(C)

工程团队(进一
Wik)
OEM/TierX 供


--- Page 126 ---
GB/T 43267一2023

C.4.1.4 整车集成验证

可定义整车集成验证活动,以验证感知系统能够在目标车辆上运行,并且没有非预期的性能降
级/改变,这个验证步骤有助于更好地理解以下内容:

一一感知系统能够使用目标车辆提供的信息(车载信号比如车辆动态信号等);

-一在与目标实现相关的规范定义不足时(例如,与摄像头相关的挡风玻璃反射率,雷达集成在保

#C.

险杠后时保险杠喷涂的类型和厚度 ,或位于雷达前的不了
旦无性能降级。
5 展示了整车集成验证的示例。

供应商(S)

RCS 整车集成验证

输出(O)

E确的介电材料) ,感知系统可以运行

定义

示例1

工程

车辆性能规范

制造

工程

组装的感知系统
车辆(目标环境)

车辆通信协议

制造

组装的感知系统
车辆(目标环境)

标车辆中使用时按
照规范工作

验证通过:整车集成
验证失败 1:修改或
重新设计感知系统。
重新设计感知系统

工程团队(进一步测
试)
OEM/TierX 供应商

验证感知系统能够

使用车载信号:

一一以适当的延迟
接收车辆动态
信息，

-一电信号在规范

范围内

系统。

验证失败 1:修改或
验证失败 2:修改或
或车辆接口

工程团队(进一步测
it)
OEM/TierX 供应商

示例 2

雷达的预期降级

制造

组装的感知系统

车辆(目标环境)/ 辆
的一部分(目标设
it)

对雷达系统的降级
进行测试:

-一不正确地定义
保险杠形状/曲
能降级(雷达在
保险杠或标志
后面);

不正确的喷涂
规格导致性能
降级(雷达前的
保险杠或标志
类型不正确);
不正确的介电
特性导致性能
降级(不正确定
义保险杠材料、
不正确的标志

到汽车保险杠后。
验证失败 1:修改或
重新设计的感知

工程团队(进一步测
id)
OEM/TierX 供应商

116

--- Page 127 ---
供应商(S)

RCS 整车集成验证 (续)

输入(D

输出(O)

GB/T 43267一2023

示例 3

工程“| 摄像头的预期降级“| 对摄像头系统的降
级进行测试，
一 摄像头集成在
风玻璃后验
东    环境)/车
制造“| VCE RD     挡风玻璃总成

辆的一部分(目标设

ih)

验证通过:摄像头集
成到挡风玻璃后。
验证失败 1:报废感
知系统(用于返工或
验证失败 2, 修改或
重新设计摄像头布
#

工程团队(进一步测
试》
OEM/TierX 供应商

C.4.1.5 封闭道路验证

可定义封闭道路验证活动,以针对一组特定的参考用例(场景,包括特定的触发条件)来验证感知系
统的探测能力。虽然用例(场景)本身通常是“技术不可知”(不依赖于感知系统的特性) ,但是可以选择
或优先考虑一组特定于技术的用例(场景,包括特定的触发条件)来验证以下几个方面，

一一特定用例的感知系统性能(如车辆安全性能评估项目如:Euro NCAP、JNCAPNHTSA 、KN-

CAP.C-NCAP .Latin NCAP 协定的那些测试场景或相似的测试场景);

一一在特定的场景下的感知系统的验证,旨在发掘感知系统的局限性(例如雷达的角精度);
一 自车传感器与其他自车传感器或其他车辆传感器之间的相互作用(例如雷达相互干扰) 。
表 C.6 描述了一个封闭道路验证的示例。

RC6 封闭道路验证

种类 |供应商(S)    输入(D        处理(P)        输出(O)        客户(C)
用何列表                      验证通过:验证通过
ce | 感知系统已知的性 | 在与终端功    gle eee
在与终喘功能相关 | 的感知系统性能。 | 工程团队(进一步
、、         能局限         的特定用例中验证   ae       .    ce
定义                 感知系统性能    验证失败:修改或重 | 测试
制造“| MCE AD  “—        新设计感知系统    OEM/TierX 供应商
    系统CVIV 后)
用例列表
工程   感知系统已知的性  验证感知系统在给定
能局限         BSA MEA | os yo ty
oe  感知系统性能。      工程团队(进一步
示例 1                 “.    .    验证失败:修改或重 | ak
信守 草 反 上 的 | 半扣证感条了     OEM/TierX 供应商
ee 总Bam NCAP ay | “TTRAS       mete
2   后    &
制造   系统LVIV后)     遮蔽的弱势道路使

用者场景的一部分

117

--- Page 128 ---
GB/T 43267一2023

表C.6 封闭道路验证(续)

供应商(S)   输入(D               输出(O)      客户(C)

基于雷达的感知系
统干扰频率                                           工程团队(进一步测

示例 2                                                                                            试)
组装的(车内) 感知                     OEM/TierX 供应商
系统(VIV 后)

C.4.1.6 ”开放道路确认

可以定义开放道路确认活动,以确认感知系统在目标环境中的性能。确认阶段的目标可以包括以
下内容。
-一在多个市场.各种环境条件中持续收集典型数据，
一一在通常很少见,并且在正常驾驶中较少出现但可影响感知的情况下收集的特定数据,例如:
ee 视觉感知:黄昏或黎明时的数据;
e 雷达感知:十和雨滴飞溅条件 ,撤盐道路;
© 激光雷达感知:不利的天气条件，
e 所有感知:隧道人口/出口。
一一在不常见但可能增加危害行为的场景中收集特定数据,如:
e 车辆行驶在车流量很小且无前车的道路上,会增加道路内目标选择错误和探测到鬼影目
标的可能性;
e 超越一排卡车车队时,车队的阴影遮盖了超车道
© 扫雪机经过时溅起的雪 ,可能会导致一个或多个感知系统突然致育。
一一基于系统局限的特定数据收集,如;
e 技术局限性(如,雷达无法正确识别钢架桥);
e 功能/算法局限性(如,没有交通车辆时的灯光控制) 。
一一在不利条件下的专项测试,比如，
e Ka:
基础设施质量
交通情况(混乱相对于有序);
驾驶动态特性(横向和纵向);
道路周边的复杂情况(存在多处光源或复杂的道路设施)，
ee 交通状况(弱势道路使用者较多的路况,相对于高速公路) 。
开放道路确认的示例见表 C.7。

118

--- Page 129 ---
GB/T 43267一2023

RC7 ”开放道路确认

种类 |供应商(S)     输入(D        处理(P)        输出(O)         客户(C)
用例列表
感知系统已知的性
_     能局限(在 TTV 或                确认通过:在所有相
工程                    aN   :  an
APV 后或在多次  ABE eT ciel  关条件下确认感知 | 工程团队(进一步测
本       ‘ep      二| 功能以及感知局| 一人        -
定义           TTV 或 APV 后不  BL ULI Ae  系统性能。         id)
断更新)         Siete  “| 确认失败;修改或重 | OEM/TieeX 供应商
    新设计感知系统
wg [SRW CEMD Bim
”|系统CVIV后)

C.4.2 ”随机传感器模型

复杂的驾驶自动化系统可能需要大量的无法在实际环境中实现的测试。作为实际环境测试的补
充,在虚拟环境中的仿真可以作为测试活动的一个重要部分。因为现代的传感器比较复杂,容易受到复
杂的,通常是随机现象的影响,所以传感器的仿真是测试活动非常重要的环节之一。

基于物理学的详细传感器模型 ,需要大量的建模工作和巨大的算力。而随机传感器模型则具有以

一一无需了解传感器实现的每一个细节;

-一易于应用蒙特卡洛方法测试不同的参数和情况;

-一仅需中/低算力。

该方法可以基于参数或非参数法:参数统计是统计学的一个分支,它假设样本数据来自服从一组固
定参数集的概率分布的总体。最著名的基本统计方法都是参数统计方法。非参数模型的不同之处在
于,参数集不是固定的,如果收集到新的相关信息,参数集可能会增加或者减少。由于参数模型依赖于
一个固定的参数集,它比非参数方法对给定的总体作出更多的假设。当假设正确时,参数方法将得到比
非参数方法更准确和精确的估计,即具备更强的统计功效。然而,当假设不正确时,参数方法失败的可
能性更大,因此该方法也不是非常稳健的统计方法。

对于参数化方法,传感器模型通常反映传感器的功能结构:

一一将传感器分解为若干功能模块;

-一每个模块负责对探测/测量过程的特定效果进行建模;

一一每个模块独立建模;

-一每个模块都有一组可配置的参数;

一一模拟器的输出是所有步骤模型的组合。

此外, 非参数方法没有对传感器内部结构进行详细的建模:而是将其建模为一个黑盒子,因此其侧
重于传感结果的统计表示5 。

对于摄像头传感器模型 ,用来估计传感器参数的统计试验的典型功能架构如图 C.7 所示。输入是
一个来自真实世界的数据库。将该输入并行输入摄像头测试台架和随机传感器模型。对比模型的响应
和摄像头测试台架的响应。用一个关键的绩效指标激励模型,并用优化函数更新模型参数,直到差
值最小。

119

--- Page 130 ---
GB/T 43267一2023

虚拟重播
(条件变化)                                                                                                              检测结果
比较
现实/虚拟
修正
|
1
|
WH                                                     |
ss4

FAC.7 ”架构示例一一摄像头传感器模型校正

在传感器模型校准后 ,该模型采用尚未用于仿真模型校准或训练的数据进行确认。经过仿真模型
确认后 ,模型既可以分析独立的传感器,也可以分析车辆仿真框架中的传感器。每次收集到更多真实数
据后,就可以进一步改进模型中的相关参数。

C5 场景参数化及场景抽样指导

C.5 为仿真及基于场景的验证和确认提供资料性指导,以支持第 10 章和第 11 章的目标。

仿真测试是确认工作的重要部分。在确保仿真是对系统和环境的准确表达之后,预先记录或构建
的场景就可以用来对已知场景下的系统进行确认。

基于记录的场景和仿真生成的新测试用例也可以用于测试未知场景。图 C.8 描述了一个基于构建
随机测试以生成新测试用例的示例。该示例通过改变标称场景中的一个或多个方面来生成新的测试
用例。

 C8 基于约束随机的 SOTIF 测试

这种类型的测试可以是随机的,也可以是结构化的(例如参数取值按照固定步长增加) ,或者可以是
两者的组合 ,例如多场景顺序组合或多子场景并行组合。
如果已知变量参数的分布,则可以进一步细化仿真过程。通常,可以基于自然驾驶数据来确定参数
120


--- Page 131 ---
GB/T 43267一2023

分布。下面给出一个来自参考文献[34]的示例来说明。自车在直道上以规定距离跟随前车。ACC 负
责自车的纵向控制,假设两辆车沿同一方向直行。前车制动,则自车也会制动,以防止碰撞。图 C.9 显
示了该场景的示意图,其中轿车代表自车。

标引序号说明，
1一一皮卡车
2一一轿车。
ACI 交通场景示意图

如图 C.10 所示 ,可以使用三个参数对该场景进行参数化:
ved:制动后的速度，
tanue :达到速度 we之前制动所需的总时间;
Av :前车的速度减少总量。

ay

80
60
40
20

0

标引序号说明:
X一一时间(s)，
Y一一速度(km/h) 。

图C.10 场景中前车的制动曲线

所得联合分布的边缘概率分布如图 C.11 中粗线所示。在这种情况下,核密度估计CKDE)可以用
来估计基础分布,当然也可以使用其他技术。直方图表示原始数据,粗线表示参数的KDE 的边缘概率

分布。

0 10 20 30 40 50 60 70 Av
Yb

0 10 20 30 40 50 60 70 Vex

标引序号说明，
Y一一概率。
图C.11 测试场景的三参数

一旦从真实世界场景信息中获得了参数的分布,则图 C.8 所示过程可以被细化为图 C.12。

--- Page 132 ---
GB/T 43267一2023

来自参数分布

图 C.12 ”基于参数分布的场景测试

使用估计的参数分布来生成测试场景可能会导致生成许多低价值的测试用例 ,因为高价值的测试
更可能落入分布的特定区域。为了避免低价值的测试带来不必要的计算负担,测试参数可能会更偏向
于在这些特定区域频繁抽样 ,称为重要性抽样2” 。图 C.13 使用图 C.8 中的示例,其中,当前车具有较
大的速度减少量时更具有风险,因此抽样偏向较大值。

Y

0            10            20             30            40            50            60            70 Av

标引序号说明，                 .                6
Y一一概率，

Az一一前车的速度减少总量(km/h)，

a — FEN

b一一更高风险的场景;

<一密集抽样。

 C.13 ”重要性抽样示例
122

--- Page 133 ---
图 C.12 的过程现在可以进一步增强为图 C.14。

总之，
抽样) ,将4

GB/T 43267一2023

 C.14 基于使用重要性抽样参数分布的场景测试

测试开始于为被测功能选择相关的场景类别。根据测试类型(约束随机、分布抽样或重要性

成一组用了

WY ik BT BLA

样方法,以

仿真的测试用例。根据适用了

F所选场景类别的相关度量来判断测试结果。根据

被测试功能的相关风险 ,选择相关的测试用例生成类型。例如,重要性抽样可以遵循分布抽

增加可信性。最后,根据仿真结果和接受准则来评估风险,也可采用第 8 章中方法以降低风

Be. FAC.

5 给出了结合所有三种测试类型的流程图。

--- Page 134 ---
GB/T 43267一2023

图 C.15 基于仿真流程的场景示例

驾驶自动化系统的确认涉及大量的仿真场景,以尽可能多地覆
需要大量道路特性和驾驶场景的数据。收集和/或构建这些数据可

盖真实世界的情景。这些仿真可能
能是一项巨大的工作。在公司内部

或公司之间使用存储和交换此类情景数据的标准,有助于系统及全面地探索各种情景。

还可使用标准支持各种工具或工具组件的集成。如 FMIC5 等
成为了可能。
仿真相关标准包括但不限于 :
-一OpenDRIVE :道路网络的逻辑描述，
-一OpenCRG27 :道路表面描述;
—OpenSCENARIO™® :驾驶场景描述;
一一Open Simulation Interface (OSD :传感器数据的连接;
一NDS : 高精度地图数据
CityGML5 :城市三维模型;
FMI :动态模型的模型交互和联合仿真。

C.6 减少确认测试的考虑
C.6.1 评估测试场景的覆盖率

标准使得将不同仿真元素组合起来

通过正确定义测试计划(包含仿真.实际道路或两者结合)可降低证明满足确认目标所需的测试量。

如果可根据一个变量的不同模态划分客户使用场景集 ,掌握
如果额外的论证(如来自仿真,专家判断)能够表明系统在特定
124

户的使用情况就可以提供对变量每

模态下处理特定场景的能力比其他

--- Page 135 ---
GB/T 43267一2023

模态(例如白天和夜晚对比)高得多,则该论证可证明将确认工作集中在最严重的模态上并减少在不太
严重的模态上是合理的。
注: 测试场景的攻盖率取决于很多定量确认目标类型。除了 Py oe 类型的目标(通过具有代表性的单位时间或
单位距离内的驾驶计算危害,c 是很小的正数) ,其他类型的量化确认目标可能会包含其他方面,如公平性(特定
人和群中的个体不会受到更多的伤害) 。例如,为了表明自动化车辆不会将基于某些特征的特定群体置于比其他
群体更高的被伤害的风险中 ,测试用例的设计包含这些特定群体。

C.6.2 ”与定量目标相关的组件层面的充分条件

在使用模块化设计时 ,关注与整车层面确认目标相关的组件层面的充分条件是有益的。组件的充
分条件是这样定义的,如果满足,那么在设定的伤害概率的置信度水平下 ,确认目标也就达到了(假设系
统其余部分的功能已知) ,如 Pus <c 充分条件可通过(保守地)假设世界和系统其余部分比实际表现
更差(不会更好)获得。

可从对 ODD 的详细认知中获得有用的充分条件 ,包括它的概率方面,以及系统架构和各个组件以
及他们的依赖关系。为了证明在组件层面满足充分条件 ,考虑到有关问题和相关系统方面的现有知识
(例如车辆动力学 .传感技术的物理特性) ,可通过利用实际可管理的数据来进行统计证明。关注组件层
面的充分条件不仅可降低确认成本 ,还可在 ODD 或系统组件发生变化时复用大部分安全分析。该方
法的另一个优点是,通过在组件层面满足充分条件就可更实际地实现论证,满足更细化的定量目标,例
如考虑公平性。

C.6.3 系统架构对确认的影响
C.6.3.1 概述

11.3 讨论了为表 11 中描述的每种应用方法选择合适的累积测试里程。给定一个整体系统确认度
量,恰当地定义系统架构可以减少所需的测试里程。

C.6.3.2 ”示例:使用满足充分条件的统计模块化安全论据

接受准则通常在数学上表示为 Phizs<c BE PG BE Jor ,其中伤害是通过对单位时间或单位距离的
代表性驾驶活动的计算得出的,ec 为较小的正数值。任何涉及统计因素的论证都会包含来自随机抽样
不可避免的不确定性。量化不确定性有助于支持这一论证。

虽然接受准则是在整车层面定义的,但是安全论证的一个非常有用的特性是支持模块化设计,这意
味着对组件层面和 ODD 的分析可以组合成最终的整车层面安全论证。模块化安全论证的潜在好处是
降低了确认成本。与整车层面随机道路测试相比,单独的对组件层面和 ODD 的分析成本更低且可重
复使用。为此,C.6.3.2 提供了一个具有以下两个合理特征的安全论证示例;论证是，

-一结构化的,利用模块化的组件层面分析;

-一对量化达到接受准则不确定性的统计具有严谭性。

这个简单的示例旨在传达主要思想并作为具体说明 ,并不力求在使用真实系统时要求的那种真实
性和细节 。

系统和设计运行范围描述如下 。

一一一辆自动驾驶汽车被设计为在只存在静止物体的直路上 ,以恒定速度 v 行驶。与该系统相关

的环境条件(例如照明 .降水 .路面摩擦等)是固定不变的。
一一该车配备了自动制动功能,其规范如下 。
e 目标检测和深度估计的组合算法以固定频率提供最近物体的距离估计 。
© 如果最近物体的距离估计值低于阔值 c ,则汽车开始制动 ,直到完全停止;实际制动距离是
一个常数0.0<一c。

125

--- Page 136 ---
GB/T 43267一2023

-一在每一次制动事件后,一旦移除静止物体 ,车辆就会重新安全启动(重新加速) ,以速度 v" 驶向
距它至少c 的下一个静止物体。保持问题中车速恒定的假设,可以避免额外的复杂数学运算。
-一传感器和算法在测试和实际使用期间是固定的。
该车辆的设计目标是沿直路行驶并避免与任何物体相撞。或者该系统可以视作为更复杂的自动驾
驶系统的一部分,具有障碍物检测和自动制动功能。
根据单位行驶距离的预期碰撞次数定义接受准则
[单位距离的碰撞次数] <
其中>0 是预先指定的目标水平。
概念如图 C.16 所示 ,并使用以下标记法 ，
——b 是到完全停止的总制动距离;
cb 是车辆和物体之间的纵向缓冲距离
in 是当车辆穿过车辆和物体之间的缓冲间隔<一 时,感知系统以固定的频率产生的距离估计
的数目;
-一: 表示车辆在感知算法进行连续两次感知之间以速度vw 行进的距离
一-并代表车辆到障碍物的实际距离,D 是感知算法估计的车辆到障碍物的距离;
一一D”是物体感知系统,在4生开二2十! 即条车前最后一次感知时,确定的车辆到障碍物的估计
距离;
a! 是车辆碰撞物体的速度,若车辆停止并且恰好没有撞到物体,则 赤 一0。

自动制动阔值<

缓冲区c一"车辆制动距离

物体检测              制动             碰撞速度un
D<e                               ——
(若未发生碰撞则值为0)
Ko
感知动作

 C.16 车辆运行示例

在此示例中,可以通过分解组件和 ODD 特性来获得预期的碰撞次数:
瓦[单位距离的碰撞次数] = P Co" > 0)E[单位距离物体数] ，
忆(二0)是假定自车前方存在随机障碍物,且由于未能感知到障碍物 ,在离障碍物太近而无法避
免磁撞之前,车辆没有制动的概率。在以上等式中出现的量是现实世界中物体分布的概率量。
存在障碍物时 ,碰撞概率 P Co! >0) ,当0挟一0十! 时,等于自车在距离障碍物过近之前没有制动
的概率,也等于没有检测到障碍物(即 D>c)的概率。
因此,考虑到与目标的一次接触，
Po! >0)=P(D >c MMAL € [bse ]) < PCD" >)
因此,在这个特定的示例中,基于上面的定量安全措施可以界定为，
忆[单位距离的磁撞次数] 过 POD" > c)E[单位距离物体数]
因此实现特定的检测性能是，
P(CD”>c) 过 c/E[单位距离物体数] 满足接受准则的充分条件。
可以用置信区间分别估计己CD">c)和五[单位距离碰撞],反过来也可以借助以上不等式,通过获
126


--- Page 137 ---
GB/T 43267一2023

得置信和度大于或等于1一c 的声明巨[单位距离碰撞]码c 来论证整车层面的安全。由于可以通过仿真、
结构化(例如轨迹)测试和随机道路测试的组合来估计 PCD” 二c) ,并且通过道路测试以外的其他来源
(例如交通数据.普通驾驶数据.区域成像)来估计 已[单位距离碰撞],整车层面随机道路测试的数量可
以明显小于通过直接实现确认论据所需的整车层面道路测试数量。

示例: 接受准则是平均 100 000 km 的驾驶中少于 1 次碰撞,且置信度水平至少1一c,即 巨[每公里碰撞数]一
1/100 000,至少有置信度 1一c。假设估计每 100 km 有少于 1 个静止的道路物体,置信度至少为 1一cy ,即 下[每公里碰
撞数]二1/100,至少有 1一 的置信度。此外,假设人们还估计检测性能 PCD" >e)<1/1 000,置信度至少为 1一az ,其
中ww 十wz一wa。然后,使用上面建议的上限,尼[每公里碰撞数]<1/100X 1/1 000,置信度为至少 1一(ai 十oz )一1一w。
这里的组合置信水平由基本概率规则"证明。

适当的试验设计有助于估计 PCD" >) Al ELA kK RC)

示例: P(D"”>c)可以通过对遇到的物体随机抽样来估计,L 在区间[L2 ,2十匡中均匀分布。

建模、充分条件和统计估计技术可以进一步细化2 。

C.6.3.3 ”宛余和独立性的考虑

如果系统架构设计为，

-一定义宛余通道来实现系统中给定的子功能

一一在给定的驾驶条件集合下 ,每条通道都能独立地实现该项子功能，

-一任一通道的正确行为都能充分地保证预期功能的安全性。

那么可通过应用安全分析计算潜在系统危害行为发生的概率,降低每个通道的确认等级。
可通过如图 C.17 所示的双通道系统来说明各通道确认等级的降低。

 ~ —— =a

AC.17 双通道系统架构

对于图 C.17 所示的系统而言 ,假设通道 1 和通道 2 实现相同的功能,并且每条通道都能够避免潜

同时也假定通道融合要素不存在功能不足并能够融合两个通道的信息,这样对输入数据进行了正
确评估的任一通道 ,都能充分避免输出产生的危害行为。在这些条件下 ,任一通道中的潜在功能不足就
是多点功能不足。

通道 1 和通道 2 之间可能存在共模,例如相同的功能不足。在这种情况下 ,特定的触发条件可能会
触发这种功能不足并引发危害行为。

基于这些假设,可对导致危害事件的系统行为进行建模,如图 C.18 因果树(见 B.3.2 因果树分析指
南) 。

1) 假设任意两个事件 A 和 B,其中P(A)三1一cl 且 P(B)三1一os ,则 PCAN B)=P(Q)—P(O,(ANB))=
1一P((Q,A)十(0,B))二1一(P(Q,A)十P(Q,B))三1一(ww十ea )。

--- Page 138 ---
GB/T 43267一2023

通道1特有的
非预期行为

通道2特有的
非预期行为

 C.18 系统行为模型

与纯粹的系统黑盒测试相比 ,单独测试通道 1 和通道 2 可以减少测试时间。这种减少很大程度上
取决于通道 1 和通道 2 之间的共模因子。共模是由于通道 1 和通道 2 有相同的触发条件或者是具有统
计意义相互依赖同时发生的不同触发条件而导致的。通过考虑两个通道之间的多样性,可以定性地个
计这个因子。也可以通过专项仿真或分阶段测试计划进行估计。

理想情况下 ,可以认为通道是独立的(即因子=0)。并且可以通过专项独立性调查支持该独立性声
明。这是量化策略的定性延伸。建立两个要素独立性的技术如下。

一一分析，

e 包括已知现象的通道相关分析;

e 在通道中使用不同的传感器组;

e 在通道中使用异构的传感器原理和/或算法。

e 通过测试以表明系统能够处理假定的共因或相关人性;

e 系统地设计耐久性确认测试,以充分测试所有已知或假定的传感器.组件和通道的弱点。

一一专用方法:

ee 用于履盖通过理论或观测相关性得到的共因局限的方法:

e 从使用类似传感器或功能的其他系统中观测的功能不足的分析;

”对开发过程中或通过现场监控观察到的单通道功能不足进行分析, 提供证据证明其他通
道不受此问题影响。

128

--- Page 139 ---
GB/T 43267一2023

附 录 D
(资料性)
关于 SOTIF 特定方面的指南

D.1 驾驶策略规范指导
D.1.1 目标和结构

D.1 的目标是指导驾驶策略设计,并提供实施示例。

驾驶策略是整车预期功能安全策略(VLSS)在决策层的实施。

示例 1: 因存在超出 ODD 或性能局限,从正常状态切换到降级状态的相关要求属于整车预期功能安全策略范围。

在定义了整车预期功能安全策略之后,就可通过分析某些影响设计和规范的关注领域来定义驾驶
策略。在该过程中,可以考虑目标车辆的 ODD 和驾驶自动化等级9。D.1 提供了一些(但并不详尽的)
示例,说明了如何推导整车安全策略 ,以及驾驶策略的要求。

整车预期功能安全策略是确保装备自动驾驶系统车辆整体安全的总体规范,会影响装备自动驾驶
系统车辆的所有构件设计。

如果实施了整车安全策略和驾驶策略 ,则在规范定义和设计中予以记录(根据第 5 章,并考虑第 6
章、第7 章和第 8 HED ,并根据验证与确认策略(第 9 章)了予以验证。有许多方法可以实施驾驶策略,以适
应和保持 SOTIF 。

示例 2, 见参考文献[413]和[44] 。

注: 在驾驶策略中,考虑对车辆基础设施(感知系统 .执行器.人机交互)的依赖关系,并根据与其他道路使用者的交

互,考虑对道路安全的影响。

在开发过程中,可以通过是否违反驾驶策略来衡量自动驾驶系统操控车辆充分应对其他道路使用

者造成的危险情况的能力(这种衡量方法采用参考文献[45]中的道路驾驶技能概念表示) 。

D.1.2 驾驶策略设计
D.1.2.1 驾驶策略设计示例概述
图 D.1 给出的示例是基于感知一规划一执行模型(4.2.3)的自动驾驶车辆简化架构。

系统
整车安全策略                                         Level 1 抽象层

Level 2 抽象层

图D.1 具备驾驶策略的装备自动驾驶系统车辆的简化架构示例
在所示架构中 ,驾驶策略属于规划子系统。规划子系统负责分析来自感知子系统的信息。规划子
系统可包含多个子元素,其目的首先是以要求的精度水平重建装备自动驾驶系统车辆的周围环境,再根
据驾驶策略决定系统的下一步行为。其中一种方法是设计适当的响应。


--- Page 140 ---
GB/T 43267一2023

注

: 适当的响应被定义为驾驶策略在其他道路参与者做出可合理预见的行为时保持预期功能安全所需的一组纠
正行为。适当的响应有两大属性:
一一根据交通场景中自车与其他交通参与者的关系,对自动驾驶系统操控车辆进行评估;
一一在任何不需要切换到最小风险状态的运行条件下 ,通过统计证明是安全的。
示例 1: 通过适当的响应实现的修正动作包括加速 .减速或转向指令,具体取决于交通场景。
驾驶策略的实施也可依靠车外系统。
示例 2: 车外系统可能会影响驾驶策略的设计。例如依赖地图的更新了解道路基础设施的变化。
驾驶策略是为了确保在装备自动驾驶系统车辆的控制系统实施控制行为期间,自动驾驶系统操控
车辆在与其他道路使用者交互中,能够按照当地交通规则和公序良俗安全驾驶。驾驶策略可作为监控
手段实施,也可以直接纳入决策实施。在设计驾驶策略过程中,可考虑以下两大类指标。
一一领先指标:对给定用例的指标,并可在验证与确认阶段(例如,在封闭道路或在开放道路测试)
验证的指标。这些指标包括可通过仿真.封闭道路和开放道路中测试的违规行为.道路驾驶技
能和系统脱离"5 。
一一滞后指标:根据统计数据得出的指标,在预期功能安全发布后,为风险可接受提供依据。滞后
量度的有效性可在现场系统运行期间进行监控。见第 13 章运行阶段活动。
示例 3: 领先指标可包括车外系统的假设,如地图和定位、车对基础设施通信(V2D 、车对车通信(V2V) ,以及对其他
道路参与者的假设。
根据 D.1.1 给出的定义 ,驾驶策略的主要作用是监控驾驶自动化系统,将影响道路安全的危害行为
的风险降到最低。为此,可以根据下述几项基本原则 ,制定驾驶策略规范 ;
一一可衔量;
一一体现车辆动力学和基本物理原理
一一使用当前的技术，
一一体现交通规则;
一一区分危害场景的引发者与响应者(不惩罚规避行为);
一一奖励可预测性和预测能力。
为有效实现预期功能安全,也可使用驾驶策略来预测和缓解感知子系统 .执行子系统或车辆乘员人
机交互的功能不足。
-一设计运行范围(CODD)的感知:在规定的设计运行范围之外使用自动驾驶系统操控车辆,会增
加危害行为的风险。轰驶策略可根据感知系统(包括传感器组和外部基础设施,如地图)提供
的信息,避免自动驾驶功能在设计运行范围之外和运行。在该用途中 ,感知系统需要符合额外的
预期功能安全相关要求,即感知系统不会由于假阳性错误(车辆实际不在 ODD 范围内而感知
系统报告车辆在 ODD 范围内)而造成风险,因为这样的错误会在自动驾驶系统操控车辆超出
ODD 范围运行时导致伤害。
-一对于既可自动也可手动驾驶的系统,装备自动驾驶系统车辆的自动驾驶功能的启动和停止会
使车内人员(包括驾驶员)困惑。在这种情况下 ,可在驾驶策略中考虑自动驾驶系统操控车辆
的自动驾驶功能的启动和停止与人机交互的依赖关系。
-一感知系统的局限 :在恶劣天气条件下装备自动驾驶系统车辆的感知系统可能存在性能局限 ,或
在特定用例下 ,存在性能局限。在驾驶策略设计中,可针对这些局限和不足,采取对策(例
如,限制控制系统对执行器的权限 ,或将车辆安全地停下来) 。
分析关注领域可以支持整车层面预期功能安全策略和驾驶策略的设计。可根据与运行环境.乘员、
交通以及车载和车外系统的交互类型 ,对需要关注的领域进行分类 。
一一从装备自动驾驶系统车辆的运行环境得到的关注领域。在该驾驶策略设计中,可通过以下示
例性领先指标解决这类问题;

130

--- Page 141 ---
GB/T 43267一2023

e ODD;
e 给定 ODD 中的交通规则和公序良俗;
e 道路基础设施(如交通灯、`道路布局和交叉口类型) 。
一一从驾驶自动化系统与装备自动驾驶系统车辆的乘员(驾驶员或乘客)之间的交互得出的关注领
域。这些指标在驾驶策略设计示例中,可以通过以下示例性领先和滞后指标解决:
e 驾驶模式之间的切换,以及对驾驶策略范围之外的装备自动驾驶系统车辆子系统(如,人
机交互的行为的假设;
e 切换至并维持降级模式。
一一从自动驾驶系统操控车辆与交通场景中其他参与者之间的交互,以及与车载和车外系统的交
互得出的关注领域。在该驾驶策略设计中,可通过以下示例性滞后指标解决这类问题，
e 交通安全行驶所需的一套规则;
日”自动驾驶系统操控车辆在交互、预防或预测方面的不足或者局限(例如,感知系统传感器
探测范围局限或覆盖范围不足) 。
下文示例给出了如何利用关注领域分析来确保整车安全策略与驾驶策略设计的完整性。表 D.1一
表 D.6 分析了驾驶自动化系统的不同关注领域,以定义整车预期功能安全策略和驾驶策略要求,并描述
了在偏离这些要求时,自动驾驶系统操控车辆的预期行为。
注2: 表D.1一表 D.6 给出了驾驶策略规范定义和设计的示例。本文件使用了*应这样的表述,但表格中的“应”仅
表述示例要求 ,并不是要求符合本文件的规定。

D.1.2.2 自动驾驶系统操控车辆的运行环境引出的关注领域

通过设计、开发与确认驾驶策略来保证自动驾驶系统操控车辆仅在给定的设计运行范围中运行,而
设计运行范围有多个因素约束。车辆在设计运行范围之外运行时,危害行为的风险可能会增加。

设计运行范围可基于不同方面。示例包括:

一一地理限制:自动芍驶系统操控车辆只能在特定和有限区域(城市、国家等)不受监控地运行;

一一道路类型限制:自动驾驶系统操控车辆只能在特定一种(仅高速公路、仅城市道路等)或几种道

路上不受监控地运行
一一天气条件:自动驾驶系统操控车辆不允许在特定天气条件(大十,大雪等)下运行，
-一车速:自动驾驶系统操控车辆不允许超过特定速度运行。

表D.1 对ODD 的分析得出的考虑

考虑 ODD 之外的功能运行所引起的风险(包括驾驶员对设计运行范围的可能的误解或
缺乏了解)
整车预期功能安全策略 | 装备自动驾驶系统车辆应确保“自动驾驶"模式在 ODD 之外不被激活

自动驾驶系统操控                             为降低风险而提出的驾驶策略功能要求(R)或假设

车辆的考虑点      alta                   (A)

目的

R:驾驶策略应监控自动驾驶系统操控车辆,确保其在
指定区域内运行

由于自动驾驶系统操控车辆在
自动驾驶系统操控车辆在 | 其行为未经确认的区域运行,造 | R:在指定区域之外运行时,驾驶策略应监控自动驾驶
指定地理区域之外运行 | 成危害事件(例如:任何类型的 | 系统操控车辆,确保其切换到最小风险状态(MRC)
碰撞)

A:驾驶策略应接收外部独立子系统(如定位子系统)
发出的更新的位置信息


--- Page 142 ---
GB/T 43267一2023

自动驾驶系统操控车辆
行驶超过设计的车速

表D.1 对ODD 的分析得出的考虑 (续)

因任何潜在的局限(感知或执行
造成危害事件(例如:任何类型 | 在最大设计车速以内运行
的碰撞)》

自动驾驶系统操控
车辆的预期行为

驾驶策略应:

一一监控装备了自动驾驶系统的车辆是在 ODD 之内还是之外运行

一一如果装备了自动驾驶系统的车辆在 ODD 之外运行,执行以下任一策略:
一一禁止驾驶自动化功能激活(若尚未激活)，

一一要求驾驶员收回控制权(如果驾驶自动化功能预见到 ODD 超出);
一一关闭自动驾驶功能,并切换到安全状态(如果驾驶员不在控制环路之内)

目的

表 D.2 ”从其他道路使用者行为的假设得出的考虑

确保自动驾驶系统操控车辆采用防御性驾驶技术作为减少潜在碰撞的一种手段

整车预期功能安全策略

自动驾驶系统操控车辆符合相关驾驶规则 ,法律和公序良俗,除非违反其中的一项或多
项才能避免事故

自动驾驶系统操控车辆
的考虑点

为降低风险而提出的驾驶策略功能要求(R)或假设

潜在后果           an

其他道路使用者(自动驾
驶系统操控车辆除外)不
遵守交通信号灯

自动驾驶系统操控车辆在没有
路权的情况下占据了一个路 | R:驾驶策略应根据其他道路使用者的行为假设,监控
口 ,造成危害事件(例如:任何类 | 其他道路使用者是否有能力停车

型的碰撞)

自动驾驶系统操控车辆
无视交通场景中其他参
与者的路权

因任何潜在的局限(感知或执行
局限),自动驾驶系统操控车辆
造成危险事件(例如:任何类型
的碰撞)

R:驾驶策略应利用已定义的对其他道路使用者的合
理的最坏驾驶行为的假设来应对感知限制或者感知
元件被遗挡造成的问题

自动驾驶系统操控车辆
的预期行为

示例: 参考文献[43] 和
要性。

驾驶策略应，

-一执行防御性驾驶技术(同时避免太过于保守可能引发的事故)，
一一遵守当地的驾驶规则和公序良俗;

一一只有在避免事故时,才能违反当地的驾驶规则和惯例

[44]通过定义了*路权是被赋予的,不能争夺"的原则,总结了实施防御性驾驶技术的必

注: 驾驶策略规范可能不同(或需要不同配置),这取决于自动驾驶系统操控车辆的目标市场(地域区别)和当地行
为(例如,不同国家和地区对于十字路口的路权定义不同)。

132

--- Page 143 ---
GB/T 43267一2023

表 D.3 从道路基础设施得出的考虑

确保自动驾驶系统操控车辆能够在 ODD 中定义的所有道路条件下运行,而不违反预期

an         功能安全要求
整车预期功能安全策略
自动驾驶系统操控车辆应确保不在 ODD 之外激活驾驶自己
整车安全策略     自动驾驶系统操控车辆应确保不在 ODD 之外激活驾驶自动化功能
自动驾驶系统操控车辆              为降低风险而提出的驾驶策略功能要求(R)或假设
的考虑点                   (A)
在道路施工区域,自动驾 | 自动驾驶系统操控车辆失去车

R:驾驶策略应了解道路基础设施并监控自动驾驶系

迹,进入  车道，   团
道轨迹,进入相邻车道,导致危 统操控车辆的行为

别狭窄车道               PEE PE Cfo 0 AE EAD
自动驾驶系统操控车辆 | 驾驶策略应实施防御性驾驶技术或监控自动驾驶系统操控车辆,确保切换到降级运
的预期行为          行模式

D.1.2.3 由自动驾驶系统操控的车辆过渡到降级运行模式所引出的关注领域

设计鸭驶策略可以根据自动驾驶系统操控车辆的状态,允许多种降级运行模式。用户和自动驾驶
系统操控车辆之间的交互会影响驾驶策略监控驾驶任务完成情况的方式。

表 D.4 从预测 ,预防或减轻自动驾驶系统操控车辆性能局限的需要得出的考虑

目的

预测 、预防或减轻驾驶自动化系统基础设施的已知限制(例如感知或执行子系统)

驾驶自动化系统应确保自动驾驶系统操控车辆不在 ODD 之外激活

自动驾驶系统操控车辆的考

潜在后果

为降低风险而提出的驾驶策略功能要求(R)或
假设(A)

恶劣天气条件下,自动驾驶系统

R:驾驶策略应监控自动驾驶系统操控车辆,确

在恶劣的天气条件下,自动驾驶 | 操控车辆无法处理感知和执行 | 保根据天气条件调整性能。
系统操控车辆性能的会下降  子系统的降级,导致危害事件 | A:驾驶策略能收到外部(驾驶策略外部)子系
(例如:任何类型的碰撞)    统发出的当前天气情况信息
在特定类型的道路上(例如,低      ，  _      _
在特定类型的道路上或特定道 | 附着力的砂石路面),自动驾驶 和 EIS
路条件下,自动驾驶系统操控车 | 系统操控车辆无法处理子系统 人 王
辆的性能会下降      降级,导致危害事件(例如,任何 | 统发出的当前短路闫型信息

有路挡区域的路口时速度过快
(遮挡区域是指感知子系统视野
被建筑物或其他基础设施遗
挡,无法提供可靠感知的区域)

在接近遮挡区域时,自动驾驶系
统操控车辆无法及时感知到其
他道路使用者,造成危害事件
《例如:任何类型的碰撞》

R:在因基础设施或道路设计造成遗挡时,驾驶
策略应监控自动驾驶系统操控车辆,确保减速
(以示说慎) 。

A:驾驶策略能收到外部子系统发出的感知系
统视野受阻信息

133

--- Page 144 ---
GB/T 43267一2023

表 D.4 从预测,预防或减轻自动驾驶系统操控车辆性能局限的需要得出的考虑 (续)

自动驾驶系统操控车辆的预期

行为

驾驶策略应监控自动驾驶系统操控车辆的基础设施的状态:
一一在接近遮挡区域时 ,驾驶策略应调整自动驾驶系统操控车辆的行为;
一一在可能妨碍车辆行驶能力的恶劣天气条件下 ,驾驶策略应调整自动驾驶系统

操控车辆的行为，

一一在执行子系统降级,可能妨碍车辆行驶能力的情况下,驾驶策略应调整自动

驾驶系统操控车辆的行为，

一一在低附着力路面行驶时,驾驶策略应调整自动驾驶系统操控车辆的行为

示例: 参考文献L[43]和[44]表明 ,在传感器感知因基础设施.道路设计和/或动态物体(如车辆,行人\自行车)被遗
挡时,需要谨慎行驶。在接近路口时,如果感知系统探测其他道路使用者的能力受到其他建筑物或道路布局的影响,可
能需要自动驾驶系统操控车辆降速 ,才能保持谨慎行驶。

RDS ”从需要管理运行模式切换得到的考虑

确保运行模式切换不会影响预期功能安全。需要考虑以下情况
-一驾驶员对启动/停用步骤的认识或理解不足;

一一驾驶员对当前模式的误解

一一驾驶员在给定时间内已恢复充分的态势感知能力,以及控制当前运行状况的

能力

整车预期功能安全策略

驾驶自动化系统应防止对驾驶自动化系统功能的可预见误用,并向驾驶员通报以

下信息:
-一预期系统行为及限制;

一一对驾驶员的期望以及驾驶员取回车辆控制权的预期程序

自动驾驶系统操控车辆的考

信息不一致时,自动驾驶系统操
控车辆切换到降级运行模式(指
在某些条件下驾驶员可以成为
控制环路的一部分的驾驶自动
化等级)

潜在后果

驾驶员无法收回车辆控制权,自
动驾驶系统操控车辆可能导致
危害事件(例如:任何类型的碰
撞)

为降低风险而提出的驾驶策略功能要求(R)或
假设(A)

R:驾驶策略应监控车辆控制权从自动驾驶系
统操控车辆向驾驶员转移的过程。

A:如果驾驶员在设计运行范围结束前未能收
回控制权 ,驾驶策略应确保自动驾驶系统操控
车辆进入安全状态

需要驾驶员接管时,自动驾驶系
的局限(例如,接近设计运行范
围边界时)

驾驶员没有充足的时间收回车
辆可能导致危害事件(例如:任
何类型的碰撞)

R:驾驶策略应充分通知驾驶员 ,要求驾驶员收
回车辆控制权。

A:如果驾驶员在 ODD 结束前未能取回控制
人安全状态

自动驾驶系统操控车辆的预期
行为

驾驶策略应通知驾驶员,需要取回车辆控制权。如果驾驶员未能取回车辆控制

权,驾驶策略应:

一一监控自动驾驶系统操控车辆,确保切换到安全状态(MRC):

一一禁用驾驶自动化系统

134

--- Page 145 ---
GB/T 43267一2023

注: 这组考虑点针对的是,在某些条件下 ,驾驶员可以成为控制环路的一部分的驾驶自动化等级。
D.1.2.4 自动驾驶系统操控车辆与其他交通参与者之间的交互引出的关注领域

通过多种技术手段实现自动驾驶系统操控车辆监控其他道路使用者,并据此调整自身的行为。
RAND'5对这些技术进行了分类,并指出对自动驾驶系统操控车辆周围的“安全包络”进行监控,是实
现更高的驾驶自动化等级的最有效技术。对于其他等级的驾驶自动化系统,也可推荐其他方法。
“安全包络"是一个通用概念,可用来制定驾驶策略可以遵循的所有原则。 根据这一概念,自动驾驶
系统操控车辆在自车周围可以有一个或者多个边界。在某些场景下 ,违反其中一个或多个边界时,自动
驾驶系统操控车辆会作出不同响应。例如,驾驶策略适应这些场景,并通过实施适当响应来保持预期功
能安全。
由于适当响应的“整车性质,D.1.2.4 假设:
一一自动驾驶系统操控车辆不能控制交通场景中任何其他参与者的行为,因此其适当响应可定义
为,自动驾驶系统操控车辆不会导致危害场景,并引发事故;
一一实现自动驾驶系统操控车辆的预期功能安全仅与交通场景中的其他参与者(道路使用者)有
关,如图 D.2 所示。因此,可针对交通场景中的任何道路使用者,定义自动驾驶系统操控车辆
的适当响应。这些因素都会限制自动驾驶系统操控车辆的动态行为(横向或纵向加速度 .滚动
和悬垂) 。

 D2 自车与其他道路使用者的相对位置的定义

表 D.6 ”从安全行驶的规则所引出的考虑

考虑以下因素,确保自动驾驶系统操控车辆在 ODD 内运行,同时不会造成事故:

一一其他道路使用者引起的风险，

-一自动驾驶系统操控车辆为确保其他道路使用者充分的可控性水平进行操控
而引起的风险，

一一其他道路使用者未按照可合理预见的假设采取行动而引起的风险;

-一自车执行器性能引起的风险

目的


--- Page 146 ---
GB/T 43267一2023

表 D.6 ”从安全行驶的规则所引出的考虑 (续)

整车预期功能安全策略

对周围道路使用者而言,自动驾驶系统操控车辆的行为尽可能可预测(例
如,不得随意变道,在接近并道时的行为可预见等) 。
由自动驾驶系统操控车辆应根据以下规则管理风险，

-一尽可能合理地对其他交通参与者造成的风险保持鲁棒性;

-一在能见度有限的地区保持谨慎;

一一在遇到不明物体或其他交通参与者的意外行为时,保持谨慎，

-一注意其他车辆(与前车保持安全距离 ,不得鲁莽超车);

一一遵守适用的交通规则/法律 ,除非违反交通规则/法律才能避免事故;
一一实现类人驾驶,驾驶策略既不过于激进,也不过于保守。

应遵守这些规则

一一无论车辆在哪里行驶(如乡村、公路);

一一无论车辆在何时和

驶(例如,尽管有动态车道分配、.与时间有关的规则.引入
新类型的交通标志,新规则等)

自动驾驶系统操控车辆的考

潜在后果

为降低风险而提出的驾驶策略功能要求(R?或
假设(A)

自动驾驶系统操控车辆离前车
太近/太紧

自动区驶系统操控车辆不遵守
跟车距离,将导致危害事件(例
如:追尾碰撞

R:驾驶策略应监控自动驾驶系统操控车辆,确
保与前车保持避免于撞所需的最小距离

未考虑其他车辆

自动驾驶系统操控车辆未能与
其他道路使用者保持横向距
离 ,导致危害事件(例如:侧擦碰
撞)

R:驾驶策略应监控自动驾驶系统操控车辆,确
保始终与任何道路使用者保持避免碰撞所需
的最小横向距离

自动驾驶系统操控车辆在雪天
行驶过快.未考虑执行器在湿滑
路面上的性能

自动驾驶系统操控车辆未减速
且未谨慎驾驶,导致危害事件
(例如 :与物体/行人相撞)

R:驾驶策略应监控自动驾驶系统操控车辆的
执行指令与给定的环境条件相匹配

自动驾驶系统操控车辆在无信
号灯路口左转过于保守

自动驾驶系统操控车辆被后车
追尾

R:驾驶策略应监控自动坡驶系统操控车辆,吉
免驾驶策略过于保守

自动驾驶系统操控车辆在无信
号灯路口左转过于激进

自动驾驶系统操控车辆与直行
车辆发生碰撞

R:驾驶控制策略应监控自动驾驶系统操控车
辆,与直行车辆保持必要的安全时间间隔

自动驾驶系统操控车辆的预期
行为

驾驶策略应监控自动驾驶系统操控车辆,并根据其他道路使用者的行为,调整自

车行为

示例: 参考文献L43]和[44]解决了图 D.3 中所示驾驶情况,其中自车 cj以正接近车速跟随车 2 Coy HE 搓快)。在该
场景中,如果在某个时间点 如,两车之间的距离正好是两车无法在给定响应时间避免碰撞的距离,则认为车 c 和 在时
间点 4有危险。ei将对追尾碰撞负责。

136

--- Page 147 ---
GB/T 43267一2023

 D3 危害场景在正确实施响应前后的示例

ci的驾驶策略通过确保在任意时间点 tu两车的纵向距离足够大,使得 c 有足够的制动距离来避免
与c的后撞。这涉及自动驾驶系统操控车辆利用其制动和加速装置调节 c 与 c: 的相对距离,以保持最
小距离 Cn 。
注: 交通统计被视为一种合适的方法,这种方法根据驾驶自动化的目标等级.ODD 和市场,识别自动驾驶系统操控
车辆与其他参与者之间最常见和最严重的碰撞模式。这些模式代表自动驾驶系统操控车辆在现场可能面临的
最严重的危险情况,并用于制定监控自车行为的驾驶策略规则。

D.1.3 整车层面预期功能安全策略和驾驶策略的验证和确认

驾驶策略是在目标 ODD 的上下文中设计的,用以实现 VLSS 的决策逻辑(D.1.2)。然而若驾驶策
略不能充分反映现实生活中的情况,则它可能成为功能不足的潜在来源。验证和确认活动(第 9 章一第
11 章)可以通过组合场景结合相关参数等来揭示驾驶策略的弱点。然后可通过进一步的 SOTIF 流程
迭代(图7 和图 8)解决已识别的弱点 ,包括进一步分析(第 6 和7 章)和修改驾驶策略(第 8 章) 。

通过定义衡量自动驾驶系统有效性的指标,驾驶策略还可作为定义第 9 章中已选验证和确认方法
的判定标准的法则 。

例如自动驾驶系统操控车辆性能可通过监控如下违背驾驶策略的指标来衡量:

-一驾驶策略未能监控自动驾驶系统操控车辆行为的次数，

-一驾驶策略无法检测到危险情况的次数;

一一自动驾驶系统操控车辆造成的事故数量。

D.1.4 驾驶策略现场运行

在运行过程中,可对驾驶策略的有效性进行评估。此活动可以通过比较系统使用情况(13.3) 和观
察到的驾驶策略有效性的统计信息来完成。

D.2 ”对机器学习的建议

D.2.1 概述

自动驾驶技术经常涉及一些类型的机器学习算法,特别是对于物体探测和分类。机器学习算法主
要用于不可能完整描述问题的情况(例如,不可能通过数据完整地表征所有类型的行人,使得其总能被
算法识别出来)。机器学习算法可以用来克服这一问题。机器学习算法通过提取数据中存在的相关性
来学习,将输入映射到输出。因此与人类不同的是,机器学习算法不会学习上下文语义。虽然机器学习
算法通常比非学习算法表现更好,但通常难以理解算法的预测过程。因此许多机器学习算法的局限是
与直觉相悖的,也无法被规范定义。

为了最大限度地减少由于错误预测而导致的残余风险,一些方法可以用来减轻导致性能局限的机
器学习组件的局限性(例如,物体识别率低于 100%% ,非预期的偏差)。机器学习的训练,包括所使用的
数据,有可能引入安全风险从而导致性能局限。例如,训练和验证数据可能引入源于数据偏差的特性离
散和相关。而这些特征分布和相关,就系统的预期功能而言,可能是不恰当的甚至是不正确的。由于重
棒且准确的机器学习组件对车辆的安全运行至关重要,需要开发学习系统和相应的数据收集流程以组

137


--- Page 148 ---
GB/T 43267一2023

解机器学习组件的局限。
D.2.2 GB/T 34590(所有部分)与预期功能安全对机器学习的建议

D.2.2 阐述和比较了 GB/T 34590(所有部分)与 SOTIF 在机器学习安全方面的职责。

a) 离线训练中使用的工具部分需要符合 GB/T 34590.8一2022 第 11 章以及 D.2.4 离线训

注 1: 硬件和软件开发所包含的工具(例如离线服务器场和训练软件)作为工具鉴定的一部分进行评估。

b) 对于在车辆中实现机器学习的硬件(例如 GPU) ,考虑以下两方面:

1) 随机硬件故障和硬件系统故障由 GB/T 34590.5 覆盖，
2) 硬件的性能局限可以既是 SOTIF 问题也是 GB/T 34590(所有部分)的系统问题。

c) 对于实现机器学习算法的软件,考虑以下几个方面。

1) 机器学习软件通过对输入进行特定的运算(例如矩阵乘法 .离散卷积.非线性函数)生成输
出。因此,它本身与其他非学习算法没有什么不同,并且可以通过常规手段进行验证。特
定运算的实现可以根据 GB/T 34590.6 进行验证。

: 在机器学习运算中需要特别关注浮点运算库,及其在训练设备和嵌入式目标环境的区别。

2) 机器学习软件的功能(如物体检测)是 SOTIF 关注的另一方面。模型以及训练(数据驱动
过程)获得的权重可能造成模型预测的不确定性,这种不确定性构成了本文件需要解决的
功能不足。识别和缓解机器学习的局限(例如,由于内置偏差或不完整的训练集、错误的
标注 .数据缺失.过于关注罕见事件)是 SOTIF 过程中减少区域 2 和区域 3 的部分(根据
图5 和图 6 所示) ,同时也被 SOTIF 验证和确认 。

3) 机器学习算法训练的权重可以被视为应用软件标定或配置数据,并可通过 GB/T 34590.6
2022 附录 C 中的适当要求来解决。

注 2: 虽然机器学习的权重是数值,但它们可能对预期功能有定性的影响。GB/VT 34590(所有部分)中的标定数据
用于调整已知模型的行为,而模型的权重却用于定义模型本身。因此,更改权重需要对系统进行影响分析和
重新确认。

注3: 引入运行监视器,用于检查机器学习组件开发中假设条件,同时适用于 GB/T 34590(所有部分)和 SOTIF。监
视器的检测结果可用于识别随机硬件故障和系统性硬件故障,系统性软件故障[GB/T 34590(所有部分让以
及系统局限(SOTIF) ,并最终进入安全状态。

D.2.3 ”预期功能在应用机器学习时实现安全

当应用机器学习技术实现安全相关系统时,定义相关功能十分重要。这意味着,由于很难在恰当的
用例和场景下提供充分的安全论证,因而如果没有定义预期的功能,应用机器学习技术的功能会被视为
是不安全的。例如,对于深度学习方法,由于固有的非线性和缺乏对这类算法的形式化确认,在离散的
用例和场景下的好的表现通常不足以证明它的安全性。对于这类算法,需要补充额外的确认步骤来支
持安全论据。

复杂机器学习算法的行为很大程度上取决于训练集 .机器学习模型架构和训练过程(训练算法 ,批
处理大小,权重初始化,损失函数等) ,这些都体现了通过分析难以理解的规范。因此,重要的是通过执
行本文件中推荐的适当测试(第 9 章一第 11 章)并对机器学习局限性进行分析(第 7 章)来评估分配到
机器学习算法的功能的安全性。

采用机器学习的要素可以检测影响其性能的条件(如在不利天气条件下传感器检测到物体的低置
信和度)。根据指导 4.4,需要将这些已知条件和要素输出导致的结果共享给上层系统的开发人员。

尽管已知的残余场景包含触发条件(如导致假阳性或假阴性),且这些触发条件在已标注的训练、验
证、测试数据集中,使用机器学习的要素的离线训练过程还是可能会接受训练的参数。 这些识别到的触
发条件 .对其风险评估和减轻 SOTIF 相关风险的潜在措施与上层系统的开发人员共享,以便他们可以

138

q
=


--- Page 149 ---
GB/T 43267一2023

采取适当的行为。这些行为可以在系统层面进行,例如,机器学习要素的性能局限由处理链路中的后续
组件解决。或者识别的触发条件可用于改进机器学习要素层面的训练过程。

将本文件应用于基于机器学习的要素时,可考虑以下几点。

一一功能和系统设计(第 5 章和第 8 章) 。

© 用例的规范,包括相关的 ODD,在 SOTIF 中具有重要作用,对于收集和创建用于训练、.验

证和测试的数据集也很重要。不太可能完全定义 ODD 的所有方面或所有情况下的机器
学习的相关因素。训练集的质量对学习如何在已知非危险情况下正常运行至关重要(区
bk 1),
© 充分的测试数据集增加了基于机器学习组件的安全置信和度(区域 2 和区域 3)。系统设计

(或架构设计)同时也需要明确阐述分配给基于机器学习算法的功能。

BE 1: 机器学习主要有两种不确定度 :认知不确定度和随机不确定度" 0 。当认知不足时,通常可以通过引入更
多数据来减少认知不确定度。而随机不确定度与数据噪声的固有不确定性有关,因此不能随着更多数据而进

示例 1: 一个物体检测子系统由基于机器学习的图像识别和后处理机制所组成。在这个概念中,机器学习算法的误
分类不被视为故障,而是被视为性能相关事件 ,因为后处理机制通常能够从图像序列中过滤它,只有剩余的误分类率才
有潜在的安全影响。
一一分析(第 6 章和第 7 章) 。
@ 通过分析可以识别出测试用例和场景集,它们可验证基于机器学习的组件的功能。
-一V&V 策略(第 9 BE),
ee 识别用于测试的组件边界很重要。边界选择不仅会影响测试的准确性和完整性,而且会
影响测试预言(例如仿真、测试数据和真值)的可用性和适用性。
e 测试可在三个抽象层面上进行:
1) 在基于机器学习的算法层面进行独立测试,可有效地找到机器学习组件典型的未知
性能局限(例如可视化)
2) 在组件层面,根据功能和需要测试的内容进行测试,是评估包含其他相关组件算法行
为的更好方法(例如,在物体检测中的后处理过滤器)，
3) 在整车层面,测试整车层面的危害行为。
与单独测试每个组件相比 ,测试完整的处理链可能需要更多的测试实例和测试时间 。
示例 2: 假设三个要素组成的处理链,且期望这三个要素一起实现 0.1久的假阴性。 在采用适当的测试步骤情况
下 ,相比测试每个组件(预期的 10交假阴性) ,对处理链需要更多的测试。
一一评估(第 10 章和第 11 章) 。
ee基于机器学习的预期功能安全是通过评估,特别是通过测试(第 10 章和第 11 章)保证的。
因此,确保这些评估方法的结果能够反映现实中的行为非常重要 。
ee 一旦为了改进功能对机器学习组件进行了进一步训练(第 8 章,如增加目标检测的类
别) ,就需要重新测试该组件。重新测试是因为很难甚至不可能理解变化对内部算法行为
的影响。因此以前的测试结果通常不再有效,并且不被再次使用。
注2: 对已发布的算法或参数的任何更新实施变更管理。如果重新学习,无论是在线还是离线,开发都回到 SOTIF
过程的相关阶段。
一一运行阶段(第 13 章) 。
根据第 13 章,功能在现场运行中受到监控。需要分析观察到的新风险以识别功能不足,包括
使用机器学习组件的功能不足。如果基于分析的结果改进了机器学习组件,需要开展整个预
期功能安全活动(从第 5 章到第 12 章) ,包括数据采集过程。

D.2.4 对机器学习算法离线训练部分的建议

机器学习通常涉及离线训练过程,其目的是确定机器学习算法的参数。离线机器学习训练可能涉
139


--- Page 150 ---
GB/T 43267一2023

及多个步骤和工具。由于内置偏差,不完整训练集或对模型的验证不足使得这些步又和使用的工具会
出现问题。

机器学习开发过程中的常见问题包括:
不完整的训练集或对训练参数的验证不足;

一一预测时与直觉相悖的原因(例如,对抗攻击);

-一训练数据选择会影响机器学习的性能(例如训练数据中的偏差会导致错误的学习映射关系);

一一学习过程不能人为控制(例如错误的学习映射关系)，

一一测试数据的选择决定了现场性能估计的准确性(例如不当地划分测试数据会导致过估计/欠估

ih).

由于机器学习算法反直觉的性质,对于复杂的任务 ,特别是自动驾驶对于开放环境的识别无法实现
100%%的性能要求(即总会有算法输出错误预测的情况)。正确的训练能够减少错误结果的数量,但永远
不会完全消除错误结果。SOTIF 活动的任务之一是确保这些性能局限不会导致不合理的风险。

图 D.4 显示了一个训练过程。

标注和
其他数据处理

图D.4 离线机器学习开发流程示例

图 D.4 是从准备数据集开始的。数据集代表 ODD 中场景快照/场景,应承认它是现实世界的一个
有限近似。通过应用重要性抽样技术,经过训练的机器学习模型可以在罕见用例中表现得很好。数据
集可以包含一些额外的考虑因素,比如产品生命周期的变化(如传感器老化)。数据可从多个来源收
集,例如,封闭道路上的测试,仿真.道路数据收集和标准基准数据集。

为了更好地模拟自动驾驶系统所处的现实世界,数据可能包括不同相关条件/因素的多种变化和组
合。 仿真和专项测试(例如设计并执行在封闭道路上的测试?可用于补充现场数据采集中很少自然发生
的情况,并增加变化的多样性。当合成数据经过验证与现实世界数据相符后,可以用于扩充数据集。

然后,在用于机器学习训练.机器学习验证或机器学习模型测试之前,对数据进行预处理。预处理
阶段可以根据类别(例如道路边界,汽车,摩托车、应急车辆) ,特征(例如颜色轮廓)或响应(例如要求的
控制行为)对数据进行标记(注释)。数据标注可使用经过培训的人员或通过自动化流程执行。通常 ,手

140


--- Page 151 ---
GB/T 43267一2023

动执行过程包括对标注的检查。要特别注意的是数据的标注过程,以确保标签类别的正确性和机器学
习过程中足够的边界精度。根据机器学习用例和数据集的类型,预处理阶段可能还涉及一些其他过
程,例如过滤 .数据增广和降维。预处理的数据通常使用数据清理技术(例如,删除重复或不相关的观察
值等)进行增强。

下一步,数据被(充分地)分成独立的数据集包括训练验证、测试,这些数据集用于不同的目的。为
避免数据集之间的信息泄露,尤其是训练和测试数据集之问的信息泄露 ,通过测试数据评估机器学习模
型的可靠性非常重要。训练集和验证集用于机器学习模型的训练过程。机器学习训练过程是一个超参
数调优的循环过程,包括训练和验证。为了训练一个机器学习模型 ,训练数据会连续输入给模型,同时
根据输出误差的梯度调整模型参数(例如神经网络权重) 。训练继续进行,直到达到预定的通过/失败标
准,例如在物体检测或分类时的可接受的假阳性率和假阴性率。其他任务可能需要其他特定标准。

一旦完成机器学习模型的训练,就可以使用验证集根据通过/失败准则对其进行评估。如果结果不
令人满意,将优化机器学习模型的超参数,并重复训练过程。完成机器学习训练后,作为 V&V 活动的
一部分(第 10 章和第 11 章),可通过测试数据集依据测试通过/失败准则对已训练的系统进行评估 。

训练.验证和测试数据集的独立性可用于确保机器学习系统已学习到训练数据的基本特征,而不是
其固有的巧合相关-9 。

例如 ,我们获得了两个测试集，

a) 利用从训练-验证-测试划分方法中得到的测试数据进行测试,有助于理解机器学习组件的

泛化;

b) 使用单独收集的数据集进行测试可以确保机器学习不会学习到巧合相关。

为了准确估算机器学习实际性能和探索未知的危害场景,测试数据仅用于整个流程中的测试验证
部分,不能用于训练机器学习组件。理想情况下,可以用大的测试集来发现过拟合。这可以作为第 10
章和第 11 章中整车层面 V&V 活动的一部分。

一旦满足作为规范定义和设计的一部分记录的测试通过/失败标准,则接受训练过的参数。如果验
证失败,可以在收集更多数据和/或修改训练模型后重新启动该过程。一旦模型被接受,如果在进一步
测试中观察到模型的不当行为或性能局限,则可作为新信息被考虑,并重复整个过程。该循环与图 11
中 SOTIF 开发流程一致 。

对于指定的 ODD,标记过的数据集对场景的高覆盖率是训练鲁棒性的关键参数。在开发阶段 SO-
TIF 迭代过程中和运行阶段发现的新场景可以导致训练.验证和测试数据集的更新。

通过分析机器学习软件的可解释性,可以提高其可信度"2 。可解释性分析可以证明机器学习
的决策(例如分类)是基于相关数据而非人为5 。可解释性分析可以是机器学习确认和/或测试验证期
间的通过/失败准则的一部分(图 D.4) 。

D.2.5 机器学习算法的离线训练过程分析

通过分析可以发现许多训练局限问题,包括验证和确认活动。图 D.5 描述了训练过程中分析问题
的一般流程。

ADS 机器学习算法离线训练过程的分析步骤
该分析方法可以用于分析所有的过程,例如:

-一数据收集路线策划;

141

--- Page 152 ---
GB/T 43267一2023

-一数据收集;
一一数据上传和接收，
一一数据标记和评审，
一一数据整理和检索，

-一元数据标记和评审，

-一训练.验证和确认测试数据集的创建;
一一机器学习训练;
一一机器学习验证;

-一机器学习配置管理，

-一机器学习部署及集成到软件。
对于指定的任务和 ODD 数据收集旨在提供多样性和完整性 :

-一车辆和驾驶员，
一一路线和驾驶条件;
结构化数据收集(例如,使用基于轨迹场景的数据收集) 。
注: 一个类似 FMEA(失效模式和影响分析)的分析可用于分析和消除离线训练过程中可能存在的偏差和局限。
分析结果不仅可用于改进训练过程(D.2.5) ,还可对系统开发产生影响,包括:

一一规范定义和设计(第 5 章) :通过识别潜在的系统性问题(第 7 章`A.2.8)和之后的改进活动(图

1D;
-一软件工具使用的信心(A.2.9) 。

D.3 地图预期功能安全的考虑
D.3.1 地图预期功能安全考虑简介

地图用于支持或实现 ADAS 及自动驾驶所需的功能,例如定位.路径跟踪、物体的车道分配和地标
识别(如交叉路口和车道合流)。此外,地图还可与感知传感器融合,以增加感知系统的置信和度和/或增
强探测故障的能力。D.3 详细说明了使用地图支持或实施安全相关功能时需考虑的地图使用的一些
方面。

D.3.2 ”地图的规范定义和设计

地图属性作为规范定义和设计的一部分进行说明(见第 5 章)。设计考虑因素可包括以下内容。
一一车辆功能:
e 地图的使用
© 对地图的依赖性。
一一在使用地图的情况下 ,整车层面的行为或功能，
ee 地图不可用(例如,当与地图服务器的连接丢失时或车辆嵌入式设备上的地图丢失时)，
e 地图不准确或过时，
e 自动驾驶系统操控车辆感知系统与地图发生冲突的解决。
-一定义地图特征:
地图系统要求;
数据要求;
正确性要求;
精度级别(即高精度地图还是普通精度级别的地图);
信息流描述;

RRR AB

地
地
地

于

地

142

--- Page 153 ---
GB/T 43267一2023

地图中记录物体的位置精度要求;
地图的有效区域;
保证和维持地图正确性的机制(即保证一定水平的地图质量) 。
一一地图更新的技术手段，

e 地图更新机制;

ee 地图更新频率;

e 云端和车载地图的存储及地图更新的解决方案。
一一已知的地图局限:

e 数据采集的局限;

e 数据处理的局限;

ee 地图融合的局限(包括地图更新,多地图融合.多驱动融合) 。
注: 随着地图的使用年限增加 ,数据的确定性会降低 。

D.3.3 ”地图对预期功能安全的影响

由于临时(例如临时车道关闭)或者永久(例如新路标)的环境变化导致地图不准确或过时,就是与
SOTIF 相关的地图问题示例。

其目的是确保地图系统的不足不会影响 SOTIF。规范定义和设计可指导如何通过各种方法处理
地图的局限,例如:

-一限制无地图区域的功能，

-一限制地图精度较低的区域的功能，

-一更新地图或偏差 。

SOTIF 要求可指定地图更新的频率。虽然可通过地图和自车感知系统结果之间的比较来检查地
图是否过时 ,但是仍然有可能由于感知系统的局限导致感知的结果与地图不匹配 ,仅任感知可能无法保
证检测到所有地图不足。

虽然地图不能始终提供实时道路状况,如因事故.施工和天气(如洪水)造成的车道封闭,但预期功
能安全要求可以规定,基于安全分析,地图提供的永久道路基础设施标识需在一定精度公差范围内。系
统可以通过实时监控一些指标来预测地图更新的需求( “过时地图”问题)。此外,规范定义和设计旨在
记录地图系统的所有已知局限;在开发任何使用地图及其服务的功能时,都需考虑应对这些局限的
措施。

注 1: 由于系统失效导致地图损坏的相关问题被 GB/T 34590(所有部分)涵盖,不在 SOTIF 的范围内。损坏示例包

括内存损坏、.地图访问错误和地图下载错误等。
注 2: 在构建地图的过程中,可能会产生系统性错误或功能不足。可能通过分析或审核流程来发现这些问题。

D.4 预期功能安全对 V2X 的考虑
D.4.1 预期功能安全对 V2X 的考虑的简介

V2X 是一种允许车辆与其他车辆 .道路基础设施.道路行人和云平台进行通信的机制。V2X 可用
于加强道路安全、提高效率和减少污染唔5 。V2X 可以用来满足不同车辆的互联需求,比如远程维
护、交通运输管理以及车内信息娱乐等领域的应用。

V2X 有能力告知自车其周边环境情况 ,尤其在恶劣天气环境和复杂交通场景下5 。例如,车辆很
容易通过 V2X 得到交通灯的状态,转换相位和具体计时信息等。V2X 能够为自动驾驶车辆提供一些
额外信息,比如天气状况 .道路交通事故 .道路施工及道路使用者。

许多先进的应用或者用例依赖于 V2X 通信,例如:车辆编队行驶、远程驾驶后 。在这些用例下,一
些车辆依赖 V2X 消息进行控制。需考虑 V2X 的预期功能安全(SOTIF)问题。

143

--- Page 154 ---
GB/T 43267一2023

可在扩展的整车层面上分析应用 V2X 的系统的预期功能安全,包括车外要素(信息源和通信资
源)。在这种情况下,V2X 系统被视为系统的一个复杂传感器(示例见图 D.6) 。

T
V2X RSE: RARE

 D6 ”作为扩展车辆一部分的 V2X 系统的示例

WR V2X 被用作安全关键功能的一部分，D.4 详细介绍了 V2X 使用需考虑的几个方面。
D.4.2 V2X 通信的规范定义和设计

在规范定义和设计(见第 5 章)中,定义了 V2X 通信的属性。
例如考虑如下方面。
一一V2X 系统要求，
© HERP BER
ee可靠性要求;
e 互操作性要求。
© V2X 消息中包含的物体或事件的准确率要求 :数据被认为正确或真实的程度(包括位置和
时间精度)，
V2X 消息中包含的物体或事件的完整性要求 :确保数据元素没有损坏;
精确度要求 :平均值的标准差，
分辩率要求 :两个相邻值的最小差值
可追溯性要求 :跟踪质量满足情况的能力;
一致性要求 :符合互操作性标准,以及基本通信要求.基本系统要求、防护要求 .安全要求、
信任和保证等级要求。
一一V2X 消息在整车层面的功能应用。
-一已知 V2X 的局限(例如,超出道路设施的覆盖范围,其他设备的干扰) 。

D.4.3 V2X 的预期功能安全实施

V2X 的预期功能安全(SOTIF )主要关注由于 V2X 性能局限而导致 V2X 消息不正确的问题,例如
数据的不准确或过时。可通过 V2X 消息和自车感知的校验来检测问题,以判断 V2X 消息的实时性和
准确性。

不同应用中使用的不同类型的 V2X 消息。这些不同类型的 V2X 消息可能会有对延迟/可靠性/更
新频率等有不同的要求。

V2X 的类型可以根据信息内容变更频率来分类 :

一一更新内容很少的静态 V2X 消息(例如交通标志每周更新);

-一在数小时内更新的半动态信息(例如事故,天气状况);
144


--- Page 155 ---
GB/T 43267一2023

-一实时更新的动态信息(例如交通信号灯状态.车辆编队中车辆的动态行为) 。
因此,系统规范可规定不同类型 V2X 消息的延迟.可靠性和/或更新频率要求 ,以满足功能/系统安
全分析规定的公差。

D.5 感知系统性能目标量化与常见传感器性能局限举例

感知系统通常由一系列传感器构成。充分考虑不同类型传感器的性能局限 ,定义合理的感知系统性能
目标对于保障驾驶自动化系统安全很有必要。
感知系统性能目标量化可考虑以下基本要求:
一一感知系统具备与系统 ODD 下最大运行速度相匹配的感知范围(包含距离)，
-一感知系统具备合适的视野范围;
一一对于 ODD 内可合理预见的物体,尤其是关键物体(例如,行人`\车辆两轮车,摩托车等常见交
通参与者) ,感知系统能进行识别和区分
-一当感知系统对物体识别的置信度下降时(例如,受天气等影响或不同类型传感器输入冲突) ,具
备整车层面的SOTIE 安全策略(例如,请求接管、降速、降级等);
一一在开放道路上,感知系统(可包括地图)具备识别交通标识.标线和信号的能力,以遵守交
通规则 。
驾驶自动化系统常见的传感器类型包括视觉传感器、毫米波雷达、激光和雷达、超声波传感器等。其
中视觉传感器也可用于对车内驾驶员状态进行监控。其中不同类型传感器的典型性能局限(非详尽)见
表 D.7。

表 D.7 ”不同类型传感器性能局限举例

传感器类型                                     功能局限

容易受到光照条件影响(暗光眩光等);
位置估计或者深度估计可能不准确;
目标检测和分割可能不准确(例如,AI算法)

容易受到多径效应(例如在隧道中)或路面金属(例如,易拉缸,交通标识牌)影响;
角度分辩率低;

对某些波形,可能无法区分在相同距离上的多个物体的速度，

毫米波雷达      垂直向无分辩率或分辩率低，

速度只能在径向上直接观察到，

对静止物体物检测能力弱

$y ZV ED SE IRA RM KE GY
扫描样式密度不足或者覆盖不足

道路上的轮胎等黑暗物体返回的强度信号低;
容易受到其他激光雷达脉冲的干扰

容易受到气流、空气湿度.温度影响;

超声波传感器     垂直方向分辩率低，

角分辨率低 .精度低且非常有限感知范围


--- Page 156 ---
GB/T 43267一2023

D.6 OTA 更新的预期功能安全考虑

由于验证和确认过程几乎不可能遍历所有场景,另外,运行环境也在不断发生变化。因此在运行阶
段可能会识别到新的触发条件和功能不足。如果这些触发条件和功能不足导致的风险不可接受,则需
要快速响应从而消除或减少这些风险。例如,可通过更新地图数据,更新机器学习算法和 ODD 的变更
等措施来应对。这些都依赖于空中更新(OTA)技术,OTA 提供了一种灵活 .方便的方式来快速的修正
新识别功能不足。但是需要关注的是,在 OTA 过程中,需要合适的更新策略和流程,否则可能会引入
额外的风险。
OTA 更新需要在第 5 章规范定义和设计章节进行必要定义,包括以下可能的方面
-一OTA 更新策略
© 对新识别到的触发条件和功能不足进行分类;
e 对新识别的触发条件和功能不足的影响进行分析;
© OTA 更新过程和更新后对其他车辆功能的影响分析;
© OTA 更新后功能的安全运行。
一一OTA 更新的条件:
e 车辆状态;
© 功能状态。
示例: 在 OTA 更新过程中,部分车辆功能(例如,驾驶功能)可能不可用,因此,车辆要停在不妨碍其他交通流正常
通行的地方进行升级。
— OTA 更新中的 HMI 考虑，
© OTA 更新需要获得用户同意;
© OTA 更新前需要提供充分信息给用户,从而避免用户误用。例如,OTA 更新的目的、可
能受影响的车辆功能.更新进度和预期结束时间等。

146

--- Page 157 ---
GB/T 43267一2023

附 录 E
(资料性)
自动驾驶系统风险接受准则示例

E.1 概述

Hi GB/T 34590(所有部分) ,不合理风险被定义为按照现行的安全观念,被判断为在某种环境下不
可接受的风险。一种可能的对*现行安全观念”的解释来自联合国 157 号法规。其中*不合理风险”被定
义为:与有经验上且专注的人类驾驶员相比,对驾驶员 .乘客和其他道路参与者的整体风险水平升高了。
根据该定义,一种可行的方法是从自动驾驶系统在 ODD 内安全性能的角度来建立风险接受准则 。
即:自动芍驶系统(包括后援用户,如必要)在其 ODD 内所有可合理预见的场景下需要具备与有经验且
专注的驾驶员相同或者更好的安全性能。
根据第 3 章*接受准则”的定义,可以进一步解释为如下两个层面。
-一将 ODD 内可合理预见的场景进行必要的划分,划分为若干个子场景,并论证,与有经验且专
注的驾驶员相同 ,自动驾驶系统(包括后援用户,如必要)可应对每个子场景,不会产生不合理
风险。即满足风险接受准则中的第一层准则 。
一一对于自动驾驶系统,ODD 内可合理预见的场景可能是复杂多样的,可能很难完整列举所有子
场景,因此,还需要进一步论证,未能充分考虑的子场景(例如:未知场景)下的风险以及已划分
的子场景下的残余风险(如必要)是否足够低。即满足风险接受准则中的第二层准则 。
其中对于是否满足第二层准则 ,可从整车事故数和/或伤亡人数的层面来进行论证。其中对于事故
数,需要统计或刻画在对应 ODD 下有经验上且专注的人类驾驶员发生事故的平均运行里程(或者平均运
行时长) ,并论证自动驾驶系统发生单次事故的平均里程更高(或者平均运行时长更长)。其中对于伤亡
人数,论证逻辑相同,仅是将事故数指标替换为伤亡人数(包括死亡人数和受伤人数) 。需要论证自动驾
驶系统不会导致更高的死亡人数和受伤人数。
注1: 对应 ODD 下的人驾数据可能是统计得到的,也可能是估计得到的。考虑到人驾数据采集过程中可能偏差,必
要的裕量可能是需要的。
注 2: 其中伤亡人数也包含自车人员伤亡数量。
注3: 受伤进一步细分为重伤 .轻伤等不同情况 。
注 4: 对应 ODD 的边界事故数据或伤亡数据也需考虑。
注5: 由自车引发(自车责任)的事故或伤亡都需统计,尽管此时自车可能未发生磁撞事故。
其中对于是否满足第一层准则,可通过以下至少一个层面进行量化，
-一整车行为层面:通过与有经验且专注的驾驶员比较,论证自动驾驶系统(包括后援用户,如必
要)可应对 ODD 内可合理预见的子场景。
示例 1: 自动驾驶系统操作车辆制动系统(例如,0.45g )减速,从而避免与前车的追尾碰撞 。
注 6: 对有经验上且专注的驾驶员(例如,有能力以 0.45g 的合理制动避免与前车的追尾碰撞)的刻画是需要的,从而
用于判定风险是否可接受。
示例2: 当自动驾驶系统发出接管请求时,后援用户在合理的时间内获取驾驶权,从而继续执行动态驾驶任务 。
注7: 对于后援用户能力的举证能被用于论证风险接受准则是否达成。
注8: 安全策略(例如,最小风险制动 .警告和降级,接管请求 .远程辅助等)能被用于论证风险接受准则是否达成。
注9: ODD 边界的风险也需考虑。
-一要素层面 :自动驾驶系统(后援接管用户,如必要)在每个 ODD 内可合理预见的子场景,具备
与有经验上且专注的驾驶员相同或者更好的性能(包括态势感知性能 .决策规划性能和车辆操作
性能) ,从而确认残余风险可接受。

147

--- Page 158 ---
GB/T 43267一2023

示例 3: 论证决策系统风险可接受的一个论据可以是 ADS 与其他道路参与者保持了合理的安全距离或安全时间间
隔。其中与有经验且专注的驾驶员相比 ,既不保守,也不激进。

示例 4: 论证感知系统风险可接受的一个论据可以是在 ODD 内自动驾驶系统感知系统对于交通信号灯识别的准确
率至少与有经验且专注的驾驶员相同。

注 10: 安全策略(例如,最小风险制动 .警告和降级 ,接管请求 .远程辅助等)能被用于论证风险接受准则是否达成。

注 11: ODD 边界的风险也需考虑。

E.2 ”单个子场景下风险接受准则示例

本条提供了如何建立单个子场景风险接受准则基准(对应第一层接受准则) 的示例方法。具体
的,提供了一个在交叉路口推导合理安全时间间隔的示例。通过与有经验且专注的驾驶员相比,避免
ADS 系统决策不合理。

图E.1 无保护左转示意图

考虑如图 E.1 所示的无保护左转场景,其中自车(灰色车)在左转车道向北运动,期望在无信号灯的
路口左转。自车需要考虑由北向南行驶的对向来车(称为他车,白色车)的风险。自车和他车到达轨迹
交汇点 A 的时间分别记为 2, 和心,则此时,有经验且专注的驾驶员需要避免如下不安全情形(见
图 E.2) :

一一情形 1:自车未礼让,自车先到达交汇点,但是没有为他车预留充足的时间间隔,即,一

SX);

一一情形 2. FEAL LL, (EE At EP AG I AS, AL lh EE Vid fa PAL VE BN 6) — 2. Xe;

不安全

礼让(安全)                                                                 不礼让(安全)

一和2       0                     xX                           ah
图E.2 不同时间间隔下的安全性

假定和 和1 都在 5 s 以内,对人类驾驶员通过十字路口的时间间隔统计结果见图 E.3 和图 E.4。

当自车先通过交汇点时,此时,参数 X, 的累积分布函数如图 E.3 所示,即给出了当自车首先通过
交汇点时,为他车预留的时间间隔的分布。其中该时间间隔取决于当自车通过交汇点时刻点时他车的
速度以及他车与交汇点的距离。

148

--- Page 159 ---
GB/T 43267一2023

时间间隔统计结果
(自车未礼让)                                              100.0%
140                                     100%
90%
120
80%
100                                     70%
60%
80                                       €
:                                        :
=                                      50%
*                                        =
3s
60                                       z
40%
40                                     30%
20%
20
3.                             10%
0.8% 1.5% 3.0%
0 0 12
0                                     0%

0.20.4 0.6 0.81.0 1.2 1.4 1.6 1.8 2.0 2.2 2.4 2,6 2.8 3.03.2 3.4 3,63.84.04.2 4.44.6 4.85.0
BH,

图E.3 SAX, 的分布

基于对有经验上且专注驾驶员的定义,可获得一个合理的参数 X, ,即自车需避免通过十字路口时为
他车预留的时间间隔小于或等于该参数。

当他车先通过交汇点时,此时,参数 X， 的累计分布函数如图 E.4 所示。即给出了当自车礼让他
车,使得他车先经过交汇点时刻,自车与他车保持的时间间隔分布。同样的,也可获得一个合理的参数
X;:,即自车避免与他车保持的时间间隔小于或等于该参数。

149

--- Page 160 ---
GB/T 43267一2023

时间间隔统计结果
《自车礼让)

累积概率分布

0.20.40.60.81.01.21.41.61.82.02.22.42.62.83.03.23.43.63.84.04.24.44.64.85.0
BH,

 E4 参数 X。 的分布

通过合理地定义参数 X， 和 X: ,可帮助自动驾驶系统设计,避免自动驾驶系统决策不合理。因
此,可论证:在无保护左转场景下,由于与有经验且专注的驾驶员具有类似的决策逻辑,从而不存在不合
理风险。

考虑到现实驾驶场景自车与他车并不总是匀速运动,因此两车到达交汇点的时间间隔是动态变化
的,并且自车与他车可能存在一定交互博弈,但是驾驶决策的逻辑是类似的。

需要说明的是本条为了说明相应的概念,进行了充分的简化。在实际决策中,还需要考虑其他影响
因素。例如,他车是否按照预测的速度 .轨迹进行运动 .自车的执行系统是否会按照 ADS 系统要求进行
运动控制.场景中是否存在弱势交通参与者天气 .路面状况等其他环境因素等。

150

--- Page 161 ---
(1)
[2]
[3]
[4]
[5]
[6]
[7]
[8]
[9]
[10
[11

2:Electrical transient conduction along supply lines only

GB/T 43267一2023

参考 文 献

GB/T 20438(所有部分) 电气/电子/可编程电子安全相关系统的功能安全
GB/T 34590.2一2022 ”道路车辆”功能安全 第2部分:功能安全管理
GB/T 34590.3一2022 ”道路车辆 功能安全 第 3 部分:概念阶段

GB/T 34590.4一2022 ”道路车辆 功能安全 第4部分:产品开发:系统层面
GB/T 34590.5 道路车辆”功能安全 第5部分:产品开发:硬件层面
GB/T 34590.6一2022 ”道路车辆 功能安全 第6 部分:产品开发:软件层
GB/T 34590.7一2022 ”道路车辆 功能安全 第7部分:生产.运行.服务和报废
GB/T 34590.8—2022 ”道路车辆”功能安全 第8 部分:支持过程
GB/T 34590.10一2022 ”道路车辆”功能安全 第 10 部分:指南
GB/T 40429一2021 汽车驾驶自动化分级

ISO 7637-2 Road vehicles一Electrical disturbances from conduction and coupling一Part

=)

[12] ISO 7637-3 Road vehicles—Electrical disturbances from conduction and coupling—Part

3: Electrical transient transmission by capacitive and inductive coupling via lines other than

supply lines

[13] ISO 10605 Road vehicles—Test methods for electrical disturbances from electrostatic dis-
charge

[14] ISO 11452-2    Road vehicles—Component test methods for electrical disturbances
from narrowband radiated electromagnetic energy Part 2:Absorber-lined shielded enclosure

[15] ISO 11452-4    Road vehicles—Component test methods for electrical disturbances
from narrowband radiated electromagnetic energy—Part 4: Harness excitation methods

[16] ISO/IEC/IEEE 15288,Systems and software engineering—System life cycle processes

[17] ISO 20077 Road Vehicles一Extended vehicle (ExVe) methodology

[18] ISO/SAE 21434 Road vehicles—Cybersecurity engineering

[19] ISO 21448 Road vehicles—Safety of the intended functionality

[20] ISO 34502 Road vehicles—Engineering framework and process of scenario-based safety
evaluation

[22

[21] BSI PAS 1883;2020 AVSC Best Practice for Describing an Operational Design Domain

EN 50126-2:2017 Railway Applications—The Specification and Demonstration of Relia-

bility, Availability, Maintainability and Safety (RAMS)—Part 2:Systems Approach to Safety

[23] IATF 16949 Quality management system requirements for automotive production and

relevant
[24
(25
[26

service parts organisations

IEC 60825 Safety of laser products

SAE J3016 Surface Vehicle Recommended Practice

COMMISSION RECOMMENDATION of 22 December 2006 on safe and efficient in-vehi-

cle information and communication systems; update of the European Statement of Principles on hu-
man machine interface (2007/78/EC) : http: //data.europa.eu/eli/reco/2007/78/oj

[27] Taxonomy and Definitions for Terms Related to Driving Automation Systems for On-Road

Motor V

ehicles, SAE Recommended Practice J3016 _ 201806. https: //www. sae. org/standards/con-

tent/j3016_201806

151

--- Page 162 ---
GB/T 43267一2023

[28] ULBRICH,S.,MENZEL,T.,RESCHKA,A.,SCHULDT,EF.and MAUER, M." Defining
and Substantiating the Terms Scene, Situation,and Scenario for Automated Driving",2015 IEEE 18th
International Conference on Intelligent Transportation Systems (ITSC), https: //doi. org/10. 1109/
ITSC.2015.164

[29] Statistics and data about reported accidents and casualties on public roADS in Great Britain
(STATS19) ,UK Department for Transport, https: //www.gov.uk/government/collections/road-acci-
dents-and-safety-statistics

[30] German In-Depth Accident Study (GIDAS), accident data collection project in

Germany, https: //www.gidas.org/en/willkommen/

[31] NASS General Estimates System (GES), US Department of Transportation, https: //
www.nhtsa.gov/national-automotive-sampling-system/nass-general-estimates-system

[32] CARE database (Community database on Accidents on the RoADS in Europe).
https: //ec. europa. eu/transport/road _ safety/specialist/observatory/ methodology _ tools/about _ care
_en
33] IGLAD (Europe) . http://www. iglad.net/

34] Code of Practice for the design and evaluation of ADAS. EU Project RESPONSE 3;
http: //www.acea. be/uploADS/ publications/20090831_Code_of_Practice_ADAS. pdf

[35] DIN SAE SPEC 91381;2019.“Terms and Definitions Related to Testing of Automated Ve-
hicle Technologies”

[36] KUHN.D.S..KACKER.R.N.and LEI, Y..” Combinatorial testing”. NIST report. June
25,2012,https: //www.nist.gov/publications/combinatorial-testing

[37] KELLY.T.AND ROB WEAVER.R.“The Goal Structuring Notation A Safety Argument
Notation”, https: //wwwusers.cs. york.ac.uk/tpk/dsn2004.pdf

[38] Stellet.J.E.,Brade T.,Poddey A..Jesenski S.and Branz, W.“Formalisation and algorithmic
approach to the automated driving validation problem”, 2019 IEEE Intelligent Vehicles Symposium
(IV) https: //doi.org/10.1109/TVS.2019.8813894

[39] SHAPPELL. S. A. and WIEGMANN. D. A.. The Human Factors Analysis and
Classification-System - HFACS,February 2000 Final Report. This document is available to the public
through the National Technical Information Service, Springfield, Virginia 22161

[40] HARTJEN,L.,PHILIPP,R.,SCHULDT,F.,HOWAR F.AND FRIEDRICH B,“Classifi-

cation of Driving Maneuvers in Urban Traffic for Parametrization of Test Scenarios” in;

9.Tagung Au-
tomatisiertes Fahren, Lehrstuhl fiir Fahrzeugtechnik mit TUV SUD Akademie; https: //mediatum.
ub,tum.de/1535131,.
[41] LEVESON, N. Engineering a Safer World—Systems Thinking Applied to Safety.
MIT Press. Cambridge, Massachusetts: USA 2011
[42] LEVESON.N., AND THOMAS, J. STPA-Handbook. 2018. Available for download at
psas.scripts.mit.edu/home/get_file.php? name=STPA_handbook. pdf
[43] ABDULKHALEQ,A.ET AL A Systematic Approach Based on STPA for Developing a
Dependable Architecture for Fully Automated Driving Vehicles, 4th European STAMP Workshop
2016. Procedia Engineering, 179, 41-51, 2017 https://www. sciencedirect. com/science/article/
pii/S1877705817312109
(44) ABDULKHALEQ.A.ET AL Using STPA in Compliance with ISO 26262 for Developing a
Safe Architecture for Fully Automated Vehicles.arXiv preprint arXiv; 1703.03657.2017.

152


--- Page 163 ---
GB/T 43267一2023

[45] ABDULKHALEQ,A AND WAGNER,S.AND LEVESON,N.A Com prehensive Safety
Engineering approach for Software-Intensive Systems Based on STPA.Procedia Engineering, 128 ; 2-
11,2015, https: //www.researchgate. net/publication/265508075_Experiences_with_Applying_STPA_
to_SoftwareIntensive_Systems_in_the_Automotive_Domain
[46] SABALIAUSKAITE,.G.AND SHEN LIEW.L.AND CUI, J. Integrating Autonomous Ve-
hicle Safety and Security Analysis Using STPA Method and the Six-Step Model, International
Journal on Advances in Security. 11(18-2) ; 160-169 .2018.
[47] ABDULKHALEQ,A.ET AL A Systematic Approach Based on STPA for Developing a
Dependable Architecture for Fully Automated Driving Vehicles
[48] FABRIS,S.,PRIDDY.J.and HARRIS, F..“Method for Hazard Severity Assessment for
the Case of Unintended Deceleration”.presented at 2012 VDA Auto SYS conference in Berlin,
[49] PIAO.J..and MCDONALD. M. ‘Low speed car following behaviour from floating vehicle
data’. IEEE IV2003 Intelligent Vehicles Symposium.
[50] ALLEN, R., MAGDALENO, R., SERAFIN, C., ECKERT, S. ET AL.. “Driver Car
Following Behavior Under Test Track and Open Road Driving Condition,” SAE Technical Paper
970170,1997 https: //doi.org/10.4271/970170

[51] NHTSSA Traffic Safety Facts 2015, https: //crashstats. nhtsa. dot. gov/ Api/Public/ View-
Publication/812384

[52] FABRIS.S..PRIDDY.J.and HARRIS.F..“Method for hazard severity assessment for the

case of undemanded deceleration.”., Presented at VDA Automotive SYS Conference. Berlin, June

19/20,2012, https: //www.researchgate, net/publication/344452155_Method_for_hazard_severity_as-

sessment_for_Method_for_hazard_severity_assessment_for_the_case_of_undemanded_deceleration_-_
Simone_Fabris.

[53] LITTLEWOOD B.and WRIGHT.D..“Some Conservative Stopping Rules for the Opera-
tional Testing of SafetyCritical Software” ,IEEE Trans.SW Engng. ,23(11) .673-683,Nov.1997
[54] SIPOC— Wikipedia, https: //en.wikipedia.org/wiki/SIPOC
5] HIRSENKORN, N., KOLSI, H., SELMI, M., SCHAERMANN, A., HANKE, T..
RAUCH. A., RASSHOFER, R., BIEBL, E.: Learning Sensor Models for Virtual Test and
Development. 11. Workshop Fahrerassistenzsysteme und automatisiertes Fahren, UniDAS,
Walting,2017
56] E.DE GELDER AND J. P. PAARDEKOOPER. “* Ass
Systems using real-life scenarios,” IEEE Intell. Veh.Symp.Proc. .no.IV,pp.589-594, 2017,

ssment of Automated Driving

[57] Functional Mockup Interface, http: //functional-mockup-interface.org/

[58] ASAM OpenDRIVE. http: //www.asam. net/standards/detail/opendrive/

[59] ASAM OpenCRG http: //www.asam.net/standards/detail/opencrg/

[60] ASAM OpenSCENARIO.http://www.asam.net/standards/detail/openscenario/
[61] Open Simulation Interface (OSD , https: //github.com/OpenSimulationInterface
[62] Navigation Data Standard, https: //www.nds-association.org/

[63] CityGML http://www.opengeospatial.org/standards/citygml

[64] VAICENAVICIUS, J., WIKLUND, T., GRIGATE, A., VYSNIAUSKAS, I. and
KEEN,S. D. ‘Self-driving car safety quantification via component-level analysis’. SAE International
Journal of Connected and Automated Vehicles, Volume 4,Issue 1.2021.

[65] SHALEV-SCHWARZ S.,SHAMMAH S.,SHASHUA A.,On a Formal Model of Safe and
153


--- Page 164 ---
GB/T 43267一2023

Scalable Self-driving Cars https; //arxiv.org/abs/1708.06374v6
[66] NISTER D.,LEE H.-L..NG J., WANG Y..An Introduction to the Safety Force Field,
https: //www. nvidia. com/content/dam/en-zz/Solutions/self-driving-cars/safety-force-field/an-intro-
duction-to the-safety-force-field-v2. pdf

[67] FRAADE-BLANDAR L,BLUMENTHAL M.S.,ANDERSON J.M.KALRA N,-RAND;
Measuring Automated Vehicle Safety-https://www. rand. org/content/dam/rand/pubs/research _ re-
ports/RR2600/RR2662/RAND_RR2662. pdf

[68] KENDALL.A.and GAL, Y.,“What Uncertainties Do We Need in Bayesian Deep Learning
for Computer Vision?”,NIPS 2017.

[69] PHAN,B..KHAN,.S..SALAY,R.and CZARNECKI. K..“Bayesian Uncertainty Quantifi-
cation with Synthetic Data”.WAISE 2019.

[70] KOOPMAN. P.and WAGNER, M..“ Autonomous Vehicle Safety; An Interdisciplinary
Challenge,” IEEE Intelligent Transportation Systems Magazine, Special Issue on SSIV,2017,in press
Vol.9 #1,Spring 2017.pp.90-96

[71] MOLNAR.C..“A Guide for Making Black Box Models Explainable. 2021. https: //christo-
phm. github.io/interpretable-ml-book/

[72] ZHANG,Q.AND ZHU,S.-C..” Visual Interpretability for Deep Learning: a Survey“,
2018, https: //arxiv.org/abs/1802.00614

[73] LAPUSCHKIN.S.. WALDCHEN, S., BINDER, A.. MONTAVON.G.,SAMEK, W.. and
MULLER.K.-R..” Unmasking Clever Hans predictors and assessing what machines really learn™.

2019,In; Nature Communications 1096 (2019) ,https; //www.nature.com/articles/s41467-019-08987-4

[74] D,4 U.S.Department of Transportation, (Jul.2017).vehicle-to-vehicle communication tech-
nology. [ Online }. Available; https: //www. nhtsa. gov/sites/nhtsa. dot. gov/files/documents/v2v_fact_
sheet_101414_v2a.pdf

[75] S.TSUGAWA.S.JESCHKE, and S.E.SHLADOVER.“A Review of Truck Platooning Pro-
jects for Energy Savings”.,IEEE Transactions on Intelligent Vehicles, vol.1.no.1,2016

(76) J.WANG.J.LIU.and N.KATO.“Networking and communications in autonomous driving:
A survey”. IEEE Communications Surveys & Tutorials, vol.21.no.2,Q2.2019.

[77] 8rd Generation Partnership Project; Technical Specification Group Services and System
Aspects; Enhancement of 3GPP support for V2X scenarios; Stage 1 (Release 16) 3GPP TS 22.186
V16.2.0 (2019-06).

--- Page 165 ---

--- Page 166 ---

--- Page 167 ---

--- Page 168 ---
GB/T 43267-2023

中华人民共和 A
国 家 标 准
道路车辆”预期功能安全
GB/T 43267—2023
中国标准出版社出版发行
北京市朝阳区和平里西街甲 2 号(100029)
北京市西城区三里河北街 16 号(100045
网址:www. spe. net. cn
服务大
2023 年 11 月第一版

%

:400-168-0010

书号 : 155066 © 1-74155

版权专有”侵权必究

2023

GB/T 43267
